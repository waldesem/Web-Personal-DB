{% macro resume_form_macro(resume = {}, neeed_id = true) %}

{% from "elements.html.jinja" import label_macro, input_macro, textarea_macro, btn_group_macro %}

{% set res = {
  "surname": {{ input_macro("surname", "Фамилия", required=true, value=resume['surname']) }},
  "firstname": {{ input_macro("firstname", "Имя", required=true, value=resume['firstname']) }},
  "patronymic": {{ input_macro("patronymic", "Отчество", value=resume['patronymic']) }},
  "birthday": {{ input_macro("birthday", "Дата рождения", type="date", required=true, value=resume['birthday']) }},
  "birthplace": {{ textarea_macro("birthplace", "Место рождения", resume['birthplace']) }},
  "citizenship": {{ input_macro("citizenship", "Гражданство", value=resume['citizenship']) }},
  "dual": {{ input_macro("dual", "Двойное гражданство", value=resume['dual']) }},
  "inn": {{ input_macro("inn", "ИНН", value=resume['inn']) }},
  "snils": {{ input_macro("snils", "СНИЛС", value=resume['snils']) }},
  "marital": {{ input_macro("marital", "Семейное положение", value=resume['marital']) }},
  "addition": {{ textarea_macro("addition", "Дополнительная информация", resume['addition']) }},
  "destination": {{ textarea_macro("destination", "Материалы", resume['destination']) }},
  "username": {{ input_macro("username", "Пользователь", value=resume['username']) }},
} %}

{% if neeed_id %}
<form 
  class="form form-check"   
  hx-post="{{ url_for('route.post_item_id', item='persons', item_id=id) }}"
  hx-trigger="submit"
  hx-target="#persons"
  hx-swap="innerHTML"
>
{% else %}
<form 
  class="form form-check" 
  hx-post="{{ url_for('route.take_resume') }}"
  hx-trigger="submit"
  hx-target="#staffsec"
  hx-swap="innerHTML"
>
{% endif %}

  {% if neeed_id %}
    {{ input_macro("id", "id", type="hidden", value=resume['id']) }}
  {% endif %}

  {% for label, values in res.items() %}
    {% call label_macro(label) %}
      {{ values }}
    {% endcall %}
  {% endfor %}

  {{ btn_group_macro(cancel = true, item = 'persons') }}
</form>
{% endmacro %}