const __vite__fileDeps=["./ActionHeader-BqcdmkJM.js","./index-BhwzwnLH.js","./index-6fGrG267.css","./ActionIcons-BkvQs5mF.js","./DocumentForm-CUEnbCgK.js","./utilities-DuY9392d.js","./state-BY_Xl-td.js","./LabelSlot-DtLQ-bg4.js","./_plugin-vue_export-helper-DlAUqK2U.js","./LabelSlot-BKRWK_aH.css"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
import{d as y,i as g,n as S,o as n,c as s,b as l,u as t,g as A,q as E,F as b,r as L,w as i,s as V,A as $,y as r,t as d,e as v,f as _}from"./index-BhwzwnLH.js";import{s as c}from"./state-BY_Xl-td.js";import"./utilities-DuY9392d.js";const C={key:1,class:"collapse show",id:"document"},P={key:1},R={key:2},F=y({__name:"DocumentDiv",setup(T){const D=v(()=>_(()=>import("./ActionHeader-BqcdmkJM.js"),__vite__mapDeps([0,1,2]),import.meta.url)),k=v(()=>_(()=>import("./ActionIcons-BkvQs5mF.js"),__vite__mapDeps([3,1,2]),import.meta.url)),p=v(()=>_(()=>import("./DocumentForm-CUEnbCgK.js"),__vite__mapDeps([4,1,2,5,6]),import.meta.url)),u=v(()=>_(()=>import("./LabelSlot-DtLQ-bg4.js"),__vite__mapDeps([7,1,2,8,9]),import.meta.url));g(async()=>{await c.getItem("documents")});const e=S({action:"",itemId:"",item:{},showActions:!1});function f(I){c.updateItem(e.value.action,"documents",e.value.itemId,I),e.value.action="",e.value.itemId=""}return(I,a)=>(n(),s(b,null,[l(t(D),{id:"document",header:"Документы",action:e.value.action,onAction:a[0]||(a[0]=o=>e.value.action=e.value.action?"":"create")},null,8,["action"]),e.value.action==="create"?(n(),A(t(p),{key:0,docs:e.value.item,onSubmit:f,onCancel:a[1]||(a[1]=o=>{e.value.action="",e.value.itemId=""})},null,8,["docs"])):E("",!0),t(c).anketa.documents.length?(n(),s("div",C,[(n(!0),s(b,null,L(t(c).anketa.documents,(o,w)=>(n(),s("div",{key:w,onMouseover:a[3]||(a[3]=m=>e.value.showActions=!0),onMouseout:a[4]||(a[4]=m=>e.value.showActions=!1),class:"card card-body mb-3"},[e.value.action==="update"&&e.value.itemId===o.id.toString()?(n(),A(t(p),{key:0,docs:e.value.item,onSubmit:f,onCancel:a[2]||(a[2]=m=>{e.value.action="",e.value.itemId=""})},null,8,["docs"])):(n(),s("div",P,[l(t(u),null,{default:i(()=>[V(l(t(k),{onDelete:m=>t(c).deleteItem(o.id.toString(),"documents"),onUpdate:m=>{e.value.action="update",e.value.item=o,e.value.itemId=o.id.toString()}},null,8,["onDelete","onUpdate"]),[[$,e.value.showActions]])]),_:2},1024),l(t(u),{label:"Вид документа"},{default:i(()=>[r(d(o.view),1)]),_:2},1024),l(t(u),{label:"Номер документа"},{default:i(()=>[r(d(o.number),1)]),_:2},1024),l(t(u),{label:"Серия документа"},{default:i(()=>[r(d(o.series),1)]),_:2},1024),l(t(u),{label:"Дата выдачи"},{default:i(()=>[r(d(new Date(String(o.issue)).toLocaleDateString("ru-RU")),1)]),_:2},1024),l(t(u),{label:"Кем выдан"},{default:i(()=>[r(d(o.agency),1)]),_:2},1024)]))],32))),128))])):(n(),s("p",R,"Данные отсутствуют"))],64))}});export{F as default};
