const __vite__fileDeps=["./ActionHeader-Cm_xCXqT.js","./index-BYAJzIZ5.js","./index-6fGrG267.css","./ActionIcons-CksC8ZcN.js","./DocumentForm-gDG9w6E3.js","./utilities-DuY9392d.js","./state-p7j6PBAe.js","./LabelSlot-B-p4gUyz.js","./_plugin-vue_export-helper-DlAUqK2U.js","./LabelSlot-BKRWK_aH.css"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
import{d as A,i as y,n as E,o as n,c as d,b as l,u as t,g as p,B as g,F as I,r as L,w as i,q as R,z as V,x as s,t as r,e as v,f as _}from"./index-BYAJzIZ5.js";import{s as c}from"./state-p7j6PBAe.js";import"./utilities-DuY9392d.js";const $={key:1,class:"collapse show",id:"document"},C={key:1},x={key:2},h=A({__name:"DocumentDiv",setup(B){const w=v(()=>_(()=>import("./ActionHeader-Cm_xCXqT.js"),__vite__mapDeps([0,1,2]),import.meta.url)),S=v(()=>_(()=>import("./ActionIcons-CksC8ZcN.js"),__vite__mapDeps([3,1,2]),import.meta.url)),f=v(()=>_(()=>import("./DocumentForm-gDG9w6E3.js"),__vite__mapDeps([4,1,2,5,6]),import.meta.url)),u=v(()=>_(()=>import("./LabelSlot-B-p4gUyz.js"),__vite__mapDeps([7,1,2,8,9]),import.meta.url));y(async()=>{await c.getItem("documents")});const e=E({action:"",itemId:"",item:{},showActions:!1});function D(b){c.updateItem(e.value.action,"documents",e.value.itemId,b),e.value.action="",e.value.itemId=""}return(b,a)=>(n(),d(I,null,[l(t(w),{id:"document",header:"Документы",action:e.value.action,onAction:a[0]||(a[0]=o=>e.value.action=e.value.action?"":"create")},null,8,["action"]),e.value.action==="create"?(n(),p(t(f),{key:0,docs:e.value.item,onSubmit:D,onCancel:a[1]||(a[1]=o=>{e.value.action="",e.value.itemId=""})},null,8,["docs"])):g("",!0),t(c).anketa.documents.length?(n(),d("div",$,[(n(!0),d(I,null,L(t(c).anketa.documents,(o,k)=>(n(),d("div",{key:k,onMouseover:a[3]||(a[3]=m=>e.value.showActions=!0),onMouseout:a[4]||(a[4]=m=>e.value.showActions=!1),class:"card card-body mb-3"},[e.value.action==="update"&&e.value.itemId===o.id.toString()?(n(),p(t(f),{key:0,docs:e.value.item,onSubmit:D,onCancel:a[2]||(a[2]=m=>{e.value.action="",e.value.itemId=""})},null,8,["docs"])):(n(),d("div",C,[l(t(u),null,{default:i(()=>[R(l(t(S),{onDelete:m=>t(c).deleteItem(o.id.toString(),"documents"),onUpdate:m=>{e.value.action="update",e.value.item=o,e.value.itemId=o.id.toString()}},null,8,["onDelete","onUpdate"]),[[V,e.value.showActions]])]),_:2},1024),l(t(u),{label:"Вид документа"},{default:i(()=>[s(r(o.view),1)]),_:2},1024),l(t(u),{label:"Номер документа"},{default:i(()=>[s(r(o.number),1)]),_:2},1024),l(t(u),{label:"Серия документа"},{default:i(()=>[s(r(o.series),1)]),_:2},1024),l(t(u),{label:"Дата выдачи"},{default:i(()=>[s(r(new Date(String(o.issue)).toLocaleDateString("ru-RU")),1)]),_:2},1024),l(t(u),{label:"Кем выдан"},{default:i(()=>[s(r(o.agency),1)]),_:2},1024),l(t(u),{label:"Дата создания"},{default:i(()=>[s(r(new Date(String(o.created)).toLocaleDateString("ru-RU")),1)]),_:2},1024),o.updated?(n(),p(t(u),{key:0,label:"Обновлено"},{default:i(()=>[s(r(new Date(String(o.updated)).toLocaleDateString("ru-RU")),1)]),_:2},1024)):g("",!0)]))],32))),128))])):(n(),d("p",x,"Данные отсутствуют"))],64))}});export{h as default};
