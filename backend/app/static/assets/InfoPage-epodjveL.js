const __vite__fileDeps=["./HeaderDiv-DB0skjjr.js","./index-BhwzwnLH.js","./index-6fGrG267.css","./SelectDiv-BunRazOZ.js","./InputElement-D-WtkEvF.js","./TableSlots-DuKEsUef.js"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
import{d as y,n as E,i as S,c as m,b as n,u as s,w as c,z as w,a as e,F as f,j as I,o as _,y as A,t as p,r as O,e as i,f as d}from"./index-BhwzwnLH.js";import{c as g,d as P,a as T}from"./state-BY_Xl-td.js";import{s as x}from"./utilities-DuY9392d.js";const C=e("tr",null,[e("th",{width:"45%"},"Решение"),e("th",null,"Количество")],-1),L={class:"row mb-3"},k=e("label",{class:"col-form-label col-md-1",for:"region"}," Регион: ",-1),B={class:"col-md-3"},R=e("label",{class:"col-form-label col-md-1",for:"start"}," Период: ",-1),U={class:"col-md-2"},$={class:"col-md-2"},M=y({__name:"InfoPage",setup(F){const b=i(()=>d(()=>import("./HeaderDiv-DB0skjjr.js"),__vite__mapDeps([0,1,2]),import.meta.url)),h=i(()=>d(()=>import("./SelectDiv-BunRazOZ.js"),__vite__mapDeps([3,1,2]),import.meta.url)),v=i(()=>d(()=>import("./InputElement-D-WtkEvF.js"),__vite__mapDeps([4,1,2]),import.meta.url)),V=i(()=>d(()=>import("./TableSlots-DuKEsUef.js"),__vite__mapDeps([5,1,2]),import.meta.url)),u=new Date,t=E({stat:{region:g.regions.main,checks:{},start:new Date(u.getFullYear(),u.getMonth(),1).toISOString().slice(0,10),end:u.toISOString().slice(0,10)}});async function r(){try{const o=await P.get(`${x}/information`,{params:{start:t.value.stat.start,end:t.value.stat.end,region:t.value.stat.region}});t.value.stat.checks=o.data}catch(o){o.request.status==401||o.request.status==403?I.push({name:"login"}):console.error(o)}}return S(async()=>{await r()}),(o,l)=>(_(),m(f,null,[n(s(b),{"page-header":`Статистика по региону ${t.value.stat.region} 
            за период c ${t.value.stat.start} по ${t.value.stat.end} г.`},null,8,["page-header"]),n(s(V),{class:w("table table-hover table-responsive align-middle py-3")},{caption:c(()=>[A(p("Решения по кандидатам"))]),thead:c(()=>[C]),tbody:c(()=>[(_(!0),m(f,null,O(t.value.stat.checks,(a,D)=>(_(),m("tr",{key:a},[e("td",null,p(a),1),e("td",null,p(D),1)]))),128))]),_:1}),e("div",L,[k,e("div",B,[n(s(h),{place:"Регион",name:"region",select:s(g).regions,disable:!s(T).hasAdmin,modelValue:t.value.stat.region,"onUpdate:modelValue":l[0]||(l[0]=a=>t.value.stat.region=a),onSubmitData:r},null,8,["select","disable","modelValue"])]),R,e("div",U,[n(s(v),{name:"start",typeof:"date",modelValue:t.value.stat.start,"onUpdate:modelValue":l[1]||(l[1]=a=>t.value.stat.start=a),onSubmitData:r},null,8,["modelValue"])]),e("div",$,[n(s(v),{name:"end",typeof:"date",modelValue:t.value.stat.end,"onUpdate:modelValue":l[2]||(l[2]=a=>t.value.stat.end=a),onSubmitData:r},null,8,["modelValue"])])])],64))}});export{M as default};
