const __vite__fileDeps=["./ActionHeader-BqcdmkJM.js","./index-BhwzwnLH.js","./index-6fGrG267.css","./ActionIcons-BkvQs5mF.js","./StaffForm-DSVg0_R6.js","./utilities-DuY9392d.js","./LabelSlot-DtLQ-bg4.js","./_plugin-vue_export-helper-DlAUqK2U.js","./LabelSlot-BKRWK_aH.css"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
import{d as w,i as D,n as E,o as n,c as s,b as i,u as a,g as p,q as g,F as I,r as V,w as m,s as $,A as C,y as A,t as k,e as u,f as d}from"./index-BhwzwnLH.js";import{s as l}from"./state-BY_Xl-td.js";import"./utilities-DuY9392d.js";const L={key:1,class:"collapse show",id:"staff"},P={key:1},T={key:2},O=w({__name:"StaffDiv",setup(h){const y=u(()=>d(()=>import("./ActionHeader-BqcdmkJM.js"),__vite__mapDeps([0,1,2]),import.meta.url)),S=u(()=>d(()=>import("./ActionIcons-BkvQs5mF.js"),__vite__mapDeps([3,1,2]),import.meta.url)),v=u(()=>d(()=>import("./StaffForm-DSVg0_R6.js"),__vite__mapDeps([4,1,2,5]),import.meta.url)),f=u(()=>d(()=>import("./LabelSlot-DtLQ-bg4.js"),__vite__mapDeps([6,1,2,7,8]),import.meta.url));D(()=>{l.getItem("staffs")});const t=E({action:"",itemId:"",item:{},showActions:!1});function c(_){l.updateItem(t.value.action,"staffs",t.value.itemId,_),t.value.action="",t.value.itemId=""}return(_,e)=>(n(),s(I,null,[i(a(y),{id:"staff",header:"Должности",action:t.value.action,onAction:e[0]||(e[0]=o=>t.value.action=t.value.action?"":"create")},null,8,["action"]),t.value.action==="create"?(n(),p(a(v),{key:0,onSubmit:c,onCancel:e[1]||(e[1]=o=>{t.value.action="",t.value.itemId=""})})):g("",!0),a(l).anketa.staffs.length?(n(),s("div",L,[(n(!0),s(I,null,V(a(l).anketa.staffs,(o,b)=>(n(),s("div",{key:b,onMouseover:e[3]||(e[3]=r=>t.value.showActions=!0),onMouseout:e[4]||(e[4]=r=>t.value.showActions=!1),class:"card card-body mb-3"},[t.value.action==="update"&&t.value.itemId===o.id.toString()?(n(),p(a(v),{key:0,staff:t.value.item,onSubmit:c,onCancel:e[2]||(e[2]=r=>{t.value.action="",t.value.itemId=""})},null,8,["staff"])):(n(),s("div",P,[i(a(f),null,{default:m(()=>[$(i(a(S),{onDelete:r=>a(l).deleteItem(o.id.toString(),"staffs"),onUpdate:r=>{t.value.action="update",t.value.item=o,t.value.itemId=o.id.toString()}},null,8,["onDelete","onUpdate"]),[[C,t.value.showActions]])]),_:2},1024),i(a(f),{label:"Должность"},{default:m(()=>[A(k(o.position),1)]),_:2},1024),i(a(f),{label:"Департамент"},{default:m(()=>[A(k(o.department),1)]),_:2},1024)]))],32))),128))])):(n(),s("p",T,"Данные отсутствуют"))],64))}});export{O as default};
