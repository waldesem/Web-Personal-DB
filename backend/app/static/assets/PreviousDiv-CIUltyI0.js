const __vite__fileDeps=["./ActionHeader-B5rljA6q.js","./index-BCJo_gEN.js","./index-6fGrG267.css","./ActionIcons-Dw34qmV0.js","./PreviousForm-NvbEHmo5.js","./utilities-B_ayHb2j.js","./LabelSlot-CvGLSY44.js","./_plugin-vue_export-helper-DlAUqK2U.js","./LabelSlot-BKRWK_aH.css"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
import{d as w,i as A,n as E,o,c as s,b as d,u as a,g as v,B as c,F as D,r as L,w as u,q as P,z as R,x as i,t as l,e as _,f}from"./index-BCJo_gEN.js";import{s as p}from"./state-CDYnk2KN.js";import"./utilities-B_ayHb2j.js";const V={key:1,class:"collapse show",id:"previous"},$={key:1},h={key:2},U=w({__name:"PreviousDiv",setup(C){const I=_(()=>f(()=>import("./ActionHeader-B5rljA6q.js"),__vite__mapDeps([0,1,2]),import.meta.url)),b=_(()=>f(()=>import("./ActionIcons-Dw34qmV0.js"),__vite__mapDeps([3,1,2]),import.meta.url)),g=_(()=>f(()=>import("./PreviousForm-NvbEHmo5.js"),__vite__mapDeps([4,1,2,5]),import.meta.url)),r=_(()=>f(()=>import("./LabelSlot-CvGLSY44.js"),__vite__mapDeps([6,1,2,7,8]),import.meta.url));A(async()=>{await p.getItem("previous")});const e=E({action:"",itemId:"",item:{},showActions:!1});function k(y){p.updateItem(e.value.action,"previous",e.value.itemId,y),e.value.action="",e.value.itemId=""}return(y,n)=>(o(),s(D,null,[d(a(I),{id:"previous",header:"Изменение имени",action:e.value.action,onAction:n[0]||(n[0]=t=>e.value.action=e.value.action?"":"create")},null,8,["action"]),e.value.action==="create"?(o(),v(a(g),{key:0,previous:e.value.item,onSubmit:k,onCancel:n[1]||(n[1]=t=>{e.value.action="",e.value.itemId=""})},null,8,["previous"])):c("",!0),a(p).anketa.previous.length?(o(),s("div",V,[(o(!0),s(D,null,L(a(p).anketa.previous,(t,S)=>(o(),s("div",{key:S,onMouseover:n[3]||(n[3]=m=>e.value.showActions=!0),onMouseout:n[4]||(n[4]=m=>e.value.showActions=!1),class:"card card-body mb-3"},[e.value.action==="update"&&e.value.itemId===t.id.toString()?(o(),v(a(g),{key:0,previous:e.value.item,onSubmit:k,onCancel:n[2]||(n[2]=m=>{e.value.action="",e.value.itemId=""})},null,8,["previous"])):(o(),s("div",$,[d(a(r),null,{default:u(()=>[P(d(a(b),{onDelete:m=>a(p).deleteItem(t.id.toString(),"previous"),onUpdate:m=>{e.value.action="update",e.value.item=t,e.value.itemId=t.id.toString()}},null,8,["onDelete","onUpdate"]),[[R,e.value.showActions]])]),_:2},1024),d(a(r),{label:"Фамилия"},{default:u(()=>[i(l(t.surname),1)]),_:2},1024),d(a(r),{label:"Имя"},{default:u(()=>[i(l(t.firstname),1)]),_:2},1024),t.patronymic?(o(),v(a(r),{key:0,label:"Отчество"},{default:u(()=>[i(l(t.patronymic),1)]),_:2},1024)):c("",!0),t.changed?(o(),v(a(r),{key:1,label:"Дата изменения"},{default:u(()=>[i(l(new Date(String(t.changed)).toLocaleDateString("ru-RU")),1)]),_:2},1024)):c("",!0),t.reason?(o(),v(a(r),{key:2,label:"Причина"},{default:u(()=>[i(l(t.reason),1)]),_:2},1024)):c("",!0),d(a(r),{label:"Дата"},{default:u(()=>[i(l(new Date(String(t.created)).toLocaleDateString("ru-RU")),1)]),_:2},1024),t.updated?(o(),v(a(r),{key:3,label:"Обновлено"},{default:u(()=>[i(l(new Date(String(t.updated)).toLocaleDateString("ru-RU")),1)]),_:2},1024)):c("",!0)]))],32))),128))])):(o(),s("p",h,"Данные отсутствуют"))],64))}});export{U as default};
