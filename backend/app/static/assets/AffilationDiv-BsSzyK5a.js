const __vite__fileDeps=["./ActionHeader-BqcdmkJM.js","./index-BhwzwnLH.js","./index-6fGrG267.css","./ActionIcons-BkvQs5mF.js","./AffilationForm-DaoU3yED.js","./utilities-DuY9392d.js","./state-BY_Xl-td.js","./LabelSlot-DtLQ-bg4.js","./_plugin-vue_export-helper-DlAUqK2U.js","./LabelSlot-BKRWK_aH.css"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
import{d as D,i as E,n as g,o as n,c as l,b as i,u as t,g as I,q as S,F as k,r as V,w as u,s as $,A as C,y as f,t as v,e as m,f as c}from"./index-BhwzwnLH.js";import{s as r}from"./state-BY_Xl-td.js";import"./utilities-DuY9392d.js";const L={key:1,class:"collapse show",id:"affilation"},P={key:1},T={key:2},O=D({__name:"AffilationDiv",setup(h){const b=m(()=>c(()=>import("./ActionHeader-BqcdmkJM.js"),__vite__mapDeps([0,1,2]),import.meta.url)),w=m(()=>c(()=>import("./ActionIcons-BkvQs5mF.js"),__vite__mapDeps([3,1,2]),import.meta.url)),_=m(()=>c(()=>import("./AffilationForm-DaoU3yED.js"),__vite__mapDeps([4,1,2,5,6]),import.meta.url)),s=m(()=>c(()=>import("./LabelSlot-DtLQ-bg4.js"),__vite__mapDeps([7,1,2,8,9]),import.meta.url));E(async()=>{await r.getItem("affilations")});const e=g({action:"",itemId:"",item:{},showActions:!1});function p(A){r.updateItem(e.value.action,"affilations",e.value.itemId,A),e.value.action="",e.value.itemId=""}return(A,a)=>(n(),l(k,null,[i(t(b),{header:"Аффилированность",action:e.value.action,onAction:a[0]||(a[0]=o=>e.value.action=e.value.action?"":"create")},null,8,["action"]),e.value.action==="create"?(n(),I(t(_),{key:0,affils:e.value.item,onSubmit:p,onCancel:a[1]||(a[1]=o=>{e.value.action="",e.value.itemId=""})},null,8,["affils"])):S("",!0),t(r).anketa.affilations.length?(n(),l("div",L,[(n(!0),l(k,null,V(t(r).anketa.affilations,(o,y)=>(n(),l("div",{key:y,onMouseover:a[3]||(a[3]=d=>e.value.showActions=!0),onMouseout:a[4]||(a[4]=d=>e.value.showActions=!1),class:"card card-body mb-3"},[e.value.action==="update"&&e.value.itemId===o.id.toString()?(n(),I(t(_),{key:0,affils:e.value.item,onSubmit:p,onCancel:a[2]||(a[2]=d=>{e.value.action="",e.value.itemId=""})},null,8,["affils"])):(n(),l("div",P,[i(t(s),null,{default:u(()=>[$(i(t(w),{onDelete:d=>t(r).deleteItem(o.id.toString(),"affilations"),onUpdate:d=>{e.value.action="update",e.value.item=o,e.value.itemId=o.id.toString()}},null,8,["onDelete","onUpdate"]),[[C,e.value.showActions]])]),_:2},1024),i(t(s),{label:"Тип участия"},{default:u(()=>[f(v(o.view),1)]),_:2},1024),i(t(s),{label:"Организация"},{default:u(()=>[f(v(o.name),1)]),_:2},1024),i(t(s),{label:"ИНН"},{default:u(()=>[f(v(o.inn),1)]),_:2},1024),i(t(s),{label:"Должность"},{default:u(()=>[f(v(o.position),1)]),_:2},1024)]))],32))),128))])):(n(),l("p",T,"Данные отсутствуют"))],64))}});export{O as default};
