const __vite__fileDeps=["./HeaderDiv-C0AWTJb8.js","./index-Dx3HiUnq.js","./index-6fGrG267.css","./IconRelative-BOPiB7Uv.js","./PhotoCard-BvqfuQBI.js","./state-s_e9P3m1.js","./utilities-BVKB9Dez.js","./_plugin-vue_export-helper-DlAUqK2U.js","./PhotoCard-CuArdO6N.css","./AnketaTab-BrhLT1N5.js","./CheckTab-B40OINcq.js","./PoligrafTab-CWhfnpAJ.js","./InvestigateTab-syK745_x.js","./InquiryTab-Bl3gybQY.js"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
import{d as E,i as P,j as h,n as C,c as v,b as o,u as n,a as r,q as c,z as b,F as g,r as O,A as D,o as p,y as R,t as q,e as i,f as l}from"./index-Dx3HiUnq.js";import{s as e,d as V,a as I}from"./state-s_e9P3m1.js";import{b as L,s as w}from"./utilities-BVKB9Dez.js";const j={class:"row mb-3"},B={class:"col-md-10"},x={class:"col-md-2 d-flex justify-content-end"},z={class:"nav nav-tabs nav-justified",role:"tablist"},F=["data-bs-target","onClick"],N={class:"tab-content"},S={id:"AnketaTab",class:"tab-pane show active fade mb-1 py-3",role:"tabpanel"},H={id:"CheckTab",class:"tab-pane fade py-3",role:"tabpanel"},M={id:"PoligrafTab",class:"tab-pane fade py-3",role:"tabpanel"},U={id:"InvestigateTab",class:"tab-pane fade py-3",role:"tabpanel"},G={id:"InquiryTab",class:"tab-pane fade py-3",role:"tabpanel"},Y=E({__name:"ProfilePage",setup(J){const y=i(()=>l(()=>import("./HeaderDiv-C0AWTJb8.js"),__vite__mapDeps([0,1,2]),import.meta.url)),u=i(()=>l(()=>import("./IconRelative-BOPiB7Uv.js"),__vite__mapDeps([3,1,2]),import.meta.url)),$=i(()=>l(()=>import("./PhotoCard-BvqfuQBI.js"),__vite__mapDeps([4,1,2,5,6,7,8]),import.meta.url)),m=i(()=>l(()=>import("./AnketaTab-BrhLT1N5.js"),__vite__mapDeps([9,1,2,5,6]),import.meta.url)),_=i(()=>l(()=>import("./CheckTab-B40OINcq.js"),__vite__mapDeps([10,1,2,5,6]),import.meta.url)),k=i(()=>l(()=>import("./PoligrafTab-CWhfnpAJ.js"),__vite__mapDeps([11,1,2,5,6]),import.meta.url)),T=i(()=>l(()=>import("./InvestigateTab-syK745_x.js"),__vite__mapDeps([12,1,2,5,6]),import.meta.url)),f=i(()=>l(()=>import("./InquiryTab-Bl3gybQY.js"),__vite__mapDeps([13,1,2,5,6]),import.meta.url));P(async()=>{const d=D();e.share.candId=d.params.id;try{const a=await L.get(`${w}/allinone/${e.share.candId}`);[e.anketa.resume,e.anketa.previous,e.anketa.staffs,e.anketa.documents,e.anketa.addresses,e.anketa.contacts,e.anketa.educations,e.anketa.workplaces,e.anketa.affilations,e.anketa.relations,e.anketa.checks,e.anketa.investigations,e.anketa.poligrafs,e.anketa.inquiries]=a.data}catch(a){a.request.status==401||a.request.status==403?h.push({name:"login"}):(console.error(a),V.setAlert("alert-danger",`Ошибка: ${a}`))}});const t=C({tabs:[["AnketaTab","Анкета",m],["CheckTab","Проверки",_],["PoligrafTab","Полиграф",k],["InvestigateTab","Расследования",T],["InquiryTab","Запросы",f]],currentTab:"AnketaTab",tabAction:""});return(d,a)=>(p(),v(g,null,[o(n($)),r("div",j,[r("div",B,[o(n(y),{cls:"text-info py-3","page-header":`${n(e).anketa.resume.surname} ${n(e).anketa.resume.firstname} ${n(e).anketa.resume.patronymic?" "+n(e).anketa.resume.patronymic:""}`},null,8,["page-header"])]),r("div",x,[c(o(n(u),{title:"Взять на проверку","icon-class":"bi bi-person-plus fs-1",hide:n(e).anketa.resume.user_id==n(I).userId,onOnclick:a[0]||(a[0]=s=>n(e).getResume("self"))},null,8,["hide"]),[[b,t.value.currentTab=="AnketaTab"]]),c(o(n(u),{title:"Добавить проверку","icon-class":"bi bi-journal-check fs-1",hide:n(e).anketa.resume.user_id!=n(I).userId,onOnclick:a[1]||(a[1]=s=>t.value.tabAction=t.value.tabAction?"":"create")},null,8,["hide"]),[[b,t.value.currentTab=="CheckTab"]]),c(o(n(u),{title:"Добавить полиграф","icon-class":"bi bi-heart-pulse fs-1",onOnclick:a[2]||(a[2]=s=>t.value.tabAction=t.value.tabAction?"":"create")},null,512),[[b,t.value.currentTab=="PoligrafTab"]]),c(o(n(u),{title:"Добавить расследование","icon-class":"bi bi-incognito fs-1",onOnclick:a[3]||(a[3]=s=>t.value.tabAction=t.value.tabAction?"":"create")},null,512),[[b,t.value.currentTab=="InvestigateTab"]]),c(o(n(u),{title:"Добавить запрос","icon-class":"bi bi-question-square fs-1",onOnclick:a[4]||(a[4]=s=>t.value.tabAction=t.value.tabAction?"":"create")},null,512),[[b,t.value.currentTab=="InquiryTab"]]),o(n(u),{title:"Версия для печати","icon-class":"bi bi-printer fs-1",onClick:a[5]||(a[5]=s=>d.$router.push({name:"print"}))})])]),r("nav",z,[(p(!0),v(g,null,O(t.value.tabs,(s,A)=>(p(),v("button",{key:A,class:R(["nav-link",{active:A===0}]),"data-bs-target":`#${s[0]}`,"data-bs-toggle":"tab",type:"button",role:"tab",onClick:K=>{t.value.currentTab=s[0],t.value.tabAction=""}},q(s[1]),11,F))),128))]),r("div",N,[r("div",S,[o(n(m))]),r("div",H,[o(n(_),{"tab-action":t.value.tabAction,"current-tab":t.value.currentTab,onCancel:a[6]||(a[6]=s=>t.value.tabAction="")},null,8,["tab-action","current-tab"])]),r("div",M,[o(n(k),{"tab-action":t.value.tabAction,"current-tab":t.value.currentTab,onCancel:a[7]||(a[7]=s=>t.value.tabAction="")},null,8,["tab-action","current-tab"])]),r("div",U,[o(n(T),{"tab-action":t.value.tabAction,"current-tab":t.value.currentTab,onCancel:a[8]||(a[8]=s=>t.value.tabAction="")},null,8,["tab-action","current-tab"])]),r("div",G,[o(n(f),{"tab-action":t.value.tabAction,"current-tab":t.value.currentTab,onCancel:a[9]||(a[9]=s=>t.value.tabAction="")},null,8,["tab-action","current-tab"])])])],64))}});export{Y as default};
