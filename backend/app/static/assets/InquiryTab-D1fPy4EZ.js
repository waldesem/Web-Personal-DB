const __vite__fileDeps=["assets/IconRelative-fNadKioN.js","assets/index-BhT_3F5B.js","assets/index-D3owuatg.css","assets/ActionIcons-Bi7YhEuM.js","assets/InquiryForm-CHmnXx-h.js","assets/LabelSlot-C8Y-0GKw.js"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
import{d as q,n as w,J as i,q as E,o as l,c as u,t as p,v as y,u as t,b as o,k as C,K as S,F as I,x as L,E as P,w as r,B as d,C as c,D as V,e as v,f as _}from"./index-BhT_3F5B.js";const R={key:1},T={key:2},x=q({__name:"InquiryTab",setup($){const b=v(()=>_(()=>import("./IconRelative-fNadKioN.js"),__vite__mapDeps([0,1,2]))),k=v(()=>_(()=>import("./ActionIcons-Bi7YhEuM.js"),__vite__mapDeps([3,1,2]))),A=v(()=>_(()=>import("./InquiryForm-CHmnXx-h.js"),__vite__mapDeps([4,1,2]))),s=v(()=>_(()=>import("./LabelSlot-C8Y-0GKw.js"),__vite__mapDeps([5,1,2])));w(async()=>{await i.getItem("inquiry")});const e=E({action:"",itemId:"",item:{},showActions:!1});function D(f){i.updateItem(e.value.action,"inquiry",e.value.itemId,f),e.value.action="",e.value.itemId=""}return(f,n)=>(l(),u(I,null,[p(o(t(b),{title:"Добавить","icon-class":"bi bi-question-square fs-1",onOnclick:n[0]||(n[0]=a=>e.value.action="create")},null,512),[[y,e.value.action!=="create"&&!t(i).share.printPage]]),e.value.action==="create"?(l(),C(t(A),{key:0,onSubmit:D,onCancel:n[1]||(n[1]=a=>{e.value.action="",e.value.itemId=""})})):S("",!0),t(i).anketa.inquiry.length?(l(),u("div",R,[(l(!0),u(I,null,L(t(i).anketa.inquiry,(a,g)=>(l(),u("div",{class:P(["mb-3",{"card card-body":!t(i).share.printPage}]),key:g,onMouseover:n[2]||(n[2]=m=>e.value.showActions=!0),onMouseout:n[3]||(n[3]=m=>e.value.showActions=!1)},[o(t(s),null,{default:r(()=>[p(o(t(k),{onDelete:m=>t(i).deleteItem(a.id.toString(),"inquiry"),onUpdate:m=>{e.value.action="update",e.value.item=a,e.value.itemId=a.id.toString()}},null,8,["onDelete","onUpdate"]),[[y,e.value.showActions]])]),_:2},1024),o(t(s),{label:"Информация"},{default:r(()=>[d(c(a.info),1)]),_:2},1024),o(t(s),{label:"Иннициатор"},{default:r(()=>[d(c(a.initiator),1)]),_:2},1024),o(t(s),{label:"Источник"},{default:r(()=>[d(c(a.source),1)]),_:2},1024),o(t(s),{label:"Сотрудник"},{default:r(()=>[d(c(t(V).users[a.user_id]),1)]),_:2},1024),o(t(s),{label:"Дата запроса"},{default:r(()=>[d(c(new Date(String(a.deadline)).toLocaleDateString("ru-RU")),1)]),_:2},1024)],34))),128))])):(l(),u("p",T,"Данные отсутствуют"))],64))}});export{x as default};
