const __vite__fileDeps=["./LabelSlot-COZEDAF1.js","./index-a1q1DOXp.js","./index-6fGrG267.css","./_plugin-vue_export-helper-DlAUqK2U.js","./LabelSlot-BKRWK_aH.css","./InputElement-CQ2jSRM1.js","./GroupContent-Dn83fNRW.js","./BtnGroup-BMh2ZB5X.js"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
import{d as A,G as E,o as g,c as U,b as a,w as n,u as t,s as w,e as i,f as r}from"./index-a1q1DOXp.js";import{d as c,e as C}from"./state-8kq10HP3.js";import{s as f}from"./utilities-DuY9392d.js";const P=A({__name:"ConnectForm",props:{page:Number,action:String,names:{type:Array,default:[]},companies:{type:Array,default:[]},cities:{type:Array,default:[]},item:{type:Object,default:{}}},emits:["get-contacts","cancel-edit"],setup(V,{emit:v}){const m=i(()=>r(()=>import("./LabelSlot-COZEDAF1.js"),__vite__mapDeps([0,1,2,3,4]),import.meta.url)),u=i(()=>r(()=>import("./InputElement-CQ2jSRM1.js"),__vite__mapDeps([5,1,2]),import.meta.url)),_=i(()=>r(()=>import("./GroupContent-Dn83fNRW.js"),__vite__mapDeps([6,1,2]),import.meta.url)),b=i(()=>r(()=>import("./BtnGroup-BMh2ZB5X.js"),__vite__mapDeps([7,1,2]),import.meta.url)),p=v,s=V,l=E(s.item);async function y(){try{const d=s.action==="create"?await c.post(`${f}/connect`,l.value):await c.patch(`${f}/connect/${s.item.id}`,l.value);console.log(d.status);const e={create:["alert-success","Контакт добавлен"],edit:["alert-info","Контакт обновлен"]};C.setAlert(e[s.action][0],e[s.action][1])}catch(d){console.log(d)}p("get-contacts",s.page)}return(d,e)=>(g(),U("form",{onSubmit:w(y,["prevent"]),class:"form form-check",role:"form"},[a(t(m),{label:"Вид организации"},{default:n(()=>[a(t(u),{place:"Вид",name:"name",lst:"names",selects:s.names,modelValue:l.value.view,"onUpdate:modelValue":e[0]||(e[0]=o=>l.value.view=o)},null,8,["selects","modelValue"])]),_:1}),a(t(m),{label:"Компания"},{default:n(()=>[a(t(u),{place:"Название",name:"company",lst:"companies",selects:s.companies,modelValue:l.value.company,"onUpdate:modelValue":e[1]||(e[1]=o=>l.value.company=o)},null,8,["selects","modelValue"])]),_:1}),a(t(m),{label:"Город"},{default:n(()=>[a(t(u),{name:"city",place:"Город",lst:"cities",selects:s.cities,modelValue:l.value.city,"onUpdate:modelValue":e[2]||(e[2]=o=>l.value.city=o)},null,8,["selects","modelValue"])]),_:1}),a(t(m),{label:"Имя"},{default:n(()=>[a(t(u),{name:"fullname",place:"Имя",modelValue:l.value.fullname,"onUpdate:modelValue":e[3]||(e[3]=o=>l.value.fullname=o)},null,8,["modelValue"])]),_:1}),a(t(m),{label:"Телефон"},{default:n(()=>[a(t(u),{name:"phone",place:"Телефон",modelValue:l.value.phone,"onUpdate:modelValue":e[4]||(e[4]=o=>l.value.phone=o)},null,8,["modelValue"])]),_:1}),a(t(m),{label:"Добавочный"},{default:n(()=>[a(t(u),{name:"adding",place:"Добав",modelValue:l.value.adding,"onUpdate:modelValue":e[5]||(e[5]=o=>l.value.adding=o)},null,8,["modelValue"])]),_:1}),a(t(m),{label:"Мобильный"},{default:n(()=>[a(t(u),{name:"mobile",place:"Мобильный",modelValue:l.value.mobile,"onUpdate:modelValue":e[6]||(e[6]=o=>l.value.mobile=o)},null,8,["modelValue"])]),_:1}),a(t(m),{label:"E-mail"},{default:n(()=>[a(t(u),{name:"mail",place:"Почта",modelValue:l.value.email,"onUpdate:modelValue":e[7]||(e[7]=o=>l.value.email=o)},null,8,["modelValue"])]),_:1}),a(t(m),{label:"Комментарий"},{default:n(()=>[a(t(u),{name:"comment",place:"Комментарий",modelValue:l.value.comment,"onUpdate:modelValue":e[8]||(e[8]=o=>l.value.comment=o)},null,8,["modelValue"])]),_:1}),a(t(b),null,{default:n(()=>[a(t(_),{onCancel:e[9]||(e[9]=o=>p("cancel-edit"))})]),_:1})],32))}});export{P as default};
