const __vite__fileDeps=["./HeaderDiv-Db67IQx8.js","./index-DRtVOEFB.js","./index-6fGrG267.css","./IconRelative-DKstNYJl.js","./PhotoCard-8xW9qgY1.js","./state-Skb32c17.js","./utilities-BFRXa8zy.js","./_plugin-vue_export-helper-DlAUqK2U.js","./PhotoCard-DfzmjbQv.css","./AnketaTab-GvQ8FQiJ.js","./CheckTab-Cce24F80.js","./PoligrafTab-DALBvkLh.js","./InvestigateTab-DUxnjqDX.js","./InquiryTab-5dW-5LXr.js"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
import{d as C,i as E,j as P,n as O,c as d,a as s,u as n,f as i,q as b,z as c,F as g,r as D,A as R,o as p,y as q,t as V,b as r,e as l}from"./index-DRtVOEFB.js";import{s as e,d as L,a as $}from"./state-Skb32c17.js";import{b as h,s as w}from"./utilities-BFRXa8zy.js";const j={class:"row mb-3"},B={class:"col-md-10"},x={class:"col-md-2 d-flex justify-content-end"},z={class:"nav nav-tabs nav-justified",role:"tablist"},F=["data-bs-target","onClick"],N={class:"tab-content"},S={id:"AnketaTab",class:"tab-pane show active fade mb-1 py-3",role:"tabpanel"},H={id:"CheckTab",class:"tab-pane fade py-3",role:"tabpanel"},M={id:"PoligrafTab",class:"tab-pane fade py-3",role:"tabpanel"},U={id:"InvestigateTab",class:"tab-pane fade py-3",role:"tabpanel"},G={id:"InquiryTab",class:"tab-pane fade py-3",role:"tabpanel"},Y=C({__name:"ProfilePage",setup(J){const I=r(()=>l(()=>import("./HeaderDiv-Db67IQx8.js"),__vite__mapDeps([0,1,2]),import.meta.url)),u=r(()=>l(()=>import("./IconRelative-DKstNYJl.js"),__vite__mapDeps([3,1,2]),import.meta.url)),y=r(()=>l(()=>import("./PhotoCard-8xW9qgY1.js"),__vite__mapDeps([4,1,2,5,6,7,8]),import.meta.url)),m=r(()=>l(()=>import("./AnketaTab-GvQ8FQiJ.js"),__vite__mapDeps([9,1,2,5,6]),import.meta.url)),k=r(()=>l(()=>import("./CheckTab-Cce24F80.js"),__vite__mapDeps([10,1,2,5,6]),import.meta.url)),_=r(()=>l(()=>import("./PoligrafTab-DALBvkLh.js"),__vite__mapDeps([11,1,2,5,6]),import.meta.url)),A=r(()=>l(()=>import("./InvestigateTab-DUxnjqDX.js"),__vite__mapDeps([12,1,2,5,6]),import.meta.url)),T=r(()=>l(()=>import("./InquiryTab-5dW-5LXr.js"),__vite__mapDeps([13,1,2,5,6]),import.meta.url));E(async()=>{const v=R();e.share.candId=v.params.id;try{const t=await h.get(`${w}/allinone/${e.share.candId}`);[e.anketa.resume,e.anketa.previous,e.anketa.staffs,e.anketa.documents,e.anketa.addresses,e.anketa.contacts,e.anketa.educations,e.anketa.workplaces,e.anketa.affilations,e.anketa.relations,e.anketa.checks,e.anketa.investigations,e.anketa.poligrafs,e.anketa.inquiries]=t.data}catch(t){t.request.status==401||t.request.status==403?P.push({name:"login"}):(console.error(t),L.setAlert("alert-danger",`Ошибка: ${t}`))}});const a=O({tabs:[["AnketaTab","Анкета",m],["CheckTab","Проверки",k],["PoligrafTab","Полиграф",_],["InvestigateTab","Расследования",A],["InquiryTab","Запросы",T]],currentTab:"AnketaTab",tabAction:""});return(v,t)=>(p(),d(g,null,[s(n(y)),i("div",j,[i("div",B,[s(n(I),{cls:"text-info py-3","page-header":`${n(e).anketa.resume.surname} ${n(e).anketa.resume.firstname} ${n(e).anketa.resume.patronymic?" "+n(e).anketa.resume.patronymic:""}`},null,8,["page-header"])]),i("div",x,[b(s(n(u),{title:"Взять на проверку","icon-class":"bi bi-person-plus fs-1",hide:n(e).anketa.resume.user_id==n($).userId,onOnclick:t[0]||(t[0]=o=>n(e).getResume("self"))},null,8,["hide"]),[[c,a.value.currentTab=="AnketaTab"]]),b(s(n(u),{title:"Добавить проверку","icon-class":"bi bi-journal-check fs-1",hide:n(e).anketa.resume.user_id!=n($).userId,onOnclick:t[1]||(t[1]=o=>a.value.tabAction=a.value.tabAction?"":"create"),onCancel:t[2]||(t[2]=o=>a.value.tabAction="")},null,8,["hide"]),[[c,a.value.currentTab=="CheckTab"]]),b(s(n(u),{title:"Добавить полиграф","icon-class":"bi bi-heart-pulse fs-1",onOnclick:t[3]||(t[3]=o=>a.value.tabAction=a.value.tabAction?"":"create"),onCancel:t[4]||(t[4]=o=>a.value.tabAction="")},null,512),[[c,a.value.currentTab=="PoligrafTab"]]),b(s(n(u),{title:"Добавить расследование","icon-class":"bi bi-incognito fs-1",onOnclick:t[5]||(t[5]=o=>a.value.tabAction=a.value.tabAction?"":"create"),onCancel:t[6]||(t[6]=o=>a.value.tabAction="")},null,512),[[c,a.value.currentTab=="InvestigateTab"]]),b(s(n(u),{title:"Добавить запрос","icon-class":"bi bi-question-square fs-1",onOnclick:t[7]||(t[7]=o=>a.value.tabAction=a.value.tabAction?"":"create"),onCancel:t[8]||(t[8]=o=>a.value.tabAction="")},null,512),[[c,a.value.currentTab=="InquiryTab"]]),s(n(u),{title:"Версия для печати","icon-class":"bi bi-printer fs-1",onOnclick:t[9]||(t[9]=o=>v.$router.push({name:"print"}))})])]),i("nav",z,[(p(!0),d(g,null,D(a.value.tabs,(o,f)=>(p(),d("button",{key:f,class:q(["nav-link",{active:f===0}]),"data-bs-target":`#${o[0]}`,"data-bs-toggle":"tab",type:"button",role:"tab",onClick:K=>{a.value.currentTab=o[0],a.value.tabAction=""}},V(o[1]),11,F))),128))]),i("div",N,[i("div",S,[s(n(m))]),i("div",H,[s(n(k),{"tab-action":a.value.tabAction,"current-tab":a.value.currentTab,onCancel:t[10]||(t[10]=o=>a.value.tabAction="")},null,8,["tab-action","current-tab"])]),i("div",M,[s(n(_),{"tab-action":a.value.tabAction,"current-tab":a.value.currentTab,onCancel:t[11]||(t[11]=o=>a.value.tabAction="")},null,8,["tab-action","current-tab"])]),i("div",U,[s(n(A),{"tab-action":a.value.tabAction,"current-tab":a.value.currentTab,onCancel:t[12]||(t[12]=o=>a.value.tabAction="")},null,8,["tab-action","current-tab"])]),i("div",G,[s(n(T),{"tab-action":a.value.tabAction,"current-tab":a.value.currentTab,onCancel:t[13]||(t[13]=o=>a.value.tabAction="")},null,8,["tab-action","current-tab"])])])],64))}});export{Y as default};
