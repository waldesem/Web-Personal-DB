const __vite__fileDeps=["./ActionHeader-IAy5zh-Q.js","./index-Dx3HiUnq.js","./index-6fGrG267.css","./ActionIcons-BCE4-2Qs.js","./WorkplaceForm-DSjVjwJ8.js","./LabelSlot-DWQlJd1k.js","./_plugin-vue_export-helper-DlAUqK2U.js","./LabelSlot-BKRWK_aH.css"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
import{d as S,n as g,o as a,c,b as l,u as t,g as d,C as w,F as D,r as E,w as r,q as L,z as C,x as s,t as i,e as _,f as p}from"./index-Dx3HiUnq.js";import{s as v}from"./state-s_e9P3m1.js";import"./utilities-BVKB9Dez.js";const V={key:1,class:"collapse show",id:"work"},R={key:1},x={key:2},O=S({__name:"WorkplaceDiv",setup(P){const y=_(()=>p(()=>import("./ActionHeader-IAy5zh-Q.js"),__vite__mapDeps([0,1,2]),import.meta.url)),I=_(()=>p(()=>import("./ActionIcons-BCE4-2Qs.js"),__vite__mapDeps([3,1,2]),import.meta.url)),f=_(()=>p(()=>import("./WorkplaceForm-DSjVjwJ8.js"),__vite__mapDeps([4,1,2]),import.meta.url)),n=_(()=>p(()=>import("./LabelSlot-DWQlJd1k.js"),__vite__mapDeps([5,1,2,6,7]),import.meta.url)),e=g({action:"",itemId:"",item:{},showActions:!1});function k(){e.value.action="",e.value.itemId="",e.value.item={}}function b(A){v.updateItem("workplaces",A),k()}return(A,u)=>(a(),c(D,null,[l(t(y),{id:"work",header:"Работа",action:e.value.action,onAction:u[0]||(u[0]=o=>e.value.action=e.value.action?"":"create")},null,8,["action"]),e.value.action==="create"?(a(),d(t(f),{key:0,onSubmit:b,onCancel:k})):w("",!0),t(v).anketa.workplaces.length?(a(),c("div",V,[(a(!0),c(D,null,E(t(v).anketa.workplaces,(o,h)=>(a(),c("div",{key:h,onMouseover:u[1]||(u[1]=m=>e.value.showActions=!0),onMouseout:u[2]||(u[2]=m=>e.value.showActions=!1),class:"card card-body mb-3"},[e.value.action==="update"&&e.value.itemId===o.id.toString()?(a(),d(t(f),{key:0,work:e.value.item,onSubmit:b,onCancel:k},null,8,["work"])):(a(),c("div",R,[l(t(n),null,{default:r(()=>[L(l(t(I),{onDelete:m=>t(v).deleteItem(o.id.toString(),"workplaces"),onUpdate:m=>{e.value.action="update",e.value.item=o,e.value.itemId=o.id.toString()},hide:!0},null,8,["onDelete","onUpdate"]),[[C,e.value.showActions]])]),_:2},1024),o.now_work?(a(),d(t(n),{key:0,label:"Текущая работа"},{default:r(()=>[s(i(o.now_work?"Да":"Нет"),1)]),_:2},1024)):w("",!0),l(t(n),{label:"Начало работы"},{default:r(()=>[s(i(new Date(o.started).toLocaleDateString("ru-RU")),1)]),_:2},1024),o.now_work?w("",!0):(a(),d(t(n),{key:1,label:"Окончание работы"},{default:r(()=>[s(i(new Date(o.finished).toLocaleDateString("ru-RU")),1)]),_:2},1024)),l(t(n),{label:"Место работы"},{default:r(()=>[s(i(o.workplace),1)]),_:2},1024),l(t(n),{label:"Адрес"},{default:r(()=>[s(i(o.address),1)]),_:2},1024),l(t(n),{label:"Должность"},{default:r(()=>[s(i(o.position),1)]),_:2},1024),l(t(n),{label:"Причина увольнения"},{default:r(()=>[s(i(o.reason),1)]),_:2},1024)]))],32))),128))])):(a(),c("p",x,"Данные отсутствуют"))],64))}});export{O as default};
