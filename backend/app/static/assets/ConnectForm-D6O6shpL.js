const __vite__fileDeps=["assets/LabelSlot-BBAP09GH.js","assets/index-C5gLaoji.js","assets/index-D3owuatg.css","assets/InputElement-lsY1T1RL.js","assets/GroupContent-DCuPxVrI.js","assets/BtnGroup-BNMpN1dP.js"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
import{d as E,U as A,o as g,c as U,b as t,w as n,u as o,z as C,e as i,f as p,h as c,s as f,j as O}from"./index-C5gLaoji.js";const I=E({__name:"ConnectForm",props:{page:Number,action:String,names:{type:Array,default:[]},companies:{type:Array,default:[]},cities:{type:Array,default:[]},item:{type:Object,default:{}}},emits:["get-contacts","cancel-edit"],setup(V,{emit:v}){const u=i(()=>p(()=>import("./LabelSlot-BBAP09GH.js"),__vite__mapDeps([0,1,2]))),m=i(()=>p(()=>import("./InputElement-lsY1T1RL.js"),__vite__mapDeps([3,1,2]))),b=i(()=>p(()=>import("./GroupContent-DCuPxVrI.js"),__vite__mapDeps([4,1,2]))),_=i(()=>p(()=>import("./BtnGroup-BNMpN1dP.js"),__vite__mapDeps([5,1,2]))),s=V,r=v,l=A(s.item);async function y(){try{const d=s.action==="create"?await c.post(`${f}/connect`,l.value):await c.patch(`${f}/connect/${s.item.id}`,l.value);console.log(d.status);const e={create:["alert-success","Контакт добавлен"],edit:["alert-info","Контакт обновлен"]};O.setAlert(e[s.action][0],e[s.action][1]),Object.keys(l.value).forEach(a=>{delete l.value[a]})}catch(d){console.log(d)}r("get-contacts",s.page)}return(d,e)=>(g(),U("form",{onSubmit:C(y,["prevent"]),class:"form form-check"},[t(o(u),{label:"Вид контакта"},{default:n(()=>[t(o(m),{place:"Вид",name:"name",lst:"names",selects:s.names,modelValue:l.value.name,"onUpdate:modelValue":e[0]||(e[0]=a=>l.value.name=a)},null,8,["selects","modelValue"])]),_:1}),t(o(u),{label:"Компания"},{default:n(()=>[t(o(m),{place:"Название",name:"company",lst:"companies",selects:s.companies,modelValue:l.value.company,"onUpdate:modelValue":e[1]||(e[1]=a=>l.value.company=a)},null,8,["selects","modelValue"])]),_:1}),t(o(u),{label:"Город"},{default:n(()=>[t(o(m),{name:"city",place:"Город",lst:"cities",selects:s.cities,modelValue:l.value.city,"onUpdate:modelValue":e[2]||(e[2]=a=>l.value.city=a)},null,8,["selects","modelValue"])]),_:1}),t(o(u),{label:"Имя"},{default:n(()=>[t(o(m),{name:"fullname",place:"Имя",modelValue:l.value.fullname,"onUpdate:modelValue":e[3]||(e[3]=a=>l.value.fullname=a)},null,8,["modelValue"])]),_:1}),t(o(u),{label:"Телефон"},{default:n(()=>[t(o(m),{name:"phone",place:"Телефон",modelValue:l.value.phone,"onUpdate:modelValue":e[4]||(e[4]=a=>l.value.phone=a)},null,8,["modelValue"])]),_:1}),t(o(u),{label:"Добавочный"},{default:n(()=>[t(o(m),{name:"adding",place:"Добав",modelValue:l.value.adding,"onUpdate:modelValue":e[5]||(e[5]=a=>l.value.adding=a)},null,8,["modelValue"])]),_:1}),t(o(u),{label:"Мобильный"},{default:n(()=>[t(o(m),{name:"mobile",place:"Мобильный",modelValue:l.value.mobile,"onUpdate:modelValue":e[6]||(e[6]=a=>l.value.mobile=a)},null,8,["modelValue"])]),_:1}),t(o(u),{label:"E-mail"},{default:n(()=>[t(o(m),{name:"mail",place:"Почта",modelValue:l.value.mail,"onUpdate:modelValue":e[7]||(e[7]=a=>l.value.mail=a)},null,8,["modelValue"])]),_:1}),t(o(u),{label:"Комментарий"},{default:n(()=>[t(o(m),{name:"comment",place:"Комментарий",modelValue:l.value.comment,"onUpdate:modelValue":e[8]||(e[8]=a=>l.value.comment=a)},null,8,["modelValue"])]),_:1}),t(o(_),null,{default:n(()=>[t(o(b),{onCancel:e[9]||(e[9]=a=>r("cancel-edit"))})]),_:1})],32))}});export{I as default};
