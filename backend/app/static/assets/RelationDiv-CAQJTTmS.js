const __vite__fileDeps=["./ActionHeader-CPtlKGZ4.js","./index-DRtVOEFB.js","./index-6fGrG267.css","./ActionIcons-DZ7YM6Q8.js","./RelationForm-Dpivhm5l.js","./state-Skb32c17.js","./utilities-BFRXa8zy.js","./LabelSlot-Bx6cFhlr.js","./_plugin-vue_export-helper-DlAUqK2U.js","./LabelSlot-BKRWK_aH.css"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
import{d as w,n as C,l as b,o as a,c as i,a as l,u as t,g as f,C as g,F as k,r as V,w as r,q as L,z as R,x as A,t as I,b as s,e as u}from"./index-DRtVOEFB.js";import{s as _}from"./state-Skb32c17.js";import"./utilities-BFRXa8zy.js";const S={key:1,class:"collapse show",id:"relation"},x={key:1},O={key:2},F=w({__name:"RelationDiv",setup(P){const h=s(()=>u(()=>import("./ActionHeader-CPtlKGZ4.js"),__vite__mapDeps([0,1,2]),import.meta.url)),y=s(()=>u(()=>import("./ActionIcons-DZ7YM6Q8.js"),__vite__mapDeps([3,1,2]),import.meta.url)),m=s(()=>u(()=>import("./RelationForm-Dpivhm5l.js"),__vite__mapDeps([4,1,2,5,6]),import.meta.url)),c=s(()=>u(()=>import("./LabelSlot-Bx6cFhlr.js"),__vite__mapDeps([7,1,2,8,9]),import.meta.url)),e=C({action:"",itemId:"",item:{},showActions:!1});function v(){e.value.action="",e.value.itemId="",Object.keys(e.value.item).forEach(p=>delete e.value.item[p])}return(p,n)=>{const D=b("router-link");return a(),i(k,null,[l(t(h),{id:"relation",header:"Связи",action:e.value.action,onAction:n[0]||(n[0]=o=>e.value.action=e.value.action?"":"create")},null,8,["action"]),e.value.action==="create"?(a(),f(t(m),{key:0,onCancel:v})):g("",!0),t(_).anketa.relations.length?(a(),i("div",S,[(a(!0),i(k,null,V(t(_).anketa.relations,(o,E)=>(a(),i("div",{key:E,class:"card card-body mb-3",onMouseover:n[1]||(n[1]=d=>e.value.showActions=!0),onMouseout:n[2]||(n[2]=d=>e.value.showActions=!1)},[e.value.action==="update"&&e.value.itemId===o.id.toString()?(a(),f(t(m),{key:0,relation:e.value.item,onCancel:v},null,8,["relation"])):(a(),i("div",x,[l(t(c),null,{default:r(()=>[L(l(t(y),{hide:!0,onDelete:d=>t(_).deleteItem(o.id.toString(),"relations"),onUpdate:d=>{e.value.action="update",e.value.item=o,e.value.itemId=o.id.toString()}},null,8,["onDelete","onUpdate"]),[[R,e.value.showActions]])]),_:2},1024),l(t(c),{label:"Тип"},{default:r(()=>[A(I(o.relation),1)]),_:2},1024),l(t(c),{label:"Связь"},{default:r(()=>[l(D,{to:{name:"profile",params:{id:o.relation_id}}},{default:r(()=>[A(" ID #"+I(o.relation_id),1)]),_:2},1032,["to"])]),_:2},1024)]))],32))),128))])):(a(),i("p",O,"Данные отсутствуют"))],64)}}});export{F as default};
