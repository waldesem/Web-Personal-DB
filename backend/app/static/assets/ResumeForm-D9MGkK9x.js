const __vite__fileDeps=["./LabelSlot-CvGLSY44.js","./index-BCJo_gEN.js","./index-6fGrG267.css","./_plugin-vue_export-helper-DlAUqK2U.js","./LabelSlot-BKRWK_aH.css","./SelectDiv-BJM6aomu.js","./InputElement-CJ1KCYvR.js","./TextArea-B685jkky.js","./BtnGroup-Ce4btkpU.js","./GroupContent-DD52QElE.js"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
import{d as I,J as g,o as D,c as L,b as t,w as o,u as a,s as O,e as r,f as d,j as P}from"./index-BCJo_gEN.js";import{c as T,d as V,s as f,e as v}from"./state-CDYnk2KN.js";import{s as _,c as x}from"./utilities-B_ayHb2j.js";const k=I({__name:"ResumeForm",props:{action:{type:String,default:"create"},resume:{type:Object,default:{}}},emits:["cancel"],setup(b,{emit:c}){const n=r(()=>d(()=>import("./LabelSlot-CvGLSY44.js"),__vite__mapDeps([0,1,2,3,4]),import.meta.url)),E=r(()=>d(()=>import("./SelectDiv-BJM6aomu.js"),__vite__mapDeps([5,1,2]),import.meta.url)),m=r(()=>d(()=>import("./InputElement-CJ1KCYvR.js"),__vite__mapDeps([6,1,2]),import.meta.url)),y=r(()=>d(()=>import("./TextArea-B685jkky.js"),__vite__mapDeps([7,1,2]),import.meta.url)),A=r(()=>d(()=>import("./BtnGroup-Ce4btkpU.js"),__vite__mapDeps([8,1,2]),import.meta.url)),U=r(()=>d(()=>import("./GroupContent-DD52QElE.js"),__vite__mapDeps([9,1,2]),import.meta.url)),p=c,i=b,l=g(i.resume);async function R(){try{const s=i.action==="create"?await V.post(`${_}/resume`,l.value):await V.patch(`${_}/resume/${f.share.candId}`,l.value),{person_id:e}=s.data;x(l.value),i.action==="create"?P.push({name:"profile",params:{id:e}}):(p("cancel"),f.getResume()),v.setAlert("alert-success","Данные успешно обновлены")}catch(s){v.setAlert("alert-danger",`Возникла ошибка ${s}`)}}return(s,e)=>(D(),L("form",{onSubmit:O(R,["prevent"]),class:"form form-check",role:"form"},[t(a(n),{label:"Регион"},{default:o(()=>[t(a(E),{name:"region_id",select:a(T).regions,modelValue:l.value.region,"onUpdate:modelValue":e[0]||(e[0]=u=>l.value.region=u)},null,8,["select","modelValue"])]),_:1}),t(a(n),{label:"Фамилия"},{default:o(()=>[t(a(m),{need:!0,name:"surname",place:"Фамилия*",pattern:"[А-Яа-яЁё\\-'\\s]+",modelValue:l.value.surname,"onUpdate:modelValue":e[1]||(e[1]=u=>l.value.surname=u)},null,8,["modelValue"])]),_:1}),t(a(n),{label:"Имя"},{default:o(()=>[t(a(m),{need:!0,name:"firstname",place:"Имя*",pattern:"[А-Яа-яЁё\\-'\\s]+",modelValue:l.value.firstname,"onUpdate:modelValue":e[2]||(e[2]=u=>l.value.firstname=u)},null,8,["modelValue"])]),_:1}),t(a(n),{label:"Отчество"},{default:o(()=>[t(a(m),{name:"patronymic",place:"Отчество",modelValue:l.value.patronymic,"onUpdate:modelValue":e[3]||(e[3]=u=>l.value.patronymic=u)},null,8,["modelValue"])]),_:1}),t(a(n),{label:"Дата рождения*"},{default:o(()=>[t(a(m),{need:!0,name:"birthday",place:"Дата рождения*",typeof:"date",modelValue:l.value.birthday,"onUpdate:modelValue":e[4]||(e[4]=u=>l.value.birthday=u)},null,8,["modelValue"])]),_:1}),t(a(n),{label:"Место рождения"},{default:o(()=>[t(a(m),{name:"birthplace",place:"Место рождения",modelValue:l.value.birthplace,"onUpdate:modelValue":e[5]||(e[5]=u=>l.value.birthplace=u)},null,8,["modelValue"])]),_:1}),t(a(n),{label:"Гражданство"},{default:o(()=>[t(a(m),{name:"citizenship",place:"Гражданство",modelValue:l.value.citizenship,"onUpdate:modelValue":e[6]||(e[6]=u=>l.value.citizenship=u)},null,8,["modelValue"])]),_:1}),t(a(n),{label:"Двойное гражданство"},{default:o(()=>[t(a(m),{name:"dual",place:"Двойное гражданство",modelValue:l.value.dual,"onUpdate:modelValue":e[7]||(e[7]=u=>l.value.dual=u)},null,8,["modelValue"])]),_:1}),t(a(n),{label:"СНИЛС"},{default:o(()=>[t(a(m),{name:"snils",place:"СНИЛС",pattern:"[0-9]{11}",modelValue:l.value.snils,"onUpdate:modelValue":e[8]||(e[8]=u=>l.value.snils=u)},null,8,["modelValue"])]),_:1}),t(a(n),{label:"ИНН"},{default:o(()=>[t(a(m),{name:"inn",place:"ИНН",max:"12",pattern:"[0-9]{12}",modelValue:l.value.inn,"onUpdate:modelValue":e[9]||(e[9]=u=>l.value.inn=u)},null,8,["modelValue"])]),_:1}),t(a(n),{label:"Семейное положение"},{default:o(()=>[t(a(m),{name:"marital",place:"Семейное положение",modelValue:l.value.marital,"onUpdate:modelValue":e[10]||(e[10]=u=>l.value.marital=u)},null,8,["modelValue"])]),_:1}),t(a(n),{label:"Дополнительно"},{default:o(()=>[t(a(y),{name:"addition",place:"Дополнительно",modelValue:l.value.addition,"onUpdate:modelValue":e[11]||(e[11]=u=>l.value.addition=u)},null,8,["modelValue"])]),_:1}),t(a(A),null,{default:o(()=>[t(a(U),{onCancel:e[12]||(e[12]=u=>p("cancel"))})]),_:1})],32))}});export{k as default};
