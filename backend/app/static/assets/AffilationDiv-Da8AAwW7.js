const __vite__fileDeps=["assets/ActionHeader--2fnFKkH.js","assets/index-BhT_3F5B.js","assets/index-D3owuatg.css","assets/ActionIcons-Bi7YhEuM.js","assets/AffilationForm-DCeOWq56.js","assets/LabelSlot-C8Y-0GKw.js"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
import{d as y,n as E,J as l,q as S,o,c as u,b as i,u as t,k as I,K as C,E as k,F as b,x as L,w as r,t as P,v as V,B as d,C as f,e as c,f as _}from"./index-BhT_3F5B.js";const $={key:1},h={key:2},R=y({__name:"AffilationDiv",setup(x){const w=c(()=>_(()=>import("./ActionHeader--2fnFKkH.js"),__vite__mapDeps([0,1,2]))),g=c(()=>_(()=>import("./ActionIcons-Bi7YhEuM.js"),__vite__mapDeps([3,1,2]))),m=c(()=>_(()=>import("./AffilationForm-DCeOWq56.js"),__vite__mapDeps([4,1,2]))),s=c(()=>_(()=>import("./LabelSlot-C8Y-0GKw.js"),__vite__mapDeps([5,1,2])));E(async()=>{await l.getItem("affilation")});const e=S({action:"",itemId:"",item:{},showActions:!1});function p(A){l.updateItem(e.value.action,"affilation",e.value.itemId,A),e.value.action="",e.value.itemId=""}return(A,n)=>(o(),u(b,null,[i(t(w),{header:"Аффилированность",action:e.value.action,onAction:n[0]||(n[0]=a=>e.value.action=e.value.action?"":"create")},null,8,["action"]),e.value.action==="create"?(o(),I(t(m),{key:0,affils:e.value.item,onSubmit:p,onCancel:n[1]||(n[1]=a=>{e.value.action="",e.value.itemId=""})},null,8,["affils"])):C("",!0),t(l).anketa.affilation.length?(o(),u("div",{key:1,class:k({"collapse show":!t(l).share.printPage}),id:"affilation"},[(o(!0),u(b,null,L(t(l).anketa.affilation,(a,D)=>(o(),u("div",{class:k(["mb-3",{"card card-body":!t(l).share.printPage}]),key:D,onMouseover:n[3]||(n[3]=v=>e.value.showActions=!0),onMouseout:n[4]||(n[4]=v=>e.value.showActions=!1)},[e.value.action==="update"&&e.value.itemId===a.id.toString()?(o(),I(t(m),{key:0,affils:e.value.item,onSubmit:p,onCancel:n[2]||(n[2]=v=>{e.value.action="",e.value.itemId=""})},null,8,["affils"])):(o(),u("div",$,[i(t(s),null,{default:r(()=>[P(i(t(g),{onDelete:v=>t(l).deleteItem(a.id.toString(),"affilation"),onUpdate:v=>{e.value.action="update",e.value.item=a,e.value.itemId=a.id.toString()}},null,8,["onDelete","onUpdate"]),[[V,e.value.showActions]])]),_:2},1024),i(t(s),{label:"Тип участия"},{default:r(()=>[d(f(a.view),1)]),_:2},1024),i(t(s),{label:"Организация"},{default:r(()=>[d(f(a.name),1)]),_:2},1024),i(t(s),{label:"ИНН"},{default:r(()=>[d(f(a.inn),1)]),_:2},1024),i(t(s),{label:"Должность"},{default:r(()=>[d(f(a.position),1)]),_:2},1024),i(t(s),{label:"Дата декларации"},{default:r(()=>[d(f(new Date(String(a.deadline)).toLocaleDateString("ru-RU")),1)]),_:2},1024)]))],34))),128))],2)):(o(),u("p",h,"Данные отсутствуют"))],64))}});export{R as default};
