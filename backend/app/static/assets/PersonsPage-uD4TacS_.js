const __vite__fileDeps=["./HeaderDiv-CUQQRNex.js","./index-D2OLA4OR.js","./index-BqKjTnG4.css","./TableSlots-BzhPalyd.js"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
import{d as x,k as y,r as k,c as r,b as D,u as d,e,g as $,y as b,w as S,m as C,l as u,z as p,f as L,F as h,o,p as P,t as n,A as R,h as v,i as I,s as T,x as U,j as _}from"./index-D2OLA4OR.js";import{d as V}from"./utilities-Dot1e486.js";import{c as A,b as B}from"./state-BHhWPIxB.js";import{_ as E}from"./_plugin-vue_export-helper-DlAUqK2U.js";const N=i=>(T("data-v-4d4975c5"),i=i(),U(),i),M={class:"row mb-3"},j={class:"form form-check",role:"form"},z=N(()=>e("tr",{height:"50px"},[e("th",{width:"5%"},"#"),e("th",{width:"15%"},"–†–µ–≥–∏–æ–Ω"),e("th",null,"–§–∞–º–∏–ª–∏—è –ò–º—è –û—Ç—á–µ—Å—Ç–≤–æ"),e("th",{width:"15%"},"–î–∞—Ç–∞ —Ä–æ–∂–¥–µ–Ω–∏—è"),e("th",{width:"15%"},"–û–±–Ω–æ–≤–ª–µ–Ω–æ"),e("th",{width:"15%"},"–°–æ—Ç—Ä—É–¥–Ω–∏–∫"),e("th",{width:"5%",class:"text-center"},"–°—Ç–∞—Ç—É—Å")],-1)),F=["onClick"],O={class:"text-center"},H={key:0,class:"spinner-grow spinner-grow-sm text-danger",role:"status",title:"–ü—Ä–æ–≤–µ—Ä–∫–∞"},q={key:1,title:"–û–∫–æ–Ω—á–µ–Ω–æ"},G={key:1,class:"fs-6 taxt-danger"},J={key:2},K={class:"pagination justify-content-center py-3"},Q=x({__name:"PersonsPage",setup(i){const g=v(()=>_(()=>import("./HeaderDiv-CUQQRNex.js"),__vite__mapDeps([0,1,2]),import.meta.url)),f=v(()=>_(()=>import("./TableSlots-BzhPalyd.js"),__vite__mapDeps([3,1,2]),import.meta.url));y(async()=>{await l()});const a=k({candidates:[],page:1,prev:!1,next:!1,search:"",updated:`${new Date().toLocaleDateString("ru-RU")} –≤ ${new Date().toLocaleTimeString("ru-RU")}`});async function l(c=1){a.value.page=c;try{const s=await A.get(`${B}/index/${a.value.page}`,{params:{search:a.value.search}});[a.value.candidates,a.value.next,a.value.prev]=s.data,a.value.updated=`${new Date().toLocaleDateString("ru-RU")} –≤ ${new Date().toLocaleTimeString("ru-RU")}`}catch(s){console.error(s)}}const m=V(()=>{l()},500);function w(c){I.push({name:"profile",params:{id:c}})}return(c,s)=>(o(),r(h,null,[D(d(g),{"page-header":"–ö–∞–Ω–¥–∏–¥–∞—Ç—ã"}),e("div",M,[e("form",j,[$(e("input",{onInput:s[0]||(s[0]=S((...t)=>d(m)&&d(m)(...t),["prevent"])),class:"form-control",name:"search",id:"search",type:"text",placeholder:"–ø–æ–∏—Å–∫ –ø–æ —Ñ–∞–º–∏–ª–∏–∏, –∏–º–µ–Ω–∏, –æ—Ç—á–µ—Å—Ç–≤—É, –∏–Ω–Ω","onUpdate:modelValue":s[1]||(s[1]=t=>a.value.search=t)},null,544),[[b,a.value.search]])])]),a.value.candidates.length?(o(),C(d(f),{key:0,class:p("table align-middle table-hover")},{caption:u(()=>[P(n(`–û–±–Ω–æ–≤–ª–µ–Ω–æ: ${a.value.updated}`)+" ",1),e("a",{class:"btn btn-link fs-5",href:"#",style:{"text-decoration":"none"},title:"–û–±–Ω–æ–≤–∏—Ç—å",onClick:s[2]||(s[2]=t=>l())}," ‚Üª ")]),thead:u(()=>[z]),tbody:u(()=>[(o(!0),r(h,null,R(a.value.candidates,t=>(o(),r("tr",{key:t.id,height:"50px",onClick:W=>w(t.id)},[e("td",null,n(t.id),1),e("td",null,n(t.region),1),e("td",null,n(`${t.surname} ${t.firstname} ${t.patronymic?t.patronymic:""}`),1),e("td",null,n(new Date(t.birthday).toLocaleDateString("ru-RU")),1),e("td",null,n(new Date(t.created).toLocaleDateString("ru-RU")),1),e("td",null,n(t.username?t.username.toString().split(" ")[0]:""),1),e("td",O,[t.standing?(o(),r("div",H)):(o(),r("div",q,"üü¢"))])],8,F))),128))]),_:1})):(o(),r("p",G,"–ù–∏—á–µ–≥–æ –Ω–µ –Ω–∞–∏ÃÜ–¥–µ–Ω–æ")),a.value.prev||a.value.next?(o(),r("nav",J,[e("ul",K,[e("li",{class:p(["page-item",{disabled:!a.value.prev}])},[e("a",{class:"page-link",href:"#",onClick:s[3]||(s[3]=t=>l(a.value.page-1))}," –ü—Ä–µ–¥—ã–¥—É—â–∞—è ")],2),e("li",{class:p(["page-item",{disabled:!a.value.next}])},[e("a",{class:"page-link",href:"#",onClick:s[4]||(s[4]=t=>l(a.value.page+1))}," –°–ª–µ–¥—É—é—â–∞—è ")],2)])])):L("",!0)],64))}}),te=E(Q,[["__scopeId","data-v-4d4975c5"]]);export{te as default};
