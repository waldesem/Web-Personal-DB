const __vite__fileDeps=["assets/ActionHeader--2fnFKkH.js","assets/index-BhT_3F5B.js","assets/index-D3owuatg.css","assets/ActionIcons-Bi7YhEuM.js","assets/PreviousForm-COXyoxCK.js","assets/LabelSlot-C8Y-0GKw.js"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
import{d as D,n as E,J as s,q as S,o as n,c as u,b as i,u as t,k,K as P,E as A,F as b,x as C,w as r,t as L,v as V,B as v,C as d,e as p,f as _}from"./index-BhT_3F5B.js";const $={key:1},h={key:2},R=D({__name:"PreviousDiv",setup(x){const g=p(()=>_(()=>import("./ActionHeader--2fnFKkH.js"),__vite__mapDeps([0,1,2]))),w=p(()=>_(()=>import("./ActionIcons-Bi7YhEuM.js"),__vite__mapDeps([3,1,2]))),m=p(()=>_(()=>import("./PreviousForm-COXyoxCK.js"),__vite__mapDeps([4,1,2]))),l=p(()=>_(()=>import("./LabelSlot-C8Y-0GKw.js"),__vite__mapDeps([5,1,2])));E(async()=>{await s.getItem("previous")});const e=S({action:"",itemId:"",item:{},showActions:!1});function f(I){s.updateItem(e.value.action,"previous",e.value.itemId,I),e.value.action="",e.value.itemId=""}return(I,o)=>(n(),u(b,null,[i(t(g),{id:"previous",header:"Изменение имени",action:e.value.action,onAction:o[0]||(o[0]=a=>e.value.action=e.value.action?"":"create")},null,8,["action"]),e.value.action==="create"?(n(),k(t(m),{key:0,previous:e.value.item,onSubmit:f,onCancel:o[1]||(o[1]=a=>{e.value.action="",e.value.itemId=""})},null,8,["previous"])):P("",!0),t(s).anketa.previous.length?(n(),u("div",{key:1,class:A({"collapse show":!t(s).share.printPage}),id:"previous"},[(n(!0),u(b,null,C(t(s).anketa.previous,(a,y)=>(n(),u("div",{class:A(["mb-3",{"card card-body":!t(s).share.printPage}]),key:y,onMouseover:o[3]||(o[3]=c=>e.value.showActions=!0),onMouseout:o[4]||(o[4]=c=>e.value.showActions=!1)},[e.value.action==="update"&&e.value.itemId===a.id.toString()?(n(),k(t(m),{key:0,previous:e.value.item,onSubmit:f,onCancel:o[2]||(o[2]=c=>{e.value.action="",e.value.itemId=""})},null,8,["previous"])):(n(),u("div",$,[i(t(l),null,{default:r(()=>[L(i(t(w),{onDelete:c=>t(s).deleteItem(a.id.toString(),"previous"),onUpdate:c=>{e.value.action="update",e.value.item=a,e.value.itemId=a.id.toString()}},null,8,["onDelete","onUpdate"]),[[V,e.value.showActions]])]),_:2},1024),i(t(l),{label:"Фамилия"},{default:r(()=>[v(d(a.surname),1)]),_:2},1024),i(t(l),{label:"Имя"},{default:r(()=>[v(d(a.firstname),1)]),_:2},1024),i(t(l),{label:"Отчество"},{default:r(()=>[v(d(a.patronymic),1)]),_:2},1024),i(t(l),{label:"Дата изменения"},{default:r(()=>[v(d(new Date(String(a.date_change)).toLocaleDateString("ru-RU")),1)]),_:2},1024),i(t(l),{label:"Причина"},{default:r(()=>[v(d(a.reason),1)]),_:2},1024)]))],34))),128))],2)):(n(),u("p",h,"Данные отсутствуют"))],64))}});export{R as default};
