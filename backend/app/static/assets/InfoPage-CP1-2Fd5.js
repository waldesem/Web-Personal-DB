const __vite__fileDeps=["./HeaderDiv-C-5mBoWb.js","./index-K0Y79g34.js","./index-6fGrG267.css","./SelectDiv-DZb1P4cI.js","./InputElement-BU5buE4z.js","./TableSlots-BaukMWaH.js"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
import{d as y,n as E,i as S,c,b as n,u as s,w as m,y as I,a as t,F as g,j as k,o as _,x as w,t as p,r as A,e as i,f as u}from"./index-K0Y79g34.js";import{d as f,e as x,c as O,a as P}from"./state-CXEVWkFn.js";const T=t("tr",null,[t("th",{width:"45%"},"Решение"),t("th",null,"Количество")],-1),C={class:"row mb-3"},L=t("label",{class:"col-form-label col-md-1",for:"region"}," Регион: ",-1),B={class:"col-md-3"},R=t("label",{class:"col-form-label col-md-1",for:"start"}," Период: ",-1),U={class:"col-md-2"},$={class:"col-md-2"},M=y({__name:"InfoPage",setup(F){const h=i(()=>u(()=>import("./HeaderDiv-C-5mBoWb.js"),__vite__mapDeps([0,1,2]),import.meta.url)),b=i(()=>u(()=>import("./SelectDiv-DZb1P4cI.js"),__vite__mapDeps([3,1,2]),import.meta.url)),v=i(()=>u(()=>import("./InputElement-BU5buE4z.js"),__vite__mapDeps([4,1,2]),import.meta.url)),V=i(()=>u(()=>import("./TableSlots-BaukMWaH.js"),__vite__mapDeps([5,1,2]),import.meta.url)),d=new Date,e=E({stat:{region:f.regions.main,checks:{},start:new Date(d.getFullYear(),d.getMonth(),1).toISOString().slice(0,10),end:d.toISOString().slice(0,10)}});async function r(){try{const o=await x.get(`${O}/information`,{params:{start:e.value.stat.start,end:e.value.stat.end,region:e.value.stat.region}});e.value.stat.checks=o.data,console.log(e.value.stat.checks)}catch(o){o.request.status==401||o.request.status==403?k.push({name:"login"}):console.error(o)}}return S(async()=>{await r()}),(o,l)=>(_(),c(g,null,[n(s(h),{"page-header":`Статистика по региону ${e.value.stat.region} 
            за период c ${e.value.stat.start} по ${e.value.stat.end} г.`},null,8,["page-header"]),n(s(V),{class:I("table table-hover table-responsive align-middle py-3")},{caption:m(()=>[w(p("Решения по кандидатам"))]),thead:m(()=>[T]),tbody:m(()=>[(_(!0),c(g,null,A(e.value.stat.checks,(a,D)=>(_(),c("tr",{key:D},[t("td",null,p(a.conclusion),1),t("td",null,p(a.count),1)]))),128))]),_:1}),t("div",C,[L,t("div",B,[n(s(b),{place:"Регион",name:"region",select:s(f).regions,disable:!s(P).hasAdmin,modelValue:e.value.stat.region,"onUpdate:modelValue":l[0]||(l[0]=a=>e.value.stat.region=a),onSubmitData:r},null,8,["select","disable","modelValue"])]),R,t("div",U,[n(s(v),{name:"start",typeof:"date",modelValue:e.value.stat.start,"onUpdate:modelValue":l[1]||(l[1]=a=>e.value.stat.start=a),onSubmitData:r},null,8,["modelValue"])]),t("div",$,[n(s(v),{name:"end",typeof:"date",modelValue:e.value.stat.end,"onUpdate:modelValue":l[2]||(l[2]=a=>e.value.stat.end=a),onSubmitData:r},null,8,["modelValue"])])])],64))}});export{M as default};
