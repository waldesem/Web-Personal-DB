const __vite__fileDeps=["./ActionHeader-B5rljA6q.js","./index-BCJo_gEN.js","./index-6fGrG267.css","./ActionIcons-Dw34qmV0.js","./StaffForm-CzP7uiCO.js","./utilities-B_ayHb2j.js","./LabelSlot-CvGLSY44.js","./_plugin-vue_export-helper-DlAUqK2U.js","./LabelSlot-BKRWK_aH.css"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
import{d as w,i as y,n as E,o as n,c as s,b as i,u as e,g as _,B as k,F as A,r as L,w as r,q as V,z as $,x as f,t as v,e as c,f as m}from"./index-BCJo_gEN.js";import{s as u}from"./state-CDYnk2KN.js";import"./utilities-B_ayHb2j.js";const C={key:1,class:"collapse show",id:"staff"},R={key:1},x={key:2},F=w({__name:"StaffDiv",setup(B){const D=c(()=>m(()=>import("./ActionHeader-B5rljA6q.js"),__vite__mapDeps([0,1,2]),import.meta.url)),g=c(()=>m(()=>import("./ActionIcons-Dw34qmV0.js"),__vite__mapDeps([3,1,2]),import.meta.url)),p=c(()=>m(()=>import("./StaffForm-CzP7uiCO.js"),__vite__mapDeps([4,1,2,5]),import.meta.url)),l=c(()=>m(()=>import("./LabelSlot-CvGLSY44.js"),__vite__mapDeps([6,1,2,7,8]),import.meta.url));y(()=>{u.getItem("staffs")});const t=E({action:"",itemId:"",item:{},showActions:!1});function I(S){u.updateItem(t.value.action,"staffs",t.value.itemId,S),t.value.action="",t.value.itemId=""}return(S,o)=>(n(),s(A,null,[i(e(D),{id:"staff",header:"Должности",action:t.value.action,onAction:o[0]||(o[0]=a=>t.value.action=t.value.action?"":"create")},null,8,["action"]),t.value.action==="create"?(n(),_(e(p),{key:0,onSubmit:I,onCancel:o[1]||(o[1]=a=>{t.value.action="",t.value.itemId=""})})):k("",!0),e(u).anketa.staffs.length?(n(),s("div",C,[(n(!0),s(A,null,L(e(u).anketa.staffs,(a,b)=>(n(),s("div",{key:b,onMouseover:o[3]||(o[3]=d=>t.value.showActions=!0),onMouseout:o[4]||(o[4]=d=>t.value.showActions=!1),class:"card card-body mb-3"},[t.value.action==="update"&&t.value.itemId===a.id.toString()?(n(),_(e(p),{key:0,staff:t.value.item,onSubmit:I,onCancel:o[2]||(o[2]=d=>{t.value.action="",t.value.itemId=""})},null,8,["staff"])):(n(),s("div",R,[i(e(l),null,{default:r(()=>[V(i(e(g),{onDelete:d=>e(u).deleteItem(a.id.toString(),"staffs"),onUpdate:d=>{t.value.action="update",t.value.item=a,t.value.itemId=a.id.toString()}},null,8,["onDelete","onUpdate"]),[[$,t.value.showActions]])]),_:2},1024),i(e(l),{label:"Должность"},{default:r(()=>[f(v(a.position),1)]),_:2},1024),i(e(l),{label:"Департамент"},{default:r(()=>[f(v(a.department),1)]),_:2},1024),i(e(l),{label:"Дата"},{default:r(()=>[f(v(new Date(String(a.created)).toLocaleDateString("ru-RU")),1)]),_:2},1024),a.updated?(n(),_(e(l),{key:0,label:"Обновлено"},{default:r(()=>[f(v(new Date(String(a.updated)).toLocaleDateString("ru-RU")),1)]),_:2},1024)):k("",!0)]))],32))),128))])):(n(),s("p",x,"Данные отсутствуют"))],64))}});export{F as default};
