const __vite__fileDeps=["./LabelSlot-DJ_0dg1R.js","./index-Cgb_Cr_9.js","./index-6fGrG267.css","./_plugin-vue_export-helper-DlAUqK2U.js","./LabelSlot-BKRWK_aH.css","./SelectDiv-CcVeSQ7o.js","./InputElement-okPKMFz7.js","./TextArea-CM4h4t66.js","./BtnGroup-PyAvjfPE.js","./GroupContent-CEYp4cv_.js"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
import{d as A,E as U,o as R,c as g,b as a,w as u,u as l,s as D,e as r,f as d,j as I}from"./index-Cgb_Cr_9.js";import{b as L,s as O,d as V}from"./state-ByRrGBfM.js";import{b as P,s as T}from"./utilities-D5XiXVJ8.js";const w=A({__name:"ResumeForm",props:{action:{type:String,default:"create"},resume:{type:Object,default:{}}},emits:["cancel"],setup(f,{emit:v}){const n=r(()=>d(()=>import("./LabelSlot-DJ_0dg1R.js"),__vite__mapDeps([0,1,2,3,4]),import.meta.url)),_=r(()=>d(()=>import("./SelectDiv-CcVeSQ7o.js"),__vite__mapDeps([5,1,2]),import.meta.url)),m=r(()=>d(()=>import("./InputElement-okPKMFz7.js"),__vite__mapDeps([6,1,2]),import.meta.url)),b=r(()=>d(()=>import("./TextArea-CM4h4t66.js"),__vite__mapDeps([7,1,2]),import.meta.url)),E=r(()=>d(()=>import("./BtnGroup-PyAvjfPE.js"),__vite__mapDeps([8,1,2]),import.meta.url)),c=r(()=>d(()=>import("./GroupContent-CEYp4cv_.js"),__vite__mapDeps([9,1,2]),import.meta.url)),i=v,p=f,t=U(p.resume);async function y(){try{const s=await P.post(`${T}/persons`,t.value),{person_id:e}=s.data;p.action==="create"?I.push({name:"profile",params:{id:e}}):(i("cancel"),O.getResume()),V.setAlert("alert-success","Данные успешно обновлены")}catch(s){V.setAlert("alert-danger",`Возникла ошибка ${s}`)}}return(s,e)=>(R(),g("form",{onSubmit:D(y,["prevent"]),class:"form form-check",role:"form"},[a(l(n),{label:"Регион"},{default:u(()=>[a(l(_),{name:"region_id",select:l(L).regions,modelValue:t.value.region,"onUpdate:modelValue":e[0]||(e[0]=o=>t.value.region=o)},null,8,["select","modelValue"])]),_:1}),a(l(n),{label:"Фамилия"},{default:u(()=>[a(l(m),{need:!0,name:"surname",place:"Фамилия*",pattern:"[А-Яа-яЁё\\-'\\s]+",modelValue:t.value.surname,"onUpdate:modelValue":e[1]||(e[1]=o=>t.value.surname=o)},null,8,["modelValue"])]),_:1}),a(l(n),{label:"Имя"},{default:u(()=>[a(l(m),{need:!0,name:"firstname",place:"Имя*",pattern:"[А-Яа-яЁё\\-'\\s]+",modelValue:t.value.firstname,"onUpdate:modelValue":e[2]||(e[2]=o=>t.value.firstname=o)},null,8,["modelValue"])]),_:1}),a(l(n),{label:"Отчество"},{default:u(()=>[a(l(m),{name:"patronymic",place:"Отчество",modelValue:t.value.patronymic,"onUpdate:modelValue":e[3]||(e[3]=o=>t.value.patronymic=o)},null,8,["modelValue"])]),_:1}),a(l(n),{label:"Дата рождения*"},{default:u(()=>[a(l(m),{need:!0,name:"birthday",place:"Дата рождения*",typeof:"date",modelValue:t.value.birthday,"onUpdate:modelValue":e[4]||(e[4]=o=>t.value.birthday=o)},null,8,["modelValue"])]),_:1}),a(l(n),{label:"Место рождения"},{default:u(()=>[a(l(m),{name:"birthplace",place:"Место рождения",modelValue:t.value.birthplace,"onUpdate:modelValue":e[5]||(e[5]=o=>t.value.birthplace=o)},null,8,["modelValue"])]),_:1}),a(l(n),{label:"Гражданство"},{default:u(()=>[a(l(m),{name:"citizenship",place:"Гражданство",modelValue:t.value.citizenship,"onUpdate:modelValue":e[6]||(e[6]=o=>t.value.citizenship=o)},null,8,["modelValue"])]),_:1}),a(l(n),{label:"Двойное гражданство"},{default:u(()=>[a(l(m),{name:"dual",place:"Двойное гражданство",modelValue:t.value.dual,"onUpdate:modelValue":e[7]||(e[7]=o=>t.value.dual=o)},null,8,["modelValue"])]),_:1}),a(l(n),{label:"СНИЛС"},{default:u(()=>[a(l(m),{name:"snils",place:"СНИЛС",pattern:"[0-9]{11}",modelValue:t.value.snils,"onUpdate:modelValue":e[8]||(e[8]=o=>t.value.snils=o)},null,8,["modelValue"])]),_:1}),a(l(n),{label:"ИНН"},{default:u(()=>[a(l(m),{name:"inn",place:"ИНН",max:"12",pattern:"[0-9]{12}",modelValue:t.value.inn,"onUpdate:modelValue":e[9]||(e[9]=o=>t.value.inn=o)},null,8,["modelValue"])]),_:1}),a(l(n),{label:"Семейное положение"},{default:u(()=>[a(l(m),{name:"marital",place:"Семейное положение",modelValue:t.value.marital,"onUpdate:modelValue":e[10]||(e[10]=o=>t.value.marital=o)},null,8,["modelValue"])]),_:1}),a(l(n),{label:"Дополнительно"},{default:u(()=>[a(l(b),{name:"addition",place:"Дополнительно",modelValue:t.value.addition,"onUpdate:modelValue":e[11]||(e[11]=o=>t.value.addition=o)},null,8,["modelValue"])]),_:1}),a(l(E),null,{default:u(()=>[a(l(c),{onCancel:e[12]||(e[12]=o=>i("cancel"))})]),_:1})],32))}});export{w as default};
