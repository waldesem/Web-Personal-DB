const __vite__fileDeps=["./ActionIcons-CZWxtVtO.js","./index-Cgb_Cr_9.js","./index-6fGrG267.css","./InquiryForm-DXE4_1w3.js","./LabelSlot-DJ_0dg1R.js","./_plugin-vue_export-helper-DlAUqK2U.js","./LabelSlot-BKRWK_aH.css"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
import{d as D,n as E,o,g as I,u as e,c as s,F as T,r as h,b as i,w as l,q as L,z as x,x as c,t as d,e as p,f as v}from"./index-Cgb_Cr_9.js";import{s as m}from"./state-ByRrGBfM.js";import"./utilities-D5XiXVJ8.js";const C={key:1,class:"py-3"},V={key:1},$={key:2},R=D({__name:"InquiryTab",props:{tabAction:{type:String,default:""},currentTab:{type:String,default:""}},emits:["cancel"],setup(S,{emit:g}){const q=p(()=>v(()=>import("./ActionIcons-CZWxtVtO.js"),__vite__mapDeps([0,1,2]),import.meta.url)),f=p(()=>v(()=>import("./InquiryForm-DXE4_1w3.js"),__vite__mapDeps([3,1,2]),import.meta.url)),r=p(()=>v(()=>import("./LabelSlot-DJ_0dg1R.js"),__vite__mapDeps([4,1,2,5,6]),import.meta.url)),b=g,y=S,t=E({itemId:"",item:{},showActions:!1});function k(){t.value.itemId="",Object.keys(t.value.item).forEach(u=>delete t.value.item[u]),b("cancel")}function A(u){m.updateItem("inquiries",u),k()}return(u,a)=>y.tabAction==="create"&&y.currentTab==="InquiryTab"?(o(),I(e(f),{key:0,onSubmit:A,onCancel:a[0]||(a[0]=n=>b("cancel"))})):e(m).anketa.inquiries.length?(o(),s("div",C,[(o(!0),s(T,null,h(e(m).anketa.inquiries,(n,w)=>(o(),s("div",{class:"card card-body mb-3",key:w,onMouseover:a[1]||(a[1]=_=>t.value.showActions=!0),onMouseout:a[2]||(a[2]=_=>t.value.showActions=!1)},[t.value.itemId===n.id.toString()?(o(),I(e(f),{key:0,inquiry:t.value.item,onSubmit:A,onCancel:k},null,8,["inquiry"])):(o(),s("div",V,[i(e(r),null,{default:l(()=>[L(i(e(q),{onDelete:_=>e(m).deleteItem(n.id.toString(),"inquiries"),onUpdate:_=>{t.value.item=n,t.value.itemId=n.id.toString()}},null,8,["onDelete","onUpdate"]),[[x,t.value.showActions]])]),_:2},1024),i(e(r),{label:"Информация"},{default:l(()=>[c(d(n.info),1)]),_:2},1024),i(e(r),{label:"Иннициатор"},{default:l(()=>[c(d(n.initiator),1)]),_:2},1024),i(e(r),{label:"Сотрудник"},{default:l(()=>[c(d(n.user),1)]),_:2},1024),i(e(r),{label:"Дата записи"},{default:l(()=>[c(d(new Date(String(n.created)).toLocaleString("ru-RU")),1)]),_:2},1024)]))],32))),128))])):(o(),s("p",$,"Данные отсутствуют"))}});export{R as default};
