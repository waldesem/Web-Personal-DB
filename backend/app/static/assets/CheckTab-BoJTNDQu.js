const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./ActionIcons-wfc4LZSD.js","./index-2zmkzzg-.js","./index-BqKjTnG4.css","./_plugin-vue_export-helper-DlAUqK2U.js","./ActionIcons-CukUJdTR.css","./LabelSlot-BgeD9FWb.js","./LabelSlot-BKRWK_aH.css","./FileForm-Zik2cCdK.js","./CheckForm-CxWDBYGw.js","./state-B8D0eDa0.js"])))=>i.map(i=>d[i]);
import{d as T,r as C,o as i,c as _,e as v,b as a,u as e,F as x,A as $,m as w,l,g as A,v as E,t as n,p as s,h as m,j as k,s as F,x as V}from"./index-2zmkzzg-.js";import{e as f,c as O}from"./state-B8D0eDa0.js";import{_ as B}from"./_plugin-vue_export-helper-DlAUqK2U.js";const M=b=>(F("data-v-2f25acf6"),b=b(),V(),b),P={class:"collapse card card-body mb-3",id:"clps_check"},R={key:0},U={key:1},j={class:"fs-5 fw-medium text-primary p-1"},N=M(()=>v("button",{type:"button",class:"btn btn-link","data-bs-toggle":"collapse",href:"#clps_additional",role:"button"}," Показать ",-1)),H={class:"collapse card card-body mb-3",id:"clps_additional"},J=["innerHTML"],X={key:1,class:"form-label text-primary text-decoration-underline",for:"xml-file",style:{cursor:"pointer"}},q={key:1,class:"p-3"},z=T({__name:"CheckTab",setup(b){const L=m(()=>k(()=>import("./ActionIcons-wfc4LZSD.js"),__vite__mapDeps([0,1,2,3,4]),import.meta.url)),o=m(()=>k(()=>import("./LabelSlot-BgeD9FWb.js"),__vite__mapDeps([5,1,2,3,6]),import.meta.url)),y=m(()=>k(()=>import("./FileForm-Zik2cCdK.js"),__vite__mapDeps([7,1,2]),import.meta.url)),I=m(()=>k(()=>import("./CheckForm-CxWDBYGw.js"),__vite__mapDeps([8,1,2,9]),import.meta.url)),r=C({actions:!1,edit:!1,itemId:"",check:{}});function g(){r.value.edit=!1,r.value.itemId="";const u=document.getElementById("clps_check");u==null||u.setAttribute("class","collapse card card-body mb-3")}function S(u){let c="";for(let t of u){let p="";for(const[d,h]of Object.entries(t))p+=`<tr><td>${d}</td>`+(typeof h=="string"?`<td>${h}</td>`:`<td>${S(h)}</td>`)+"</tr>";c+=p}return`<table class="table table-striped align-middle">${c}</table>`}const D=u=>{try{const c=JSON.parse(u);return S(c)}catch(c){return console.error(c),null}};return(u,c)=>(i(),_(x,null,[v("div",P,[a(e(I),{onCancel:g})]),e(f).anketa.checks.length?(i(),_("div",R,[(i(!0),_(x,null,$(e(f).anketa.checks,(t,p)=>(i(),_("div",{class:"card card-body mb-3",key:p,onMouseover:c[1]||(c[1]=d=>r.value.actions=!0),onMouseout:c[2]||(c[2]=d=>r.value.actions=!1)},[r.value.edit&&r.value.itemId==t.id.toString()?(i(),w(e(I),{key:0,check:r.value.check,onCancel:g},null,8,["check"])):(i(),_("div",U,[a(e(o),null,{default:l(()=>[A(a(e(L),{onDelete:d=>e(f).deleteItem(t.id.toString(),"checks"),onUpdate:d=>{r.value.check=t,r.value.itemId=t.id.toString(),r.value.edit=!0},"for-input":"check-file"},{default:l(()=>[A(a(e(y),{"name-id":"check-file",accept:"*",onSubmit:c[0]||(c[0]=d=>e(f).submitFile(d,"checks",e(f).share.candId))},null,512),[[E,r.value.actions]])]),_:2},1032,["onDelete","onUpdate"]),[[E,r.value.actions&&e(f).anketa.persons.user_id==e(O).user.userId&&e(f).anketa.persons.standing]])]),_:2},1024),v("p",j,n("Проверка кандидата #"+(p+1)),1),a(e(o),{label:"Проверка по местам работы"},{default:l(()=>[s(n(t.workplace),1)]),_:2},1024),a(e(o),{label:"Проверка паспорта"},{default:l(()=>[s(n(t.document),1)]),_:2},1024),a(e(o),{label:"Проверка ИНН"},{default:l(()=>[s(n(t.inn),1)]),_:2},1024),a(e(o),{label:"Проверка ФССП"},{default:l(()=>[s(n(t.debt),1)]),_:2},1024),a(e(o),{label:"Проверка банкротства"},{default:l(()=>[s(n(t.bankruptcy),1)]),_:2},1024),a(e(o),{label:"Проверка БКИ"},{default:l(()=>[s(n(t.bki),1)]),_:2},1024),a(e(o),{label:"Проверка судебных решений"},{default:l(()=>[s(n(t.courts),1)]),_:2},1024),a(e(o),{label:"Проверка аффилированности"},{default:l(()=>[s(n(t.affilation),1)]),_:2},1024),a(e(o),{label:"Проверка по списку террористов"},{default:l(()=>[s(n(t.terrorist),1)]),_:2},1024),a(e(o),{label:"Проверка в розыск"},{default:l(()=>[s(n(t.mvd),1)]),_:2},1024),a(e(o),{label:"Проверка в открытых источниках"},{default:l(()=>[s(n(t.internet),1)]),_:2},1024),a(e(o),{label:"Проверка в Кронос"},{default:l(()=>[s(n(t.cronos),1)]),_:2},1024),a(e(o),{label:"Проверка в Крос"},{default:l(()=>[s(n(t.cros),1)]),_:2},1024),a(e(o),{label:"Комментарии"},{default:l(()=>[s(n(t.comment?t.comment:"-"),1)]),_:2},1024),a(e(o),{label:"Результат"},{default:l(()=>[s(n(t.conclusion),1)]),_:2},1024),a(e(o),{label:"Сотрудник"},{default:l(()=>[s(n(t.username),1)]),_:2},1024),a(e(o),{label:"Дата записи"},{default:l(()=>[s(n(new Date(t.created+" UTC").toLocaleString("ru-RU")),1)]),_:2},1024),a(e(o),{class:"d-print-none",label:"Дополнительная информация"},{default:l(()=>[N]),_:1}),v("div",H,[t.addition?(i(),_("div",{key:0,innerHTML:D(t.addition)},null,8,J)):(i(),_("label",X,[s(" Загрузить XML "),a(e(y),{accept:".xml","name-id":"xml-file",onSubmit:d=>e(f).submitFile(d,"xml",t.id)},null,8,["onSubmit"])]))])]))],32))),128))])):(i(),_("p",q,"Проверка кандидата отсутствует"))],64))}}),W=B(z,[["__scopeId","data-v-2f25acf6"]]);export{W as default};
