const __vite__fileDeps=["./ActionHeader-B5rljA6q.js","./index-BCJo_gEN.js","./index-6fGrG267.css","./ActionIcons-Dw34qmV0.js","./AddressForm-BjN0V3kK.js","./utilities-B_ayHb2j.js","./state-CDYnk2KN.js","./LabelSlot-CvGLSY44.js","./_plugin-vue_export-helper-DlAUqK2U.js","./LabelSlot-BKRWK_aH.css"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
import{d as y,i as S,n as E,o as n,c as s,b as d,u as a,g as f,B as k,F as w,r as L,w as i,q as V,z as $,x as v,t as m,e as _,f as p}from"./index-BCJo_gEN.js";import{s as l}from"./state-CDYnk2KN.js";import"./utilities-B_ayHb2j.js";const C={key:1,class:"collapse show",id:"address"},R={key:1},h={key:2},T=y({__name:"AddressDiv",setup(x){const D=_(()=>p(()=>import("./ActionHeader-B5rljA6q.js"),__vite__mapDeps([0,1,2]),import.meta.url)),b=_(()=>p(()=>import("./ActionIcons-Dw34qmV0.js"),__vite__mapDeps([3,1,2]),import.meta.url)),A=_(()=>p(()=>import("./AddressForm-BjN0V3kK.js"),__vite__mapDeps([4,1,2,5,6]),import.meta.url)),r=_(()=>p(()=>import("./LabelSlot-CvGLSY44.js"),__vite__mapDeps([7,1,2,8,9]),import.meta.url));S(async()=>{await l.getItem("addresses")});const e=E({action:"",itemId:"",item:{},showActions:!1});function I(u){l.updateItem(e.value.action,"addresses",e.value.itemId,u),Object.keys(u).forEach(t=>{delete u[t]}),e.value.action="",e.value.itemId=""}return(u,t)=>(n(),s(w,null,[d(a(D),{id:"address",header:"Адреса",action:e.value.action,onAction:t[0]||(t[0]=o=>e.value.action=e.value.action?"":"create")},null,8,["action"]),e.value.action==="create"?(n(),f(a(A),{key:0,onSubmit:I,onCancel:t[1]||(t[1]=o=>{e.value.action="",e.value.itemId=""})})):k("",!0),a(l).anketa.addresses.length?(n(),s("div",C,[(n(!0),s(w,null,L(a(l).anketa.addresses,(o,g)=>(n(),s("div",{key:g,onMouseover:t[3]||(t[3]=c=>e.value.showActions=!0),onMouseout:t[4]||(t[4]=c=>e.value.showActions=!1),class:"card card-body mb-3"},[e.value.action==="update"&&e.value.itemId===o.id.toString()?(n(),f(a(A),{key:0,addrs:e.value.item,onSubmit:I,onCancel:t[2]||(t[2]=c=>{e.value.action="",e.value.itemId=""})},null,8,["addrs"])):(n(),s("div",R,[d(a(r),null,{default:i(()=>[V(d(a(b),{onDelete:c=>a(l).deleteItem(o.id.toString(),"addresses"),onUpdate:c=>{e.value.action="update",e.value.item=o,e.value.itemId=o.id.toString()}},null,8,["onDelete","onUpdate"]),[[$,e.value.showActions]])]),_:2},1024),d(a(r),{label:"Тип"},{default:i(()=>[v(m(o.view),1)]),_:2},1024),d(a(r),{label:"Адрес"},{default:i(()=>[v(m(o.address),1)]),_:2},1024),d(a(r),{label:"Дата"},{default:i(()=>[v(m(new Date(String(o.created)).toLocaleDateString("ru-RU")),1)]),_:2},1024),o.updated?(n(),f(a(r),{key:0,label:"Обновлено"},{default:i(()=>[v(m(new Date(String(o.updated)).toLocaleDateString("ru-RU")),1)]),_:2},1024)):k("",!0)]))],32))),128))])):(n(),s("p",h,"Данные отсутствуют"))],64))}});export{T as default};
