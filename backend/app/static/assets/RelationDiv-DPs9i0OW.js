const __vite__fileDeps=["assets/ActionHeader-CmeJFtzG.js","assets/index-C5gLaoji.js","assets/index-D3owuatg.css","assets/ActionIcons-DEEHLcWa.js","assets/RelationForm-CMLPZp_l.js","assets/LabelSlot-BBAP09GH.js"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
import{d as b,n as C,J as i,q as S,r as P,o as n,c as l,b as r,u as t,k as f,K as V,E as I,F as k,x as $,w as u,t as L,v as R,B as A,C as g,e as d,f as v}from"./index-C5gLaoji.js";const h={key:1},x={key:2},F=b({__name:"RelationDiv",setup(B){const w=d(()=>v(()=>import("./ActionHeader-CmeJFtzG.js"),__vite__mapDeps([0,1,2]))),y=d(()=>v(()=>import("./ActionIcons-DEEHLcWa.js"),__vite__mapDeps([3,1,2]))),_=d(()=>v(()=>import("./RelationForm-CMLPZp_l.js"),__vite__mapDeps([4,1,2]))),c=d(()=>v(()=>import("./LabelSlot-BBAP09GH.js"),__vite__mapDeps([5,1,2])));C(async()=>{await i.getItem("relation")});const e=S({action:"",itemId:"",item:{},showActions:!1});function m(p){i.updateItem(e.value.action,"relation",e.value.itemId,p),e.value.action="",e.value.itemId=""}return(p,o)=>{const D=P("router-link");return n(),l(k,null,[r(t(w),{id:"relation",header:"Связи",action:e.value.action,onAction:o[0]||(o[0]=a=>e.value.action=e.value.action?"":"create")},null,8,["action"]),e.value.action==="create"?(n(),f(t(_),{key:0,onSubmit:m,onCancel:o[1]||(o[1]=a=>{e.value.action="",e.value.itemId=""})})):V("",!0),t(i).anketa.relation.length?(n(),l("div",{key:1,class:I({"collapse show":!t(i).share.printPage}),id:"relation"},[(n(!0),l(k,null,$(t(i).anketa.relation,(a,E)=>(n(),l("div",{class:I(["mb-3",{"card card-body":!t(i).share.printPage}]),key:E,onMouseover:o[3]||(o[3]=s=>e.value.showActions=!0),onMouseout:o[4]||(o[4]=s=>e.value.showActions=!1)},[e.value.action==="update"&&e.value.itemId===a.id.toString()?(n(),f(t(_),{key:0,relation:e.value.item,onSubmit:m,onCancel:o[2]||(o[2]=s=>{e.value.action="",e.value.itemId=""})},null,8,["relation"])):(n(),l("div",h,[r(t(c),null,{default:u(()=>[L(r(t(y),{onDelete:s=>t(i).deleteItem(a.id.toString(),"relation"),onUpdate:s=>{e.value.action="update",e.value.item=a,e.value.itemId=a.id.toString()}},null,8,["onDelete","onUpdate"]),[[R,e.value.showActions]])]),_:2},1024),r(t(c),{label:"Тип"},{default:u(()=>[A(g(a.relation),1)]),_:2},1024),r(t(c),{label:"Связь","no-print":!0},{default:u(()=>[r(D,{to:{name:"profile",params:{id:String(a.relation_id)}}},{default:u(()=>[A(" ID #"+g(a.relation_id),1)]),_:2},1032,["to"])]),_:2},1024)]))],34))),128))],2)):(n(),l("p",x,"Данные отсутствуют"))],64)}}});export{F as default};
