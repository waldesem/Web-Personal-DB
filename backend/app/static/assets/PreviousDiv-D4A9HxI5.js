const __vite__fileDeps=["./ActionHeader-BqcdmkJM.js","./index-BhwzwnLH.js","./index-6fGrG267.css","./ActionIcons-BkvQs5mF.js","./PreviousForm-BY9rdPFp.js","./utilities-DuY9392d.js","./LabelSlot-DtLQ-bg4.js","./_plugin-vue_export-helper-DlAUqK2U.js","./LabelSlot-BKRWK_aH.css"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
import{d as D,i as S,n as E,o as a,c as r,b as s,u as o,g as l,q as m,F as A,r as L,w as u,s as P,A as V,y as v,t as d,e as _,f}from"./index-BhwzwnLH.js";import{s as c}from"./state-BY_Xl-td.js";import"./utilities-DuY9392d.js";const $={key:1,class:"collapse show",id:"previous"},h={key:1},C={key:2},F=D({__name:"PreviousDiv",setup(R){const b=_(()=>f(()=>import("./ActionHeader-BqcdmkJM.js"),__vite__mapDeps([0,1,2]),import.meta.url)),g=_(()=>f(()=>import("./ActionIcons-BkvQs5mF.js"),__vite__mapDeps([3,1,2]),import.meta.url)),y=_(()=>f(()=>import("./PreviousForm-BY9rdPFp.js"),__vite__mapDeps([4,1,2,5]),import.meta.url)),i=_(()=>f(()=>import("./LabelSlot-DtLQ-bg4.js"),__vite__mapDeps([6,1,2,7,8]),import.meta.url));S(async()=>{await c.getItem("previous")});const e=E({action:"",itemId:"",item:{},showActions:!1});function k(I){c.updateItem(e.value.action,"previous",e.value.itemId,I),e.value.action="",e.value.itemId=""}return(I,n)=>(a(),r(A,null,[s(o(b),{id:"previous",header:"Изменение имени",action:e.value.action,onAction:n[0]||(n[0]=t=>e.value.action=e.value.action?"":"create")},null,8,["action"]),e.value.action==="create"?(a(),l(o(y),{key:0,previous:e.value.item,onSubmit:k,onCancel:n[1]||(n[1]=t=>{e.value.action="",e.value.itemId=""})},null,8,["previous"])):m("",!0),o(c).anketa.previous.length?(a(),r("div",$,[(a(!0),r(A,null,L(o(c).anketa.previous,(t,w)=>(a(),r("div",{key:w,onMouseover:n[3]||(n[3]=p=>e.value.showActions=!0),onMouseout:n[4]||(n[4]=p=>e.value.showActions=!1),class:"card card-body mb-3"},[e.value.action==="update"&&e.value.itemId===t.id.toString()?(a(),l(o(y),{key:0,previous:e.value.item,onSubmit:k,onCancel:n[2]||(n[2]=p=>{e.value.action="",e.value.itemId=""})},null,8,["previous"])):(a(),r("div",h,[s(o(i),null,{default:u(()=>[P(s(o(g),{onDelete:p=>o(c).deleteItem(t.id.toString(),"previous"),onUpdate:p=>{e.value.action="update",e.value.item=t,e.value.itemId=t.id.toString()}},null,8,["onDelete","onUpdate"]),[[V,e.value.showActions]])]),_:2},1024),s(o(i),{label:"Фамилия"},{default:u(()=>[v(d(t.surname),1)]),_:2},1024),s(o(i),{label:"Имя"},{default:u(()=>[v(d(t.firstname),1)]),_:2},1024),t.patronymic?(a(),l(o(i),{key:0,label:"Отчество"},{default:u(()=>[v(d(t.patronymic),1)]),_:2},1024)):m("",!0),t.changed?(a(),l(o(i),{key:1,label:"Дата изменения"},{default:u(()=>[v(d(new Date(String(t.changed)).toLocaleDateString("ru-RU")),1)]),_:2},1024)):m("",!0),t.reason?(a(),l(o(i),{key:2,label:"Причина"},{default:u(()=>[v(d(t.reason),1)]),_:2},1024)):m("",!0)]))],32))),128))])):(a(),r("p",C,"Данные отсутствуют"))],64))}});export{F as default};
