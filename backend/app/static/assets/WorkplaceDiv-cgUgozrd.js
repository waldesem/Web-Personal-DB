const __vite__fileDeps=["./ActionHeader-B5rljA6q.js","./index-BCJo_gEN.js","./index-6fGrG267.css","./ActionIcons-Dw34qmV0.js","./WorkplaceForm-BnXZoRxw.js","./utilities-B_ayHb2j.js","./LabelSlot-CvGLSY44.js","./_plugin-vue_export-helper-DlAUqK2U.js","./LabelSlot-BKRWK_aH.css"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
import{d as A,i as y,n as L,o,c as d,b as u,u as a,g as c,B as p,F as b,r as E,w as r,q as R,z as V,x as i,t as s,e as k,f as w}from"./index-BCJo_gEN.js";import{s as v}from"./state-CDYnk2KN.js";import"./utilities-B_ayHb2j.js";const $={key:1,class:"collapse show",id:"work"},C={key:1},U={key:2},T=A({__name:"WorkplaceDiv",setup(h){const I=k(()=>w(()=>import("./ActionHeader-B5rljA6q.js"),__vite__mapDeps([0,1,2]),import.meta.url)),g=k(()=>w(()=>import("./ActionIcons-Dw34qmV0.js"),__vite__mapDeps([3,1,2]),import.meta.url)),m=k(()=>w(()=>import("./WorkplaceForm-BnXZoRxw.js"),__vite__mapDeps([4,1,2,5]),import.meta.url)),n=k(()=>w(()=>import("./LabelSlot-CvGLSY44.js"),__vite__mapDeps([6,1,2,7,8]),import.meta.url));y(()=>{v.getItem("workplaces")});const e=L({action:"",itemId:"",item:{},showActions:!1});function f(D){v.updateItem(e.value.action,"workplaces",e.value.itemId,D),e.value.action="",e.value.itemId=""}return(D,l)=>(o(),d(b,null,[u(a(I),{id:"work",header:"Работа",action:e.value.action,onAction:l[0]||(l[0]=t=>e.value.action=e.value.action?"":"create")},null,8,["action"]),e.value.action==="create"?(o(),c(a(m),{key:0,onSubmit:f,onCancel:l[1]||(l[1]=t=>{e.value.action="",e.value.itemId=""})})):p("",!0),a(v).anketa.workplaces.length?(o(),d("div",$,[(o(!0),d(b,null,E(a(v).anketa.workplaces,(t,S)=>(o(),d("div",{key:S,onMouseover:l[3]||(l[3]=_=>e.value.showActions=!0),onMouseout:l[4]||(l[4]=_=>e.value.showActions=!1),class:"card card-body mb-3"},[e.value.action==="update"&&e.value.itemId===t.id.toString()?(o(),c(a(m),{key:0,work:e.value.item,onSubmit:f,onCancel:l[2]||(l[2]=_=>{e.value.action="",e.value.itemId=""})},null,8,["work"])):(o(),d("div",C,[u(a(n),null,{default:r(()=>[R(u(a(g),{onDelete:_=>a(v).deleteItem(t.id.toString(),"workplaces"),onUpdate:_=>{e.value.action="update",e.value.item=t,e.value.itemId=t.id.toString()}},null,8,["onDelete","onUpdate"]),[[V,e.value.showActions]])]),_:2},1024),u(a(n),{label:"ID"},{default:r(()=>[i(s(t.id),1)]),_:2},1024),t.now_work?(o(),c(a(n),{key:0,label:"Текущая работа"},{default:r(()=>[i(s(t.now_work?"Да":"Нет"),1)]),_:2},1024)):p("",!0),u(a(n),{label:"Начало работы"},{default:r(()=>[i(s(new Date(t.started).toLocaleDateString("ru-RU")),1)]),_:2},1024),t.now_work?p("",!0):(o(),c(a(n),{key:1,label:"Окончание работы"},{default:r(()=>[i(s(new Date(t.finished).toLocaleDateString("ru-RU")),1)]),_:2},1024)),u(a(n),{label:"Место работы"},{default:r(()=>[i(s(t.workplace),1)]),_:2},1024),u(a(n),{label:"Адрес"},{default:r(()=>[i(s(t.address),1)]),_:2},1024),u(a(n),{label:"Должность"},{default:r(()=>[i(s(t.position),1)]),_:2},1024),u(a(n),{label:"Дата"},{default:r(()=>[i(s(new Date(String(t.created)).toLocaleDateString("ru-RU")),1)]),_:2},1024),t.updated?(o(),c(a(n),{key:2,label:"Обновлено"},{default:r(()=>[i(s(new Date(String(t.updated)).toLocaleDateString("ru-RU")),1)]),_:2},1024)):p("",!0)]))],32))),128))])):(o(),d("p",U,"Данные отсутствуют"))],64))}});export{T as default};
