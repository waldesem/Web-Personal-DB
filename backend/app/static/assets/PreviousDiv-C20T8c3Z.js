const __vite__fileDeps=["./ActionHeader-C-ritx9D.js","./index-Cgb_Cr_9.js","./index-6fGrG267.css","./ActionIcons-CZWxtVtO.js","./PreviousForm-CbZtm3Ds.js","./LabelSlot-DJ_0dg1R.js","./_plugin-vue_export-helper-DlAUqK2U.js","./LabelSlot-BKRWK_aH.css"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
import{d as w,n as S,o as a,c as i,b as s,u as o,g as l,C as v,F as g,r as E,w as u,q as C,z as L,x as c,t as d,e as p,f as _}from"./index-Cgb_Cr_9.js";import{s as m}from"./state-ByRrGBfM.js";import"./utilities-D5XiXVJ8.js";const P={key:1,class:"collapse show",id:"previous"},V={key:1},x={key:2},O=w({__name:"PreviousDiv",setup(R){const h=p(()=>_(()=>import("./ActionHeader-C-ritx9D.js"),__vite__mapDeps([0,1,2]),import.meta.url)),D=p(()=>_(()=>import("./ActionIcons-CZWxtVtO.js"),__vite__mapDeps([3,1,2]),import.meta.url)),y=p(()=>_(()=>import("./PreviousForm-CbZtm3Ds.js"),__vite__mapDeps([4,1,2]),import.meta.url)),n=p(()=>_(()=>import("./LabelSlot-DJ_0dg1R.js"),__vite__mapDeps([5,1,2,6,7]),import.meta.url)),e=S({action:"",itemId:"",item:{},showActions:!1});function f(){e.value.action="",e.value.itemId="",e.value.item={}}function A(b){m.updateItem("previous",b),f()}return(b,r)=>(a(),i(g,null,[s(o(h),{id:"previous",header:"Изменение имени",action:e.value.action,onAction:r[0]||(r[0]=t=>e.value.action=e.value.action?"":"create")},null,8,["action"]),e.value.action==="create"?(a(),l(o(y),{key:0,previous:e.value.item,onSubmit:A,onCancel:f},null,8,["previous"])):v("",!0),o(m).anketa.previous.length?(a(),i("div",P,[(a(!0),i(g,null,E(o(m).anketa.previous,(t,I)=>(a(),i("div",{key:I,onMouseover:r[1]||(r[1]=k=>e.value.showActions=!0),onMouseout:r[2]||(r[2]=k=>e.value.showActions=!1),class:"card card-body mb-3"},[e.value.action==="update"&&e.value.itemId===t.id.toString()?(a(),l(o(y),{key:0,previous:e.value.item,onSubmit:A,onCancel:f},null,8,["previous"])):(a(),i("div",V,[s(o(n),null,{default:u(()=>[C(s(o(D),{onDelete:k=>o(m).deleteItem(t.id.toString(),"previous"),onUpdate:k=>{e.value.action="update",e.value.item=t,e.value.itemId=t.id.toString()},hide:!0},null,8,["onDelete","onUpdate"]),[[L,e.value.showActions]])]),_:2},1024),s(o(n),{label:"Фамилия"},{default:u(()=>[c(d(t.surname),1)]),_:2},1024),s(o(n),{label:"Имя"},{default:u(()=>[c(d(t.firstname),1)]),_:2},1024),t.patronymic?(a(),l(o(n),{key:0,label:"Отчество"},{default:u(()=>[c(d(t.patronymic),1)]),_:2},1024)):v("",!0),t.changed?(a(),l(o(n),{key:1,label:"Дата изменения"},{default:u(()=>[c(d(new Date(String(t.changed)).toLocaleDateString("ru-RU")),1)]),_:2},1024)):v("",!0),t.reason?(a(),l(o(n),{key:2,label:"Причина"},{default:u(()=>[c(d(t.reason),1)]),_:2},1024)):v("",!0)]))],32))),128))])):(a(),i("p",x,"Данные отсутствуют"))],64))}});export{O as default};
