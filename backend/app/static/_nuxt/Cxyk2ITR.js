import{_ as U}from"./CCtlyeFc.js";import{_ as x}from"./CxuAO0fP.js";import{_ as E}from"./R30G0gbg.js";import{_ as I}from"./Cay9Qj57.js";import{_ as C}from"./BpByd896.js";import{n as S,a4 as B,o as u,c as r,b as t,w as a,G as c,y as F,r as g,a as A,F as w,D as L,s as M,z as N,C as j,d as f,t as v,_ as G}from"./Dinf_0xm.js";import{e as O,g as _,s as R}from"./DyhWwMfy.js";import{_ as z}from"./DfNyRKp3.js";const H=S({__name:"DocumentForm",props:{docs:{type:Object,default:{}}},emits:["cancel"],setup(k,{emit:p}){const m=p,n=B(k.docs);function y(){_.updateItem("documents",n.value),m("cancel"),Object.keys(n.value).forEach(d=>delete n.value[d])}return(d,o)=>{const V=x,l=E,i=I,s=C;return u(),r("form",{onSubmit:F(y,["prevent"]),class:"form form-check",role:"form"},[t(l,{label:"Вид документа"},{default:a(()=>[t(V,{name:"view",need:!0,select:c(O).classes.documents,modelValue:n.value.view,"onUpdate:modelValue":o[0]||(o[0]=e=>n.value.view=e)},null,8,["select","modelValue"])]),_:1}),t(l,{label:"Серия документа"},{default:a(()=>[t(i,{name:"series",place:"Серия документа",modelValue:n.value.series,"onUpdate:modelValue":o[1]||(o[1]=e=>n.value.series=e)},null,8,["modelValue"])]),_:1}),t(l,{label:"Номер документа"},{default:a(()=>[t(i,{name:"number",place:"Номер документа",need:!0,modelValue:n.value.digits,"onUpdate:modelValue":o[2]||(o[2]=e=>n.value.digits=e)},null,8,["modelValue"])]),_:1}),t(l,{label:"Кем выдан"},{default:a(()=>[t(i,{name:"agency",place:"Орган выдавший",modelValue:n.value.agency,"onUpdate:modelValue":o[3]||(o[3]=e=>n.value.agency=e)},null,8,["modelValue"])]),_:1}),t(l,{label:"Дата выдачи"},{default:a(()=>[t(i,{name:"issue",place:"Дата выдачи",typeof:"date",modelValue:n.value.issue,"onUpdate:modelValue":o[4]||(o[4]=e=>n.value.issue=e)},null,8,["modelValue"])]),_:1}),t(s,{onCancel:o[5]||(o[5]=e=>m("cancel"))})],32)}}}),T={class:"collapse card card-body mb-3",id:"documenter"},q={key:0},J={key:1},K={key:1},P=S({__name:"DocumDiv",setup(k){const p=g(!1),m=g(""),b=g(!1),n=g({});function y(){b.value=!1,m.value="";const d=document.getElementById("documenter");d==null||d.setAttribute("class","collapse card card-body mb-3")}return(d,o)=>{const V=U,l=H,i=z,s=E;return u(),r(w,null,[t(V,{id:"documenter",header:"Документы"}),A("div",T,[t(l,{onCancel:y})]),c(_).anketa.documents.length?(u(),r("div",q,[(u(!0),r(w,null,L(c(_).anketa.documents,(e,$)=>(u(),r("div",{key:$,onMouseover:o[0]||(o[0]=D=>p.value=!0),onMouseout:o[1]||(o[1]=D=>p.value=!1),class:"card card-body mb-3"},[b.value&&m.value==e.id.toString()?(u(),M(l,{key:0,docs:n.value,onCancel:y},null,8,["docs"])):(u(),r("div",J,[t(s,null,{default:a(()=>[N(t(i,{onDelete:D=>c(_).deleteItem(e.id.toString(),"documents"),onUpdate:D=>{n.value=e,m.value=e.id.toString(),b.value=!0},hide:!0},null,8,["onDelete","onUpdate"]),[[j,p.value&&c(_).anketa.persons.user_id==c(R).user.userId&&c(_).anketa.persons.standing]])]),_:2},1024),t(s,{label:"Вид документа"},{default:a(()=>[f(v(e.view),1)]),_:2},1024),t(s,{label:"Номер документа"},{default:a(()=>[f(v(e.digits),1)]),_:2},1024),t(s,{label:"Серия документа"},{default:a(()=>[f(v(e.series),1)]),_:2},1024),t(s,{label:"Дата выдачи"},{default:a(()=>[f(v(e.issue?new Date(String(e.issue)).toLocaleDateString("ru-RU"):""),1)]),_:2},1024),t(s,{label:"Кем выдан"},{default:a(()=>[f(v(e.agency),1)]),_:2},1024)]))],32))),128))])):(u(),r("p",K,"Данные отсутствуют"))],64)}}}),oe=G(P,[["__scopeId","data-v-9374146f"]]);export{oe as default};
