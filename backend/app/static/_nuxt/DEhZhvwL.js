import{_ as B}from"./D1l-KubI.js";import{_ as F}from"./R30G0gbg.js";import{_ as D}from"./Xg5mm_XS.js";import{_ as L}from"./CxuAO0fP.js";import{_ as N}from"./BpByd896.js";import{n as h,a4 as T,r as x,g as j,o as i,c as f,a as g,b as e,w as n,G as p,y as A,F as w,D as M,s as S,z as I,C,t as s,d,B as E,p as O,e as G,_ as H}from"./Dinf_0xm.js";import{e as R,g as b,s as z}from"./DyhWwMfy.js";import{_ as J}from"./jj_8CMVi.js";import{_ as q}from"./DfNyRKp3.js";const K={class:"p-3"},P={class:"form form-check",role:"form"},Q=h({__name:"CheckForm",props:{check:{type:Object,default:{}}},emits:["cancel"],setup(k,{emit:c}){const V=c,o=T(k.check),m=x(!1);function r(){b.updateItem("checks",o.value),m.value=!1,V("cancel"),Object.keys(o.value).forEach(_=>delete o.value[_])}return j(m,()=>{m.value&&Object.assign(o.value,{workplace:"Негатива по местам работы не обнаружено",document:"Среди недействительных документов не обнаружен",inn:"ИНН соответствует паспорту",debt:"Задолженности не обнаружены",bankruptcy:"Решений о признании банкротом не имеется",bki:"Кредитная история не положительная",courts:"Судебные дела не обнаружены",affilation:"Аффилированность не выявлена",terrorist:"В списке террористов не обнаружен",mvd:"В розыск не объявлен",internet:"В открытых источниках негатив не обнаружен",cronos:"В Кронос негатив не выявлен",cros:"В Крос негатив не выявлен"})}),(_,t)=>{const y=B,l=F,a=D,U=L,v=N;return i(),f("div",K,[g("form",P,[e(l,{label:"Негатива нет"},{default:n(()=>[e(y,{name:"noNegative",modelValue:m.value,"onUpdate:modelValue":t[0]||(t[0]=u=>m.value=u)},null,8,["modelValue"])]),_:1})]),g("form",{onSubmit:A(r,["prevent"]),class:"form form-check",role:"form",id:"checkFormId"},[e(l,{label:"Проверка по местам работы"},{default:n(()=>[e(a,{name:"workplace",place:"Проверка по местам работы",modelValue:o.value.workplace,"onUpdate:modelValue":t[1]||(t[1]=u=>o.value.workplace=u)},null,8,["modelValue"])]),_:1}),e(l,{label:"Проверка документов"},{default:n(()=>[e(a,{name:"document",place:"Проверка документов",modelValue:o.value.document,"onUpdate:modelValue":t[2]||(t[2]=u=>o.value.document=u)},null,8,["modelValue"])]),_:1}),e(l,{label:"Проверка ИНН"},{default:n(()=>[e(a,{name:"inn",place:"Проверка ИНН",modelValue:o.value.inn,"onUpdate:modelValue":t[3]||(t[3]=u=>o.value.inn=u)},null,8,["modelValue"])]),_:1}),e(l,{label:"Проверка задолженностей"},{default:n(()=>[e(a,{name:"debt",place:"Проверка задолженностей",modelValue:o.value.debt,"onUpdate:modelValue":t[4]||(t[4]=u=>o.value.debt=u)},null,8,["modelValue"])]),_:1}),e(l,{label:"Проверка решений о признании банкротом"},{default:n(()=>[e(a,{name:"bankruptcy",place:"Проверка решений о признании банкротом",modelValue:o.value.bankruptcy,"onUpdate:modelValue":t[5]||(t[5]=u=>o.value.bankruptcy=u)},null,8,["modelValue"])]),_:1}),e(l,{label:"Проверка кредитной истории"},{default:n(()=>[e(a,{name:"bki",place:"Проверка кредитной истории",modelValue:o.value.bki,"onUpdate:modelValue":t[6]||(t[6]=u=>o.value.bki=u)},null,8,["modelValue"])]),_:1}),e(l,{label:"Проверка судебных дел"},{default:n(()=>[e(a,{name:"courts",place:"Проверка судебных дел",modelValue:o.value.courts,"onUpdate:modelValue":t[7]||(t[7]=u=>o.value.courts=u)},null,8,["modelValue"])]),_:1}),e(l,{label:"Проверка аффилированности"},{default:n(()=>[e(a,{name:"affilation",place:"Проверка аффилированности",modelValue:o.value.affilation,"onUpdate:modelValue":t[8]||(t[8]=u=>o.value.affilation=u)},null,8,["modelValue"])]),_:1}),e(l,{label:"Проверка в списке террористов"},{default:n(()=>[e(a,{name:"terrorist",place:"Проверка в списке террористов",modelValue:o.value.terrorist,"onUpdate:modelValue":t[9]||(t[9]=u=>o.value.terrorist=u)},null,8,["modelValue"])]),_:1}),e(l,{label:"Проверка в розыск"},{default:n(()=>[e(a,{name:"mvd",place:"Проверка в розыск",modelValue:o.value.mvd,"onUpdate:modelValue":t[10]||(t[10]=u=>o.value.mvd=u)},null,8,["modelValue"])]),_:1}),e(l,{label:"Проверка в открытых источниках"},{default:n(()=>[e(a,{name:"internet",place:"Проверка в открытых источниках",modelValue:o.value.internet,"onUpdate:modelValue":t[11]||(t[11]=u=>o.value.internet=u)},null,8,["modelValue"])]),_:1}),e(l,{label:"Проверка в Кронос"},{default:n(()=>[e(a,{name:"cronos",place:"Проверка в Кронос",modelValue:o.value.cronos,"onUpdate:modelValue":t[12]||(t[12]=u=>o.value.cronos=u)},null,8,["modelValue"])]),_:1}),e(l,{label:"Проверка в Крос"},{default:n(()=>[e(a,{name:"cros",place:"Проверка в Крос",modelValue:o.value.cros,"onUpdate:modelValue":t[13]||(t[13]=u=>o.value.cros=u)},null,8,["modelValue"])]),_:1}),e(l,{label:"Комментарии"},{default:n(()=>[e(a,{name:"comments",place:"Комментарий",modelValue:o.value.comment,"onUpdate:modelValue":t[14]||(t[14]=u=>o.value.comment=u)},null,8,["modelValue"])]),_:1}),e(l,{label:"Результат"},{default:n(()=>[e(U,{name:"conclusion",need:!0,select:p(R).classes.conclusions,modelValue:o.value.conclusion,"onUpdate:modelValue":t[15]||(t[15]=u=>o.value.conclusion=u)},null,8,["select","modelValue"])]),_:1}),e(v,{onCancel:t[16]||(t[16]=u=>V("cancel"))})],32)])}}}),W=k=>(O("data-v-5de341f4"),k=k(),G(),k),X={class:"collapse card card-body mb-3",id:"clps_check"},Y={key:0},Z={key:1},ee={class:"fs-5 fw-medium text-primary p-1"},le=W(()=>g("button",{type:"button",class:"btn btn-link","data-bs-toggle":"collapse",href:"#clps_additional",role:"button"}," Информация ",-1)),ae=["innerHTML"],te={key:1,class:"p-3"},oe=h({__name:"CheckTab",setup(k){const c=x({actions:!1,edit:!1,itemId:"",check:{}});function V(){c.value.edit=!1,c.value.itemId="";const m=document.getElementById("clps_check");m==null||m.setAttribute("class","collapse card card-body mb-3")}function $(m){let r="";for(let _ of m){let t="";for(const[y,l]of Object.entries(_))t+=`<tr><td style="width:30%">${y}</td>`+(typeof l=="string"?`<td>${l}</td>`:`<td>${$(l)}</td>`)+"</tr>";r+=`<table class="table table-sm table-striped text-break">${t}</table>`}return r}const o=m=>{try{const r=JSON.parse(m);return $(r)}catch(r){return console.error(r),null}};return(m,r)=>{const _=Q,t=J,y=q,l=F;return i(),f(w,null,[g("div",X,[e(_,{onCancel:V})]),p(b).anketa.checks.length?(i(),f("div",Y,[(i(!0),f(w,null,M(p(b).anketa.checks,(a,U)=>(i(),f("div",{class:"card card-body mb-3",key:U,onMouseover:r[1]||(r[1]=v=>c.value.actions=!0),onMouseout:r[2]||(r[2]=v=>c.value.actions=!1)},[c.value.edit&&c.value.itemId==a.id.toString()?(i(),S(_,{key:0,check:c.value.check,onCancel:V},null,8,["check"])):(i(),f("div",Z,[e(l,null,{default:n(()=>[I(e(y,{onDelete:v=>p(b).deleteItem(a.id.toString(),"checks"),onUpdate:v=>{c.value.check=a,c.value.itemId=a.id.toString(),c.value.edit=!0},"for-input":"check-file"},{default:n(()=>[I(e(t,{"name-id":"check-file",accept:"*",onSubmit:r[0]||(r[0]=v=>p(b).submitFile(v,"checks",p(b).share.candId))},null,512),[[C,c.value.actions]])]),_:2},1032,["onDelete","onUpdate"]),[[C,c.value.actions&&!U&&p(b).anketa.persons.user_id==p(z).user.userId&&p(b).anketa.persons.standing]])]),_:2},1024),g("p",ee,s("Проверка кандидата #"+(U+1)),1),e(l,{label:"Проверка по местам работы"},{default:n(()=>[d(s(a.workplace),1)]),_:2},1024),e(l,{label:"Проверка паспорта"},{default:n(()=>[d(s(a.document),1)]),_:2},1024),e(l,{label:"Проверка ИНН"},{default:n(()=>[d(s(a.inn),1)]),_:2},1024),e(l,{label:"Проверка ФССП"},{default:n(()=>[d(s(a.debt),1)]),_:2},1024),e(l,{label:"Проверка банкротства"},{default:n(()=>[d(s(a.bankruptcy),1)]),_:2},1024),e(l,{label:"Проверка БКИ"},{default:n(()=>[d(s(a.bki),1)]),_:2},1024),e(l,{label:"Проверка судебных решений"},{default:n(()=>[d(s(a.courts),1)]),_:2},1024),e(l,{label:"Проверка аффилированности"},{default:n(()=>[d(s(a.affilation),1)]),_:2},1024),e(l,{label:"Проверка по списку террористов"},{default:n(()=>[d(s(a.terrorist),1)]),_:2},1024),e(l,{label:"Проверка в розыск"},{default:n(()=>[d(s(a.mvd),1)]),_:2},1024),e(l,{label:"Проверка в открытых источниках"},{default:n(()=>[d(s(a.internet),1)]),_:2},1024),e(l,{label:"Проверка в Кронос"},{default:n(()=>[d(s(a.cronos),1)]),_:2},1024),e(l,{label:"Проверка в Крос"},{default:n(()=>[d(s(a.cros),1)]),_:2},1024),e(l,{label:"Комментарии"},{default:n(()=>[d(s(a.comment?a.comment:"-"),1)]),_:2},1024),e(l,{label:"Результат"},{default:n(()=>[d(s(a.conclusion),1)]),_:2},1024),e(l,{label:"Сотрудник"},{default:n(()=>[d(s(a.username),1)]),_:2},1024),e(l,{label:"Дата записи"},{default:n(()=>[d(s(new Date(a.created+" UTC").toLocaleString("ru-RU")),1)]),_:2},1024),a.addition?(i(),S(l,{key:0,class:"d-print-none",label:"Дополнительно"},{default:n(()=>[le]),_:1})):E("",!0),a.addition?(i(),f("div",{key:1,class:"collapse card card-body",id:"clps_additional",innerHTML:o(a.addition)},null,8,ae)):E("",!0)]))],32))),128))])):(i(),f("p",te,"Проверка кандидата отсутствует"))],64)}}}),fe=H(oe,[["__scopeId","data-v-5de341f4"]]);export{fe as default};
