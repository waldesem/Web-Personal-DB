const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./C2xUM9nx.js","./Dinf_0xm.js","./entry.D5l7PXQ0.css","./BJYI14kU.js","./Cay9Qj57.js","./R30G0gbg.js","./LabelSlot.PpilRkAV.css","./Xg5mm_XS.js","./BpByd896.js","./DyhWwMfy.js","./jj_8CMVi.js","./DfNyRKp3.js","./ActionIcons.eji2zZFY.css","./CxuAO0fP.js","./DEhZhvwL.js","./D1l-KubI.js","./CheckTab.DRlAkNUw.css","./p_xpe7sH.js","./PoligrafTab.CMQXC0kX.css","./BB6Nu4HJ.js","./InvestigateTab.1CfiWZHh.css","./CcdnqZy9.js","./InquiryTab.B1wPiHck.css"])))=>i.map(i=>d[i]);
import{n as x,r as P,o as a,c as n,a as s,G as e,z as V,C as B,_ as O,q as R,J as j,s as D,w as q,b as E,F as y,D as T,E as k,B as w,t as F,K as N,L as b,M as v}from"./Dinf_0xm.js";import{g as t,s as C,d as S,c as z,e as K}from"./DyhWwMfy.js";import{_ as U}from"./DmUv_Nof.js";import{_ as G}from"./CGFYxdEI.js";import"./86FpULSn.js";const H={class:"card mb-3",style:{width:"16rem"}},J=["src"],Q={class:"card-img-overlay"},W=x({__name:"PhotoCard",setup($){const r=P({formData:new FormData,showPhoto:!1,handleMouse(){this.showPhoto=!this.showPhoto},async submitImage(g){await t.submitFile(g,"image",t.share.candId)}});return(g,i)=>(a(),n("div",H,[s("div",{class:"card-img-container",onMouseover:i[1]||(i[1]=(...l)=>r.value.handleMouse&&r.value.handleMouse(...l)),onMouseout:i[2]||(i[2]=(...l)=>r.value.handleMouse&&r.value.handleMouse(...l))},[s("img",{src:e(t).share.imageUrl,style:{width:"100%",height:"auto"},class:"card-img-top",alt:"..."},null,8,J),V(s("div",Q,[s("input",{onChange:i[0]||(i[0]=l=>r.value.submitImage(l)),class:"form-control form-control-sm",id:"formImage",type:"file",accept:"image/*"},null,32)],512),[[B,r.value.showPhoto&&e(t).anketa.persons.user_id==e(C).user.userId&&e(t).anketa.persons.standing]])],32)]))}}),X=O(W,[["__scopeId","data-v-c3895da2"]]),Y={class:"row mb-3"},Z={class:"col-md-10"},tt={key:0,class:"col-md-2 d-flex justify-content-end d-print-none"},et=["title","href"],st={key:0,class:"position-relative"},at=["title"],ot={key:0,class:"spinner-grow text-danger",role:"status"},nt={key:1,class:"text-danger fs-5"},rt=s("i",{class:"bi bi-pencil-square"},null,-1),it=[rt],lt={class:"nav nav-tabs nav-justified d-print-none",role:"tablist"},ct=["data-bs-target","onClick"],dt={class:"tab-content"},_t=["id"],gt=x({__name:"[id]",setup($){const r=b(()=>v(()=>import("./C2xUM9nx.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13]),import.meta.url)),g=b(()=>v(()=>import("./DEhZhvwL.js"),__vite__mapDeps([14,15,1,2,5,6,7,13,8,9,10,11,12,16]),import.meta.url)),i=b(()=>v(()=>import("./p_xpe7sH.js"),__vite__mapDeps([17,13,1,2,5,6,7,8,9,10,11,12,18]),import.meta.url)),l=b(()=>v(()=>import("./BB6Nu4HJ.js"),__vite__mapDeps([19,4,1,2,5,6,7,8,9,10,11,12,20]),import.meta.url)),A=b(()=>v(()=>import("./CcdnqZy9.js"),__vite__mapDeps([21,7,1,2,5,6,4,8,9,11,12,22]),import.meta.url));R(async()=>{const c=j();t.share.candId=c.params.id;try{const d=(await S.get(`${z}/profile/${t.share.candId}`)).data,f=Object.keys(t.anketa);for(let u=0;u<f.length;u++)t.anketa[f[u]]=d[u];t.getImage()}catch(_){console.error(_)}});const m=P("anketaTab"),h={anketaTab:["Взять анкету","Анкета",r],checkTab:["Добавить проверку","Проверки",g,"bi-person-check"],poligrafTab:["Добавить полиграф","Полиграф",i,"bi-heart-pulse"],investigateTab:["Добавить расследования","Расследования",l,"bi-incognito"],inquiryTab:["Добавить запрос","Запросы",A,"bi-journal-check"]};async function I(){var _;const c=document.getElementsByClassName("collapse");for(let d=0;d<c.length;d++)(_=c[d])==null||_.setAttribute("class","collapse card card-body mb-3")}async function M(){await I(),t.getItem("persons","self")}async function L(c){await I(),m.value=c}return(c,_)=>{const d=X,f=U,u=G;return a(),D(u,null,{default:q(()=>[E(d),s("div",Y,[s("div",Z,[E(f,{cls:"text-danger py-3","page-header":`${e(t).anketa.persons.surname} ${e(t).anketa.persons.firstname} ${e(t).anketa.persons.patronymic?" "+e(t).anketa.persons.patronymic:""}`},null,8,["page-header"])]),e(C).user.role==e(K).classes.roles.user?(a(),n("div",tt,[(a(!0),n(y,null,T(Object.keys(h).slice(1),(p,o)=>(a(),n("div",{key:o,class:"position-relative"},[m.value==p&&e(t).anketa.persons.user_id==e(C).user.userId&&e(t).anketa.persons.standing?(a(),n("div",{key:0,title:h[m.value][0],class:"text-danger fs-1",style:{cursor:"pointer"},"data-bs-toggle":"collapse",href:"#clps_"+p.split("T")[0]},[s("i",{class:k(["bi",h[m.value][3]])},null,2)],8,et)):w("",!0)]))),128)),m.value=="anketaTab"?(a(),n("div",st,[s("button",{type:"button",class:k(e(t).anketa.persons.standing?"btn btn-link":"btn btn-outline-danger"),title:e(t).anketa.persons.standing?"Отключить режим проверки":"Включить режим проверки",onClick:M},[e(t).anketa.persons.standing?(a(),n("span",ot)):(a(),n("div",nt,it))],10,at)])):w("",!0)])):w("",!0)]),s("nav",lt,[(a(),n(y,null,T(h,(p,o)=>s("button",{key:o,class:k(["nav-link",{active:o==="anketaTab"}]),"data-bs-target":"#"+o,"data-bs-toggle":"tab",type:"button",role:"tab",onClick:ut=>L(o)},F(p[1]),11,ct)),64))]),s("div",dt,[(a(),n(y,null,T(h,(p,o)=>s("div",{key:o,id:o,class:k(["tab-pane show fade pt-3",{active:o=="anketaTab"}]),role:"tabpanel"},[(a(),D(N(p[2])))],10,_t)),64))])]),_:1})}}});export{gt as default};
