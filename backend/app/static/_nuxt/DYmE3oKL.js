import{_ as I}from"./CCtlyeFc.js";import{_ as w}from"./Cay9Qj57.js";import{_ as V}from"./R30G0gbg.js";import{_ as B}from"./BpByd896.js";import{n as $,a4 as C,o,c as l,b as t,w as i,y as F,r as b,a as h,G as f,F as E,D as U,s as A,z as L,C as M,d as g,t as D,_ as N}from"./Dinf_0xm.js";import{g as m,s as j}from"./DyhWwMfy.js";import{_ as G}from"./DfNyRKp3.js";const O=$({__name:"StaffForm",props:{staff:{type:Object,default:{}}},emits:["cancel"],setup(S,{emit:u}){const r=u,a=C(S.staff);function _(){m.updateItem("staffs",a.value),r("cancel"),Object.keys(a.value).forEach(s=>delete a.value[s])}return(s,e)=>{const v=w,d=V,k=B;return o(),l("form",{onSubmit:F(_,["prevent"]),class:"form form-check",role:"form"},[t(d,{label:"Должность"},{default:i(()=>[t(v,{name:"position",place:"Должность",need:!0,modelValue:a.value.position,"onUpdate:modelValue":e[0]||(e[0]=n=>a.value.position=n)},null,8,["modelValue"])]),_:1}),t(d,{label:"Подразделение"},{default:i(()=>[t(v,{name:"department",place:"Подразделение",modelValue:a.value.department,"onUpdate:modelValue":e[1]||(e[1]=n=>a.value.department=n)},null,8,["modelValue"])]),_:1}),t(k,{onCancel:e[2]||(e[2]=n=>r("cancel"))})],32)}}}),z={class:"collapse card card-body mb-3",id:"staffer"},H={key:0},R={key:1},T={key:1},q=$({__name:"StaffDiv",setup(S){const u=b(!1),r=b(!1),p=b(""),a=b({});function _(){r.value=!1,p.value="";const s=document.getElementById("staffer");s==null||s.setAttribute("class","collapse card card-body mb-3")}return(s,e)=>{const v=I,d=O,k=G,n=V;return o(),l(E,null,[t(v,{id:"staffer",header:"Должности"}),h("div",z,[t(d,{onCancel:_})]),f(m).anketa.staffs.length?(o(),l("div",H,[(o(!0),l(E,null,U(f(m).anketa.staffs,(c,x)=>(o(),l("div",{key:x,onMouseover:e[0]||(e[0]=y=>u.value=!0),onMouseout:e[1]||(e[1]=y=>u.value=!1),class:"card card-body mb-3"},[r.value&&p.value==c.id.toString()?(o(),A(d,{key:0,staff:a.value,onCancel:_},null,8,["staff"])):(o(),l("div",R,[t(n,null,{default:i(()=>[L(t(k,{onDelete:y=>f(m).deleteItem(c.id.toString(),"staffs"),onUpdate:y=>{a.value=c,r.value=!0,p.value=c.id.toString()},hide:!0},null,8,["onDelete","onUpdate"]),[[M,u.value&&f(m).anketa.persons.user_id==f(j).user.userId&&f(m).anketa.persons.standing]])]),_:2},1024),t(n,{label:"Должность"},{default:i(()=>[g(D(c.position),1)]),_:2},1024),t(n,{label:"Департамент"},{default:i(()=>[g(D(c.department),1)]),_:2},1024)]))],32))),128))])):(o(),l("p",T,"Данные отсутствуют"))],64)}}}),Z=N(q,[["__scopeId","data-v-1eb209cf"]]);export{Z as default};
