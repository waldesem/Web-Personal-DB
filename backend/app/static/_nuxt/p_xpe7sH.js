import{_ as w}from"./CxuAO0fP.js";import{_ as I}from"./R30G0gbg.js";import{_ as D}from"./Xg5mm_XS.js";import{_ as U}from"./BpByd896.js";import{n as h,a4 as B,o as l,c as u,b as o,w as r,G as s,y as A,r as k,a as E,F as V,D as T,s as L,z as x,C,t as d,d as y,_ as P}from"./Dinf_0xm.js";import{e as M,g as n,s as N}from"./DyhWwMfy.js";import{_ as j}from"./jj_8CMVi.js";import{_ as G}from"./DfNyRKp3.js";const O=h({__name:"PoligrafForm",props:{poligraf:{type:Object,default:{}}},emits:["cancel"],setup($,{emit:m}){const p=m,a=B($.poligraf);function v(){n.updateItem("poligrafs",a.value),p("cancel"),Object.keys(a.value).forEach(c=>delete a.value[c])}return(c,e)=>{const g=w,b=I,S=D,i=U;return l(),u("form",{onSubmit:A(v,["prevent"]),class:"form form-check p-3",role:"form"},[o(b,{label:"Тема проверки"},{default:r(()=>[o(g,{name:"theme",need:!0,select:s(M).classes.poligrafs,modelValue:a.value.theme,"onUpdate:modelValue":e[0]||(e[0]=t=>a.value.theme=t)},null,8,["select","modelValue"])]),_:1}),o(b,{label:"Результат"},{default:r(()=>[o(S,{name:"results",place:"Результат",modelValue:a.value.results,"onUpdate:modelValue":e[1]||(e[1]=t=>a.value.results=t)},null,8,["modelValue"])]),_:1}),o(i,{onCancel:e[2]||(e[2]=t=>p("cancel"))})],32)}}}),R={class:"collapse card card-body mb-3",id:"clps_poligraf"},z={key:0},q={key:1},H={class:"fs-5 fw-medium text-primary p-1"},J={key:1,class:"p-3"},K=h({__name:"PoligrafTab",setup($){const m=k(!1),p=k(!1),_=k(""),a=k({});function v(){p.value=!1,_.value="";const c=document.getElementById("clps_poligraf");c==null||c.setAttribute("class","collapse card card-body")}return(c,e)=>{const g=O,b=j,S=G,i=I;return l(),u(V,null,[E("div",R,[o(g,{onCancel:v})]),s(n).anketa.poligrafs.length?(l(),u("div",z,[(l(!0),u(V,null,T(s(n).anketa.poligrafs,(t,F)=>(l(),u("div",{key:F,onMouseover:e[1]||(e[1]=f=>m.value=!0),onMouseout:e[2]||(e[2]=f=>m.value=!1),class:"card card-body mb-3"},[p.value&&_.value==t.id.toString()?(l(),L(g,{key:0,poligraf:a.value,onCancel:v},null,8,["poligraf"])):(l(),u("div",q,[o(i,null,{default:r(()=>[x(o(S,{onDelete:f=>s(n).deleteItem(t.id.toString(),"poligrafs"),onUpdate:f=>{a.value=t,_.value=t.id.toString(),p.value=!0},"for-input":"poligrafs-file"},{default:r(()=>[x(o(b,{"name-id":"poligrafs-file",accept:"*",onSubmit:e[0]||(e[0]=f=>s(n).submitFile(f,"poligrafs",s(n).share.candId))},null,512),[[C,m.value]])]),_:2},1032,["onDelete","onUpdate"]),[[C,m.value&&F&&s(n).anketa.persons.user_id==s(N).user.userId&&s(n).anketa.persons.standing]])]),_:2},1024),E("p",H,d("Обследование на полиграфе #"+(F+1)),1),o(i,{label:"Тема проверки"},{default:r(()=>[y(d(t.theme),1)]),_:2},1024),o(i,{label:"Результат"},{default:r(()=>[y(d(t.results),1)]),_:2},1024),o(i,{label:"Сотрудник"},{default:r(()=>[y(d(t.username),1)]),_:2},1024),o(i,{label:"Дата записи"},{default:r(()=>[y(d(new Date(t.created+" UTC").toLocaleString("ru-RU")),1)]),_:2},1024)]))],32))),128))])):(l(),u("p",J,"Обследование на полиграфе не проводилось"))],64)}}}),ae=P(K,[["__scopeId","data-v-89fedb72"]]);export{ae as default};
