import{_ as B}from"./CCtlyeFc.js";import{_ as C}from"./Cay9Qj57.js";import{_ as I}from"./R30G0gbg.js";import{_ as w}from"./BpByd896.js";import{n as S,a4 as F,o as l,c as m,b as t,w as s,y as h,r as V,a as A,G as c,F as x,D as N,s as k,z as P,C as L,d as _,t as f,B as D,_ as M}from"./Dinf_0xm.js";import{g as i,s as j}from"./DyhWwMfy.js";import{_ as G}from"./DfNyRKp3.js";const O=S({__name:"PreviousForm",props:{previous:{type:Object,default:{}}},emits:["cancel"],setup($,{emit:v}){const p=v,o=F($.previous);function y(){i.updateItem("previous",o.value),p("cancel"),Object.keys(o.value).forEach(u=>delete o.value[u])}return(u,e)=>{const d=C,r=I,g=w;return l(),m("form",{onSubmit:h(y,["prevent"]),class:"form form-check",role:"form"},[t(r,{label:"Фамилия"},{default:s(()=>[t(d,{need:!0,name:"surname",place:"Фамилия*",pattern:"[А-Яа-яЁё\\-'\\s]+",modelValue:o.value.surname,"onUpdate:modelValue":e[0]||(e[0]=a=>o.value.surname=a)},null,8,["modelValue"])]),_:1}),t(r,{label:"Имя"},{default:s(()=>[t(d,{need:!0,name:"firstname",place:"Имя*",pattern:"[А-Яа-яЁё\\-'\\s]+",modelValue:o.value.firstname,"onUpdate:modelValue":e[1]||(e[1]=a=>o.value.firstname=a)},null,8,["modelValue"])]),_:1}),t(r,{label:"Отчество"},{default:s(()=>[t(d,{name:"patronymic",place:"Отчество",modelValue:o.value.patronymic,"onUpdate:modelValue":e[2]||(e[2]=a=>o.value.patronymic=a)},null,8,["modelValue"])]),_:1}),t(r,{label:"Год изменения"},{default:s(()=>[t(d,{name:"date_change",place:"Год изменения",modelValue:o.value.changed,"onUpdate:modelValue":e[3]||(e[3]=a=>o.value.changed=a)},null,8,["modelValue"])]),_:1}),t(r,{label:"Причина изменения"},{default:s(()=>[t(d,{name:"reason",place:"Причина изменения",modelValue:o.value.reason,"onUpdate:modelValue":e[4]||(e[4]=a=>o.value.reason=a)},null,8,["modelValue"])]),_:1}),t(g,{onCancel:e[5]||(e[5]=a=>p("cancel"))})],32)}}}),z={class:"collapse card card-body mb-3",id:"previouser"},H={key:0},R={key:1},T={key:1},q=S({__name:"PrevDiv",setup($){const v=V(!1),p=V(!1),b=V(""),o=V({});function y(){p.value=!1,b.value="";const u=document.getElementById("previouser");u==null||u.setAttribute("class","collapse card card-body mb-3")}return(u,e)=>{const d=B,r=O,g=G,a=I;return l(),m(x,null,[t(d,{id:"previouser",header:"Изменение имени"}),A("div",z,[t(r,{onCancel:y})]),c(i).anketa.previous.length?(l(),m("div",H,[(l(!0),m(x,null,N(c(i).anketa.previous,(n,U)=>(l(),m("div",{key:U,onMouseover:e[0]||(e[0]=E=>v.value=!0),onMouseout:e[1]||(e[1]=E=>v.value=!1),class:"card card-body mb-3"},[p.value&&b.value==n.id.toString()?(l(),k(r,{key:0,previous:o.value,onCancel:y},null,8,["previous"])):(l(),m("div",R,[t(a,null,{default:s(()=>[P(t(g,{onDelete:E=>c(i).deleteItem(n.id.toString(),"previous"),onUpdate:E=>{o.value=n,b.value=n.id.toString(),p.value=!0},hide:!0},null,8,["onDelete","onUpdate"]),[[L,v.value&&c(i).anketa.persons.user_id==c(j).user.userId&&c(i).anketa.persons.standing]])]),_:2},1024),t(a,{label:"Фамилия"},{default:s(()=>[_(f(n.surname),1)]),_:2},1024),t(a,{label:"Имя"},{default:s(()=>[_(f(n.firstname),1)]),_:2},1024),n.patronymic?(l(),k(a,{key:0,label:"Отчество"},{default:s(()=>[_(f(n.patronymic),1)]),_:2},1024)):D("",!0),n.changed?(l(),k(a,{key:1,label:"Год изменения"},{default:s(()=>[_(f(n.changed),1)]),_:2},1024)):D("",!0),n.reason?(l(),k(a,{key:2,label:"Причина"},{default:s(()=>[_(f(n.reason),1)]),_:2},1024)):D("",!0)]))],32))),128))])):(l(),m("p",T,"Данные отсутствуют"))],64)}}}),ee=M(q,[["__scopeId","data-v-105035b6"]]);export{ee as default};
