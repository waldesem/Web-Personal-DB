import{_ as S}from"./CCtlyeFc.js";import{_ as V}from"./CxuAO0fP.js";import{_ as g}from"./R30G0gbg.js";import{_ as I}from"./Cay9Qj57.js";import{_ as B}from"./BpByd896.js";import{n as x,a4 as F,O as h,o as a,c,b as t,w as p,G as l,y as U,r as k,a as A,F as C,D as L,s as M,z as N,C as O,d as D,t as $,_ as j}from"./Dinf_0xm.js";import{e as G,g as i,s as z}from"./DyhWwMfy.js";import{_ as H}from"./DfNyRKp3.js";const R=x({__name:"ContactForm",props:{contact:{type:Object,default:{}}},emits:["cancel"],setup(E,{emit:d}){const r=d,e=F(E.contact);function f(){i.updateItem("contacts",e.value),r("cancel"),Object.keys(e.value).forEach(s=>delete e.value[s])}const u=h(()=>e.value.view==="Телефон"?"tel":e.value.view==="E-mail"?"email":"text");return(s,n)=>{const b=V,y=g,_=I,o=B;return a(),c("form",{onSubmit:U(f,["prevent"]),class:"form form-check",role:"form"},[t(y,{label:"Вид контакта"},{default:p(()=>[t(b,{name:"view",select:l(G).classes.contacts,modelValue:e.value.view,"onUpdate:modelValue":n[0]||(n[0]=m=>e.value.view=m)},null,8,["select","modelValue"])]),_:1}),t(y,{label:"Контакт"},{default:p(()=>[t(_,{name:"contact",place:"Контакт",typeof:u.value,need:!0,modelValue:e.value.contact,"onUpdate:modelValue":n[1]||(n[1]=m=>e.value.contact=m)},null,8,["typeof","modelValue"])]),_:1}),t(o,{onCancel:n[2]||(n[2]=m=>r("cancel"))})],32)}}}),T={class:"collapse card card-body mb-3",id:"contacter"},q={key:0},J={key:1},K={key:1},P=x({__name:"ContactDiv",setup(E){const d=k(!1),r=k(""),v=k(!1),e=k({});function f(){v.value=!1,r.value="";const u=document.getElementById("contacter");u==null||u.setAttribute("class","collapse card card-body mb-3")}return(u,s)=>{const n=S,b=R,y=H,_=g;return a(),c(C,null,[t(n,{id:"contacter",header:"Контакты"}),A("div",T,[t(b,{onCancel:f})]),l(i).anketa.contacts.length?(a(),c("div",q,[(a(!0),c(C,null,L(l(i).anketa.contacts,(o,m)=>(a(),c("div",{key:m,onMouseover:s[0]||(s[0]=w=>d.value=!0),onMouseout:s[1]||(s[1]=w=>d.value=!1),class:"card card-body mb-3"},[v.value&&r.value==o.id.toString()?(a(),M(b,{key:0,contact:e.value,onCancel:f},null,8,["contact"])):(a(),c("div",J,[t(_,null,{default:p(()=>[N(t(y,{onDelete:w=>l(i).deleteItem(o.id.toString(),"contacts"),onUpdate:w=>{e.value=o,r.value=o.id.toString(),v.value=!0},hide:!0},null,8,["onDelete","onUpdate"]),[[O,d.value&&l(i).anketa.persons.user_id==l(z).user.userId&&l(i).anketa.persons.standing]])]),_:2},1024),t(_,{label:"Вид"},{default:p(()=>[D($(o.view),1)]),_:2},1024),t(_,{label:"Контакт"},{default:p(()=>[D($(o.contact),1)]),_:2},1024)]))],32))),128))])):(a(),c("p",K,"Данные отсутствуют"))],64)}}}),oe=j(P,[["__scopeId","data-v-e838b1ef"]]);export{oe as default};
