import{_ as S}from"./CCtlyeFc.js";import{_ as x}from"./CxuAO0fP.js";import{_ as D}from"./R30G0gbg.js";import{_ as I}from"./Cay9Qj57.js";import{_ as B}from"./BpByd896.js";import{n as $,a4 as C,o,c as s,b as t,w as r,G as i,y as F,r as b,a as U,F as w,D as z,s as h,z as L,C as M,d as g,t as V,_ as N}from"./Dinf_0xm.js";import{e as j,g as m,s as G}from"./DyhWwMfy.js";import{_ as O}from"./DfNyRKp3.js";const H=$({__name:"AffilationForm",props:{affils:{type:Object,default:{}}},emits:["cancel"],setup(E,{emit:d}){const f=d,n=C(E.affils);function p(){m.updateItem("affilations",n.value),f("cancel"),Object.keys(n.value).forEach(l=>delete n.value[l])}return(l,a)=>{const k=x,u=D,v=I,c=B;return o(),s("form",{onSubmit:F(p,["prevent"]),class:"form form-check",role:"form"},[t(u,{label:"Тип участия"},{default:r(()=>[t(k,{name:"view",select:i(j).classes.affilations,modelValue:n.value.view,"onUpdate:modelValue":a[0]||(a[0]=e=>n.value.view=e)},null,8,["select","modelValue"])]),_:1}),t(u,{label:"Организация"},{default:r(()=>[t(v,{name:"name",place:"Организация",need:!0,modelValue:n.value.organization,"onUpdate:modelValue":a[1]||(a[1]=e=>n.value.organization=e)},null,8,["modelValue"])]),_:1}),t(u,{label:"ИНН"},{default:r(()=>[t(v,{name:"inn",place:"ИНН",pattern:"[0-9]{12}",modelValue:n.value.inn,"onUpdate:modelValue":a[2]||(a[2]=e=>n.value.inn=e)},null,8,["modelValue"])]),_:1}),t(c,{onCancel:a[3]||(a[3]=e=>f("cancel"))})],32)}}}),R={class:"collapse card card-body mb-3",id:"affilationer"},T={key:0},q={key:1},J={key:1},K=$({__name:"AffilDiv",setup(E){const d=b(!1),f=b(!1),_=b(""),n=b({});function p(){f.value=!1,_.value="";const l=document.getElementById("affilationer");l==null||l.setAttribute("class","collapse card card-body mb-3")}return(l,a)=>{const k=S,u=H,v=O,c=D;return o(),s(w,null,[t(k,{id:"affilationer",header:"Аффилированность"}),U("div",R,[t(u,{onCancel:p})]),i(m).anketa.affilations.length?(o(),s("div",T,[(o(!0),s(w,null,z(i(m).anketa.affilations,(e,A)=>(o(),s("div",{key:A,onMouseover:a[0]||(a[0]=y=>d.value=!0),onMouseout:a[1]||(a[1]=y=>d.value=!1),class:"card card-body mb-3"},[f.value&&_.value==e.id.toString()?(o(),h(u,{key:0,affils:n.value,onCancel:p},null,8,["affils"])):(o(),s("div",q,[t(c,null,{default:r(()=>[L(t(v,{onDelete:y=>i(m).deleteItem(e.id.toString(),"affilations"),onUpdate:y=>{n.value=e,_.value=e.id.toString(),f.value=!0},hide:!0},null,8,["onDelete","onUpdate"]),[[M,d.value&&i(m).anketa.persons.user_id==i(G).user.userId&&i(m).anketa.persons.standing]])]),_:2},1024),t(c,{label:"Тип участия"},{default:r(()=>[g(V(e.view),1)]),_:2},1024),t(c,{label:"Организация"},{default:r(()=>[g(V(e.organization),1)]),_:2},1024),t(c,{label:"ИНН"},{default:r(()=>[g(V(e.inn),1)]),_:2},1024)]))],32))),128))])):(o(),s("p",J,"Данные отсутствуют"))],64)}}}),ae=N(K,[["__scopeId","data-v-7e38ca7e"]]);export{ae as default};
