{% extends 'base.html' %}
{% block content %}
<meta http-equiv="refresh" content="600">
<div class="content">
    <div class="person table">
        <table style="width:100%">
            <tr>
                <th style="width:20%">Регион</th>
                <th style="width:20%">Фамилия Имя Отчество</th>
                <th style="width:20%">Дата рождения</th>
                <th style="width:20%">Статус</th>
                <th style="width:20%">Дата обновления</th>
            </tr>
            {% for candidate in results.items %}
                <tr>
                    <td style="text-align: center">{{ candidate.region }}</td>
                    <td style="text-align: center"><a href="{{ url_for('route.profile', cand_id=candidate.id) }}" target="_blank">{{ candidate.full_name }}</a></td>
                    <td style="text-align: center">{{ candidate.birthday }}</td>
                    <td style="text-align: center">{{ candidate.status }}</td>
                    <td style="text-align: center">{{ candidate.update_date }}</td>
                </tr>
            {% endfor %}
        </table>
    </div>
    <div class="results">
        {% if results.has_prev %}
            <span><a class='page-number' href="{{ url_for('index', page=results.prev_num) }}">{{ '<<<' }}</a></span>
        {% endif %}
        {% for number in results.iter_pages() %}
            {% if results.page != number %}
                <span><a class='page-number' href="{{ url_for('index', page=number) }}">{{ number }}</a></span>
            {% else %}
                <span class='current-page-number'>{{ number }}</span>
            {% endif %}
        {% endfor %}
        {% if results.has_next %}
            <span><a class='page-number' href="{{ url_for('index', page=results.next_num) }}">{{ '>>>' }}</a></span>
        {% endif %}
    </div>
</div>
{% endblock %}