import{f as E,o as p,c as g,a as V,t as h,z as P,b as e,w as m,l as R,A as ge,p as ie,e as de,r as w,j as c,F as D,i as O,h as A,m as C,s as M,d as S,q,B as Q,C as ke,D as ce,E as ye,G as oe,H as he,I as te,J as $e,K as me,L as Se,M as le,N as ve,O as we,u as Ve,P as Ie,Q as Ee,R as De,g as Ue,n as X}from"./BLczYTEp.js";import{_ as W}from"./CFhYP7_a.js";import{_ as F}from"./S6Pj9w_i.js";import{_ as N}from"./B4Od5mi1.js";import{d as x,s as B,a as G,u as xe,b as Fe}from"./CRlNADb7.js";import{_ as T}from"./DlAUqK2U.js";import{_ as Z}from"./D-aUaadV.js";import{_ as pe}from"./D7oK4O0D.js";import{_ as Ae,a as Y}from"./gSstEL_b.js";import{_ as ee}from"./DeOlo96I.js";import{_ as Ce}from"./CvFgdwu2.js";import{_ as Me}from"./DVqmOnQS.js";import"./DISlfMCt.js";const je=["href"],K=E({__name:"DropDownHead",props:{id:String,header:String},setup(l){const t=l;return(f,o)=>(p(),g("h6",null,[V("button",{type:"button",class:"btn btn-link","data-bs-toggle":"collapse",href:`#${t.id}`},h(t.header),9,je)]))}}),Le=E({__name:"StaffForm",props:{staff:{type:Object,default:{}}},emits:["cancel"],setup(l,{emit:t}){const f=t,o=l,v=x(),s=P(o.staff);function n(){v.updateItem("staffs",s.value),f("cancel"),Object.keys(s.value).forEach(_=>delete s.value[_])}return(_,u)=>{const r=W,d=F,k=N;return p(),g("form",{onSubmit:R(n,["prevent"]),class:"form form-check"},[e(d,{label:"Должность"},{default:m(()=>[e(r,{name:"position",place:"Должность",need:!0,modelValue:s.value.position,"onUpdate:modelValue":u[0]||(u[0]=b=>s.value.position=b)},null,8,["modelValue"])]),_:1}),e(d,{label:"Подразделение"},{default:m(()=>[e(r,{name:"department",place:"Подразделение",modelValue:s.value.department,"onUpdate:modelValue":u[1]||(u[1]=b=>s.value.department=b)},null,8,["modelValue"])]),_:1}),e(k,{onCancel:u[2]||(u[2]=b=>f("cancel"))})],32)}}}),ne=l=>(ie("data-v-142dd3ba"),l=l(),de(),l),Oe={class:"position-relative d-print-none"},Be={class:"position-absolute top-0 end-0"},Te=ne(()=>V("div",{class:"fs-6 text-primary"},[V("i",{class:"bi bi-pencil-square"})],-1)),ze=[Te],qe=ne(()=>V("div",{class:"fs-6 text-danger"},[V("i",{class:"bi bi-trash"})],-1)),Pe=[qe],Re=["for","hidden"],Ne=ne(()=>V("i",{class:"bi bi-cloud-arrow-up"},null,-1)),We=[Ne],He=E({__name:"ActionIcons",props:{hide:{type:Boolean,default:!1},forInput:{type:String,default:"file"}},emits:["delete","update"],setup(l,{emit:t}){const f=t,o=l;return(v,s)=>(p(),g("div",Oe,[V("div",Be,[V("button",{class:"btn btn-link",title:"Изменить",onClick:s[0]||(s[0]=n=>f("update"))},ze),V("button",{class:"btn btn-link",title:"Удалить",onClick:s[1]||(s[1]=n=>f("delete"))},Pe),V("label",{class:"text-body-secondary fs-5 mt-2",for:o.forInput,hidden:o.hide,style:{cursor:"pointer"}},We,8,Re),ge(v.$slots,"default",{},void 0,!0)])]))}}),z=T(He,[["__scopeId","data-v-142dd3ba"]]),Ge={class:"collapse card card-body mb-3",id:"staffer"},Je={key:0},Qe={key:1},Ze={key:1},Ke=E({__name:"StaffDiv",setup(l){const t=x(),f=B(),o=w(!1),v=w(!1),s=w(""),n=w({});function _(){v.value=!1,s.value="";const u=document.getElementById("staffer");u==null||u.setAttribute("class","collapse card card-body mb-3")}return(u,r)=>{const d=K,k=Le,b=z,a=F;return p(),g(D,null,[e(d,{id:"staffer",header:"Должности"}),V("div",Ge,[e(k,{onCancel:_})]),c(t).anketa.value.staffs.length?(p(),g("div",Je,[(p(!0),g(D,null,O(c(t).anketa.value.staffs,(i,$)=>(p(),g("div",{key:$,onMouseover:r[0]||(r[0]=y=>o.value=!0),onMouseout:r[1]||(r[1]=y=>o.value=!1),class:"card card-body mb-3"},[v.value&&s.value==i.id.toString()?(p(),A(k,{key:0,staff:n.value,onCancel:_},null,8,["staff"])):(p(),g("div",Qe,[e(a,null,{default:m(()=>[C(e(b,{onDelete:y=>c(t).deleteItem(i.id.toString(),"staffs"),onUpdate:y=>{n.value=i,v.value=!0,s.value=i.id.toString()},hide:!0},null,8,["onDelete","onUpdate"]),[[M,o.value&&c(t).anketa.value.persons.user_id==c(f).user.value.userId&&c(t).anketa.value.persons.standing]])]),_:2},1024),e(a,{label:"Должность"},{default:m(()=>[S(h(i.position),1)]),_:2},1024),e(a,{label:"Департамент"},{default:m(()=>[S(h(i.department),1)]),_:2},1024)]))],32))),128))])):(p(),g("p",Ze,"Данные отсутствуют"))],64)}}}),Xe=T(Ke,[["__scopeId","data-v-72de6056"]]),Ye=E({__name:"EducationForm",props:{education:{type:Object,default:{}}},emits:["cancel"],setup(l,{emit:t}){const f=t,o=l,v=x(),s=G(),n=P(o.education);function _(){v.updateItem("educations",n.value),f("cancel"),Object.keys(n.value).forEach(u=>delete n.value[u])}return(u,r)=>{const d=Z,k=F,b=W,a=N;return p(),g("form",{onSubmit:R(_,["prevent"]),class:"form form-check"},[e(k,{label:"Уровень образования"},{default:m(()=>[e(d,{name:"type",need:!0,select:c(s).classes.value.educations,modelValue:n.value.view,"onUpdate:modelValue":r[0]||(r[0]=i=>n.value.view=i)},null,8,["select","modelValue"])]),_:1}),e(k,{label:"Название учебного заведения"},{default:m(()=>[e(b,{name:"name",place:"Название учебного заведения",modelValue:n.value.institution,"onUpdate:modelValue":r[1]||(r[1]=i=>n.value.institution=i)},null,8,["modelValue"])]),_:1}),e(k,{label:"Год окончания"},{default:m(()=>[e(b,{name:"finish",place:"Год окончания",need:!0,modelValue:n.value.finished,"onUpdate:modelValue":r[2]||(r[2]=i=>n.value.finished=i)},null,8,["modelValue"])]),_:1}),e(k,{label:"Специальность"},{default:m(()=>[e(b,{name:"specialty",place:"Специальность",modelValue:n.value.specialty,"onUpdate:modelValue":r[3]||(r[3]=i=>n.value.specialty=i)},null,8,["modelValue"])]),_:1}),e(a,{onCancel:r[4]||(r[4]=i=>f("cancel"))})],32)}}}),et={class:"collapse card card-body mb-3",id:"educationer"},tt={key:0},nt={key:1},at={key:1},ot=E({__name:"EducateDiv",setup(l){const t=x(),f=B(),o=w(!1),v=w(""),s=w(!1),n=w({});function _(){s.value=!1,v.value="";const u=document.getElementById("educationer");u==null||u.setAttribute("class","collapse card card-body mb-3")}return(u,r)=>{const d=K,k=Ye,b=z,a=F;return p(),g(D,null,[e(d,{id:"educationer",header:"Образование"}),V("div",et,[e(k,{onCancel:_})]),c(t).anketa.value.educations.length?(p(),g("div",tt,[(p(!0),g(D,null,O(c(t).anketa.value.educations,(i,$)=>(p(),g("div",{key:$,onMouseover:r[0]||(r[0]=y=>o.value=!0),onMouseout:r[1]||(r[1]=y=>o.value=!1),class:"card card-body mb-3"},[s.value&&v.value==i.id.toString()?(p(),A(k,{key:0,education:n.value,onCancel:_},null,8,["education"])):(p(),g("div",nt,[e(a,null,{default:m(()=>[C(e(b,{onDelete:y=>c(t).deleteItem(i.id.toString(),"educations"),onUpdate:y=>{n.value=i,v.value=i.id.toString(),s.value=!0},hide:!0},null,8,["onDelete","onUpdate"]),[[M,o.value&&c(t).anketa.value.persons.user_id==c(f).user.value.userId&&c(t).anketa.value.persons.standing]])]),_:2},1024),e(a,{label:"Уровень образования"},{default:m(()=>[S(h(i.view),1)]),_:2},1024),e(a,{label:"Название учебного заведения"},{default:m(()=>[S(h(i.institution),1)]),_:2},1024),e(a,{label:"Год окончания"},{default:m(()=>[S(h(i.finished),1)]),_:2},1024),e(a,{label:"Специальность"},{default:m(()=>[S(h(i.specialty),1)]),_:2},1024)]))],32))),128))])):(p(),g("p",at,"Данные отсутствуют"))],64)}}}),lt=T(ot,[["__scopeId","data-v-e0e24730"]]),st=E({__name:"WorkplaceForm",props:{work:{type:Object,default:{}}},emits:["cancel"],setup(l,{emit:t}){const f=t,o=l,v=x(),s=P(o.work);function n(){v.updateItem("workplaces",s.value),f("cancel"),Object.keys(s.value).forEach(_=>delete s.value[_])}return(_,u)=>{const r=pe,d=F,k=W,b=N;return p(),g("form",{onSubmit:R(n,["prevent"]),class:"form form-check"},[e(d,{label:"Текущая работа"},{default:m(()=>[e(r,{name:"now_work",modelValue:s.value.now_work,"onUpdate:modelValue":u[0]||(u[0]=a=>s.value.now_work=a)},null,8,["modelValue"])]),_:1}),e(d,{label:"Начало работы"},{default:m(()=>[e(k,{name:"start_date",need:!0,place:"Начало работы",typeof:"date",modelValue:s.value.starts,"onUpdate:modelValue":u[1]||(u[1]=a=>s.value.starts=a)},null,8,["modelValue"])]),_:1}),s.value.now_work?q("",!0):(p(),A(d,{key:0,label:"Окончание работы"},{default:m(()=>[e(k,{name:"end_date",place:"Окончание работы",typeof:"date",modelValue:s.value.finished,"onUpdate:modelValue":u[2]||(u[2]=a=>s.value.finished=a)},null,8,["modelValue"])]),_:1})),e(d,{label:"Место работы"},{default:m(()=>[e(k,{name:"workplace",place:"Место работы",need:!0,modelValue:s.value.workplace,"onUpdate:modelValue":u[3]||(u[3]=a=>s.value.workplace=a)},null,8,["modelValue"])]),_:1}),e(d,{label:"Должность"},{default:m(()=>[e(k,{name:"position",place:"Должность",need:!0,modelValue:s.value.position,"onUpdate:modelValue":u[4]||(u[4]=a=>s.value.position=a)},null,8,["modelValue"])]),_:1}),e(d,{label:"Адрес организации"},{default:m(()=>[e(k,{name:"address",place:"Адрес организации",modelValue:s.value.addresses,"onUpdate:modelValue":u[5]||(u[5]=a=>s.value.addresses=a)},null,8,["modelValue"])]),_:1}),e(d,{label:"Причина увольнения"},{default:m(()=>[e(k,{name:"reason",place:"Причина увольнения",modelValue:s.value.reason,"onUpdate:modelValue":u[6]||(u[6]=a=>s.value.reason=a)},null,8,["modelValue"])]),_:1}),e(b,{onCancel:u[7]||(u[7]=a=>f("cancel"))})],32)}}}),ut={class:"collapse card card-body mb-3",id:"worker"},rt={key:0},it={key:1},dt={key:1},ct=E({__name:"WorkDiv",setup(l){const t=x(),f=B(),o=w(!1),v=w(!1),s=w(""),n=w({});function _(){v.value=!1,s.value="";const u=document.getElementById("worker");u==null||u.setAttribute("class","collapse card card-body mb-3")}return(u,r)=>{const d=K,k=st,b=z,a=F;return p(),g(D,null,[e(d,{id:"worker",header:"Работа"}),V("div",ut,[e(k,{onCancel:_})]),c(t).anketa.value.workplaces.length?(p(),g("div",rt,[(p(!0),g(D,null,O(c(t).anketa.value.workplaces,(i,$)=>(p(),g("div",{key:$,onMouseover:r[0]||(r[0]=y=>o.value=!0),onMouseout:r[1]||(r[1]=y=>o.value=!1),class:"card card-body mb-3"},[v.value&&s.value==i.id.toString()?(p(),A(k,{key:0,work:n.value,onCancel:_},null,8,["work"])):(p(),g("div",it,[e(a,null,{default:m(()=>[C(e(b,{onDelete:y=>c(t).deleteItem(i.id.toString(),"workplaces"),onUpdate:y=>{n.value=i,s.value=i.id.toString(),v.value=!0},hide:!0},null,8,["onDelete","onUpdate"]),[[M,o.value&&c(t).anketa.value.persons.user_id==c(f).user.value.userId&&c(t).anketa.value.persons.standing]])]),_:2},1024),i.now_work?(p(),A(a,{key:0,label:"Текущая работа"},{default:m(()=>[S(h(i.now_work?"Да":"Нет"),1)]),_:2},1024)):q("",!0),e(a,{label:"Начало работы"},{default:m(()=>[S(h(new Date(i.starts).toLocaleDateString("ru-RU")),1)]),_:2},1024),i.now_work?q("",!0):(p(),A(a,{key:1,label:"Окончание работы"},{default:m(()=>[S(h(new Date(i.finished).toLocaleDateString("ru-RU")),1)]),_:2},1024)),e(a,{label:"Место работы"},{default:m(()=>[S(h(i.workplace),1)]),_:2},1024),e(a,{label:"Адрес"},{default:m(()=>[S(h(i.addresses),1)]),_:2},1024),e(a,{label:"Должность"},{default:m(()=>[S(h(i.position),1)]),_:2},1024),i.reason?(p(),A(a,{key:2,label:"Причина увольнения"},{default:m(()=>[S(h(i.reason),1)]),_:2},1024)):q("",!0)]))],32))),128))])):(p(),g("p",dt,"Данные отсутствуют"))],64)}}}),mt=T(ct,[["__scopeId","data-v-2e89dd73"]]),vt=E({__name:"DocumentForm",props:{docs:{type:Object,default:{}}},emits:["cancel"],setup(l,{emit:t}){const f=t,o=l,v=x(),s=G(),n=P(o.docs);function _(){v.updateItem("documents",n.value),f("cancel"),Object.keys(n.value).forEach(u=>delete n.value[u])}return(u,r)=>{const d=Z,k=F,b=W,a=N;return p(),g("form",{onSubmit:R(_,["prevent"]),class:"form form-check"},[e(k,{label:"Вид документа"},{default:m(()=>[e(d,{name:"view",need:!0,select:c(s).classes.value.documents,modelValue:n.value.view,"onUpdate:modelValue":r[0]||(r[0]=i=>n.value.view=i)},null,8,["select","modelValue"])]),_:1}),e(k,{label:"Серия документа"},{default:m(()=>[e(b,{name:"series",place:"Серия документа",modelValue:n.value.series,"onUpdate:modelValue":r[1]||(r[1]=i=>n.value.series=i)},null,8,["modelValue"])]),_:1}),e(k,{label:"Номер документа"},{default:m(()=>[e(b,{name:"number",place:"Номер документа",need:!0,modelValue:n.value.digits,"onUpdate:modelValue":r[2]||(r[2]=i=>n.value.digits=i)},null,8,["modelValue"])]),_:1}),e(k,{label:"Кем выдан"},{default:m(()=>[e(b,{name:"agency",place:"Орган выдавший",modelValue:n.value.agency,"onUpdate:modelValue":r[3]||(r[3]=i=>n.value.agency=i)},null,8,["modelValue"])]),_:1}),e(k,{label:"Дата выдачи"},{default:m(()=>[e(b,{name:"issue",place:"Дата выдачи",typeof:"date",modelValue:n.value.issue,"onUpdate:modelValue":r[4]||(r[4]=i=>n.value.issue=i)},null,8,["modelValue"])]),_:1}),e(a,{onCancel:r[5]||(r[5]=i=>f("cancel"))})],32)}}}),pt={class:"collapse card card-body mb-3",id:"documenter"},ft={key:0},_t={key:1},bt={key:1},gt=E({__name:"DocumDiv",setup(l){const t=x(),f=B(),o=w(!1),v=w(""),s=w(!1),n=w({});function _(){s.value=!1,v.value="";const u=document.getElementById("documenter");u==null||u.setAttribute("class","collapse card card-body mb-3")}return(u,r)=>{const d=K,k=vt,b=z,a=F;return p(),g(D,null,[e(d,{id:"documenter",header:"Документы"}),V("div",pt,[e(k,{onCancel:_})]),c(t).anketa.value.documents.length?(p(),g("div",ft,[(p(!0),g(D,null,O(c(t).anketa.value.documents,(i,$)=>(p(),g("div",{key:$,onMouseover:r[0]||(r[0]=y=>o.value=!0),onMouseout:r[1]||(r[1]=y=>o.value=!1),class:"card card-body mb-3"},[s.value&&v.value==i.id.toString()?(p(),A(k,{key:0,docs:n.value,onCancel:_},null,8,["docs"])):(p(),g("div",_t,[e(a,null,{default:m(()=>[C(e(b,{onDelete:y=>c(t).deleteItem(i.id.toString(),"documents"),onUpdate:y=>{n.value=i,v.value=i.id.toString(),s.value=!0},hide:!0},null,8,["onDelete","onUpdate"]),[[M,o.value&&c(t).anketa.value.persons.user_id==c(f).user.value.userId&&c(t).anketa.value.persons.standing]])]),_:2},1024),e(a,{label:"Вид документа"},{default:m(()=>[S(h(i.view),1)]),_:2},1024),e(a,{label:"Номер документа"},{default:m(()=>[S(h(i.digits),1)]),_:2},1024),e(a,{label:"Серия документа"},{default:m(()=>[S(h(i.series),1)]),_:2},1024),e(a,{label:"Дата выдачи"},{default:m(()=>[S(h(i.issue?new Date(String(i.issue)).toLocaleDateString("ru-RU"):""),1)]),_:2},1024),e(a,{label:"Кем выдан"},{default:m(()=>[S(h(i.agency),1)]),_:2},1024)]))],32))),128))])):(p(),g("p",bt,"Данные отсутствуют"))],64)}}}),kt=T(gt,[["__scopeId","data-v-b4dde516"]]),yt=E({__name:"AddressForm",props:{addrs:{type:Object,default:{}}},emits:["cancel"],setup(l,{emit:t}){const f=t,o=l,v=x(),s=G(),n=P(o.addrs);function _(){v.updateItem("addresses",n.value),f("cancel"),Object.keys(n.value).forEach(u=>delete n.value[u])}return(u,r)=>{const d=Z,k=F,b=W,a=N;return p(),g("form",{onSubmit:R(_,["prevent"]),class:"form form-check"},[e(k,{label:"Вид адреса"},{default:m(()=>[e(d,{name:"view",select:c(s).classes.value.addresses,modelValue:n.value.view,"onUpdate:modelValue":r[0]||(r[0]=i=>n.value.view=i)},null,8,["select","modelValue"])]),_:1}),e(k,{label:"Адрес"},{default:m(()=>[e(b,{name:"address",place:"Адрес",need:!0,modelValue:n.value.addresses,"onUpdate:modelValue":r[1]||(r[1]=i=>n.value.addresses=i)},null,8,["modelValue"])]),_:1}),e(a,{onCancel:r[2]||(r[2]=i=>f("cancel"))})],32)}}}),ht={class:"collapse card card-body mb-3",id:"addresser"},$t={key:0},St={key:1},wt={key:1},Vt=E({__name:"AddressDiv",setup(l){const t=x(),f=B(),o=w(!1),v=w(!1),s=w(""),n=w({});function _(){v.value=!1,s.value="";const u=document.getElementById("addresser");u==null||u.setAttribute("class","collapse card card-body mb-3")}return(u,r)=>{const d=K,k=yt,b=z,a=F;return p(),g(D,null,[e(d,{id:"addresser",header:"Адреса"}),V("div",ht,[e(k,{onCancel:_})]),c(t).anketa.value.addresses.length?(p(),g("div",$t,[(p(!0),g(D,null,O(c(t).anketa.value.addresses,(i,$)=>(p(),g("div",{key:$,onMouseover:r[0]||(r[0]=y=>o.value=!0),onMouseout:r[1]||(r[1]=y=>o.value=!1),class:"card card-body mb-3"},[v.value&&s.value==i.id.toString()?(p(),A(k,{key:0,addrs:n.value,onCancel:_},null,8,["addrs"])):(p(),g("div",St,[e(a,null,{default:m(()=>[C(e(b,{onDelete:y=>c(t).deleteItem(i.id.toString(),"addresses"),onUpdate:y=>{n.value=i,s.value=i.id.toString(),v.value=!0},hide:!0},null,8,["onDelete","onUpdate"]),[[M,o.value&&c(t).anketa.value.persons.user_id==c(f).user.value.userId&&c(t).anketa.value.persons.standing]])]),_:2},1024),e(a,{label:"Тип"},{default:m(()=>[S(h(i.view),1)]),_:2},1024),e(a,{label:"Адрес"},{default:m(()=>[S(h(i.addresses),1)]),_:2},1024)]))],32))),128))])):(p(),g("p",wt,"Данные отсутствуют"))],64)}}}),It=T(Vt,[["__scopeId","data-v-ae8d85c0"]]),Et=E({__name:"ContactForm",props:{contact:{type:Object,default:{}}},emits:["cancel"],setup(l,{emit:t}){const f=t,o=l,v=x(),s=G(),n=P(o.contact);function _(){v.updateItem("contacts",n.value),f("cancel"),Object.keys(n.value).forEach(r=>delete n.value[r])}const u=Q(()=>n.value.view==="Телефон"?"tel":n.value.view==="E-mail"?"email":"text");return(r,d)=>{const k=Z,b=F,a=W,i=N;return p(),g("form",{onSubmit:R(_,["prevent"]),class:"form form-check"},[e(b,{label:"Вид контакта"},{default:m(()=>[e(k,{name:"view",select:c(s).classes.value.contacts,modelValue:n.value.view,"onUpdate:modelValue":d[0]||(d[0]=$=>n.value.view=$)},null,8,["select","modelValue"])]),_:1}),e(b,{label:"Контакт"},{default:m(()=>[e(a,{name:"contact",place:"Контакт",typeof:u.value,need:!0,modelValue:n.value.contact,"onUpdate:modelValue":d[1]||(d[1]=$=>n.value.contact=$)},null,8,["typeof","modelValue"])]),_:1}),e(i,{onCancel:d[2]||(d[2]=$=>f("cancel"))})],32)}}}),Dt={class:"collapse card card-body mb-3",id:"contacter"},Ut={key:0},xt={key:1},Ft={key:1},At=E({__name:"ContactDiv",setup(l){const t=x(),f=B(),o=w(!1),v=w(""),s=w(!1),n=w({});function _(){s.value=!1,v.value="";const u=document.getElementById("contacter");u==null||u.setAttribute("class","collapse card card-body mb-3")}return(u,r)=>{const d=K,k=Et,b=z,a=F;return p(),g(D,null,[e(d,{id:"contacter",header:"Контакты"}),V("div",Dt,[e(k,{onCancel:_})]),c(t).anketa.value.contacts.length?(p(),g("div",Ut,[(p(!0),g(D,null,O(c(t).anketa.value.contacts,(i,$)=>(p(),g("div",{key:$,onMouseover:r[0]||(r[0]=y=>o.value=!0),onMouseout:r[1]||(r[1]=y=>o.value=!1),class:"card card-body mb-3"},[s.value&&v.value==i.id.toString()?(p(),A(k,{key:0,contact:n.value,onCancel:_},null,8,["contact"])):(p(),g("div",xt,[e(a,null,{default:m(()=>[C(e(b,{onDelete:y=>c(t).deleteItem(i.id.toString(),"contacts"),onUpdate:y=>{n.value=i,v.value=i.id.toString(),s.value=!0},hide:!0},null,8,["onDelete","onUpdate"]),[[M,o.value&&c(t).anketa.value.persons.user_id==c(f).user.value.userId&&c(t).anketa.value.persons.standing]])]),_:2},1024),e(a,{label:"Вид"},{default:m(()=>[S(h(i.view),1)]),_:2},1024),e(a,{label:"Контакт"},{default:m(()=>[S(h(i.contact),1)]),_:2},1024)]))],32))),128))])):(p(),g("p",Ft,"Данные отсутствуют"))],64)}}}),Ct=T(At,[["__scopeId","data-v-e18ac2fb"]]),Mt=E({__name:"AffilationForm",props:{affils:{type:Object,default:{}}},emits:["cancel"],setup(l,{emit:t}){const f=t,o=l,v=x(),s=G(),n=P(o.affils);function _(){v.updateItem("affilations",n.value),f("cancel"),Object.keys(n.value).forEach(u=>delete n.value[u])}return(u,r)=>{const d=Z,k=F,b=W,a=N;return p(),g("form",{onSubmit:R(_,["prevent"]),class:"form form-check"},[e(k,{label:"Тип участия"},{default:m(()=>[e(d,{name:"view",select:c(s).classes.value.affilations,modelValue:n.value.view,"onUpdate:modelValue":r[0]||(r[0]=i=>n.value.view=i)},null,8,["select","modelValue"])]),_:1}),e(k,{label:"Организация"},{default:m(()=>[e(b,{name:"name",place:"Организация",need:!0,modelValue:n.value.organization,"onUpdate:modelValue":r[1]||(r[1]=i=>n.value.organization=i)},null,8,["modelValue"])]),_:1}),e(k,{label:"ИНН"},{default:m(()=>[e(b,{name:"inn",place:"ИНН",pattern:"[0-9]{12}",modelValue:n.value.inn,"onUpdate:modelValue":r[2]||(r[2]=i=>n.value.inn=i)},null,8,["modelValue"])]),_:1}),e(a,{onCancel:r[3]||(r[3]=i=>f("cancel"))})],32)}}}),jt={class:"collapse card card-body mb-3",id:"affilationer"},Lt={key:0},Ot={key:1},Bt={key:1},Tt=E({__name:"AffilDiv",setup(l){const t=x(),f=B(),o=w(!1),v=w(!1),s=w(""),n=w({});function _(){v.value=!1,s.value="";const u=document.getElementById("affilationer");u==null||u.setAttribute("class","collapse card card-body mb-3")}return(u,r)=>{const d=K,k=Mt,b=z,a=F;return p(),g(D,null,[e(d,{id:"affilationer",header:"Аффилированность"}),V("div",jt,[e(k,{onCancel:_})]),c(t).anketa.value.affilations.length?(p(),g("div",Lt,[(p(!0),g(D,null,O(c(t).anketa.value.affilations,(i,$)=>(p(),g("div",{key:$,onMouseover:r[0]||(r[0]=y=>o.value=!0),onMouseout:r[1]||(r[1]=y=>o.value=!1),class:"card card-body mb-3"},[v.value&&s.value==i.id.toString()?(p(),A(k,{key:0,affils:n.value,onCancel:_},null,8,["affils"])):(p(),g("div",Ot,[e(a,null,{default:m(()=>[C(e(b,{onDelete:y=>c(t).deleteItem(i.id.toString(),"affilations"),onUpdate:y=>{n.value=i,s.value=i.id.toString(),v.value=!0},hide:!0},null,8,["onDelete","onUpdate"]),[[M,o.value&&c(t).anketa.value.persons.user_id==c(f).user.value.userId&&c(t).anketa.value.persons.standing]])]),_:2},1024),e(a,{label:"Тип участия"},{default:m(()=>[S(h(i.view),1)]),_:2},1024),e(a,{label:"Организация"},{default:m(()=>[S(h(i.organization),1)]),_:2},1024),e(a,{label:"ИНН"},{default:m(()=>[S(h(i.inn),1)]),_:2},1024)]))],32))),128))])):(p(),g("p",Bt,"Данные отсутствуют"))],64)}}}),zt=T(Tt,[["__scopeId","data-v-22f059ae"]]),qt=E({__name:"PreviousForm",props:{previous:{type:Object,default:{}}},emits:["cancel"],setup(l,{emit:t}){const f=t,o=l,v=x(),s=P(o.previous);function n(){v.updateItem("previous",s.value),f("cancel"),Object.keys(s.value).forEach(_=>delete s.value[_])}return(_,u)=>{const r=W,d=F,k=N;return p(),g("form",{onSubmit:R(n,["prevent"]),class:"form form-check"},[e(d,{label:"Фамилия"},{default:m(()=>[e(r,{need:!0,name:"surname",place:"Фамилия*",pattern:"[А-Яа-яЁё\\-'\\s]+",modelValue:s.value.surname,"onUpdate:modelValue":u[0]||(u[0]=b=>s.value.surname=b)},null,8,["modelValue"])]),_:1}),e(d,{label:"Имя"},{default:m(()=>[e(r,{need:!0,name:"firstname",place:"Имя*",pattern:"[А-Яа-яЁё\\-'\\s]+",modelValue:s.value.firstname,"onUpdate:modelValue":u[1]||(u[1]=b=>s.value.firstname=b)},null,8,["modelValue"])]),_:1}),e(d,{label:"Отчество"},{default:m(()=>[e(r,{name:"patronymic",place:"Отчество",modelValue:s.value.patronymic,"onUpdate:modelValue":u[2]||(u[2]=b=>s.value.patronymic=b)},null,8,["modelValue"])]),_:1}),e(d,{label:"Год изменения"},{default:m(()=>[e(r,{name:"date_change",place:"Год изменения",modelValue:s.value.changed,"onUpdate:modelValue":u[3]||(u[3]=b=>s.value.changed=b)},null,8,["modelValue"])]),_:1}),e(d,{label:"Причина изменения"},{default:m(()=>[e(r,{name:"reason",place:"Причина изменения",modelValue:s.value.reason,"onUpdate:modelValue":u[4]||(u[4]=b=>s.value.reason=b)},null,8,["modelValue"])]),_:1}),e(k,{onCancel:u[5]||(u[5]=b=>f("cancel"))})],32)}}}),Pt={class:"collapse card card-body mb-3",id:"previouser"},Rt={key:0},Nt={key:1},Wt={key:1},Ht=E({__name:"PrevDiv",setup(l){const t=x(),f=B(),o=w(!1),v=w(!1),s=w(""),n=w({});function _(){v.value=!1,s.value="";const u=document.getElementById("previouser");u==null||u.setAttribute("class","collapse card card-body mb-3")}return(u,r)=>{const d=K,k=qt,b=z,a=F;return p(),g(D,null,[e(d,{id:"previouser",header:"Изменение имени"}),V("div",Pt,[e(k,{onCancel:_})]),c(t).anketa.value.previous.length?(p(),g("div",Rt,[(p(!0),g(D,null,O(c(t).anketa.value.previous,(i,$)=>(p(),g("div",{key:$,onMouseover:r[0]||(r[0]=y=>o.value=!0),onMouseout:r[1]||(r[1]=y=>o.value=!1),class:"card card-body mb-3"},[v.value&&s.value==i.id.toString()?(p(),A(k,{key:0,previous:n.value,onCancel:_},null,8,["previous"])):(p(),g("div",Nt,[e(a,null,{default:m(()=>[C(e(b,{onDelete:y=>c(t).deleteItem(i.id.toString(),"previous"),onUpdate:y=>{n.value=i,s.value=i.id.toString(),v.value=!0},hide:!0},null,8,["onDelete","onUpdate"]),[[M,o.value&&c(t).anketa.value.persons.user_id==c(f).user.value.userId&&c(t).anketa.value.persons.standing]])]),_:2},1024),e(a,{label:"Фамилия"},{default:m(()=>[S(h(i.surname),1)]),_:2},1024),e(a,{label:"Имя"},{default:m(()=>[S(h(i.firstname),1)]),_:2},1024),i.patronymic?(p(),A(a,{key:0,label:"Отчество"},{default:m(()=>[S(h(i.patronymic),1)]),_:2},1024)):q("",!0),i.changed?(p(),A(a,{key:1,label:"Год изменения"},{default:m(()=>[S(h(i.changed),1)]),_:2},1024)):q("",!0),i.reason?(p(),A(a,{key:2,label:"Причина"},{default:m(()=>[S(h(i.reason),1)]),_:2},1024)):q("",!0)]))],32))),128))])):(p(),g("p",Wt,"Данные отсутствуют"))],64)}}}),Gt=T(Ht,[["__scopeId","data-v-89fc9dcb"]]),Jt=E({__name:"RelationForm",props:{relation:{type:Object,default:{}}},emits:["cancel"],setup(l,{emit:t}){const f=t,o=l,v=x(),s=G(),n=P(o.relation);function _(){v.updateItem("relations",n.value),f("cancel"),Object.keys(n.value).forEach(u=>delete n.value[u])}return(u,r)=>{const d=Z,k=F,b=W,a=N;return p(),g("form",{onSubmit:R(_,["prevent"]),class:"form form-check"},[e(k,{label:"Тип связи"},{default:m(()=>[e(d,{name:"relation",need:!0,select:c(s).classes.value.relations,modelValue:n.value.relation,"onUpdate:modelValue":r[0]||(r[0]=i=>n.value.relation=i)},null,8,["select","modelValue"])]),_:1}),e(k,{label:"ID связи"},{default:m(()=>[e(b,{typeof:"number",name:"relation_id",place:"ID связи",need:!0,modelValue:n.value.relation_id,"onUpdate:modelValue":r[1]||(r[1]=i=>n.value.relation_id=i)},null,8,["modelValue"])]),_:1}),e(a,{onCancel:r[2]||(r[2]=i=>f("cancel"))})],32)}}}),Qt={class:"collapse card card-body mb-3",id:"relationer"},Zt={key:0},Kt={key:1},Xt={key:1},Yt=E({__name:"RelateDiv",setup(l){const t=x(),f=B(),o=w(!1),v=w(!1),s=w(""),n=w({});function _(){v.value=!1,s.value="";const u=document.getElementById("relationer");u==null||u.setAttribute("class","collapse card card-body mb-3")}return(u,r)=>{const d=K,k=Jt,b=z,a=F,i=ke("router-link");return p(),g(D,null,[e(d,{id:"relationer",header:"Связи"}),V("div",Qt,[e(k,{onCancel:_})]),c(t).anketa.value.relations.length?(p(),g("div",Zt,[(p(!0),g(D,null,O(c(t).anketa.value.relations,($,y)=>(p(),g("div",{key:y,class:"card card-body mb-3",onMouseover:r[1]||(r[1]=L=>o.value=!0),onMouseout:r[2]||(r[2]=L=>o.value=!1)},[v.value&&s.value==$.id.toString()?(p(),A(k,{key:0,relation:n.value,onCancel:r[0]||(r[0]=L=>v.value=!v.value)},null,8,["relation"])):(p(),g("div",Kt,[e(a,null,{default:m(()=>[C(e(b,{onDelete:L=>c(t).deleteItem($.id.toString(),"relations"),onUpdate:L=>{n.value=$,s.value=$.id.toString(),v.value=!0},hide:!0},null,8,["onDelete","onUpdate"]),[[M,o.value&&c(t).anketa.value.persons.user_id==c(f).user.value.userId&&c(t).anketa.value.persons.standing]])]),_:2},1024),e(a,{label:"Тип"},{default:m(()=>[S(h($.relation),1)]),_:2},1024),e(a,{label:"Связь"},{default:m(()=>[e(i,{to:{name:"profile",params:{id:$.relation_id}}},{default:m(()=>[S(" ID #"+h($.relation_id),1)]),_:2},1032,["to"])]),_:2},1024)]))],32))),128))])):(p(),g("p",Xt,"Данные отсутствуют"))],64)}}}),en=T(Yt,[["__scopeId","data-v-4c0a79d7"]]),tn={key:0,class:"card card-body mb-3"},nn=E({__name:"AnketaTab",setup(l){const t=Xe,f=lt,o=mt,v=kt,s=It,n=Ct,_=zt,u=Gt,r=en,d=x(),k=G(),b=B(),a=w({action:"",form:{},showActions:!1});return(i,$)=>{const y=Ae,L=ee,J=z,I=F,j=Z;return p(),g(D,null,[a.value.action?(p(),g("div",tn,[e(y,{action:a.value.action,resume:c(d).anketa.value.persons,onCancel:$[0]||($[0]=U=>{a.value.action="",c(d).getItem("persons")})},null,8,["action","resume"])])):(p(),g("div",{key:1,class:"card card-body mb-3",onMouseover:$[6]||($[6]=U=>a.value.showActions=!0),onMouseout:$[7]||($[7]=U=>a.value.showActions=!1)},[e(I,null,{default:m(()=>[C(e(J,{onDelete:$[2]||($[2]=U=>c(d).deleteItem(c(d).anketa.value.persons.id,"persons")),onUpdate:$[3]||($[3]=U=>a.value.action="update"),"for-input":"persons-file"},{default:m(()=>[C(e(L,{"name-id":"persons-file",accept:"*",onSubmit:$[1]||($[1]=U=>c(d).submitFile(U,"anketa",c(d).share.value.candId))},null,512),[[M,a.value.showActions]])]),_:1},512),[[M,a.value.showActions&&c(d).anketa.value.persons.user_id==c(b).user.value.userId&&c(d).anketa.value.persons.standing]])]),_:1}),e(I,{class:"d-print-none",label:"Регион"},{default:m(()=>[e(j,{width:"20%",name:"region",disable:c(b).user.value.userId!=c(d).anketa.value.persons.user_id||!c(d).anketa.value.persons.standing,select:c(k).classes.value.regions,modelValue:c(d).anketa.value.persons.region,"onUpdate:modelValue":$[4]||($[4]=U=>c(d).anketa.value.persons.region=U),onSubmitData:$[5]||($[5]=U=>c(d).changeRegion())},null,8,["disable","select","modelValue"])]),_:1}),e(I,{label:"Фамилия"},{default:m(()=>[S(h(c(d).anketa.value.persons.surname),1)]),_:1}),e(I,{label:"Имя"},{default:m(()=>[S(h(c(d).anketa.value.persons.firstname),1)]),_:1}),e(I,{label:"Отчество"},{default:m(()=>[S(h(c(d).anketa.value.persons.patronymic),1)]),_:1}),e(I,{label:"Дата рождения"},{default:m(()=>[S(h(new Date(String(c(d).anketa.value.persons.birthday)).toLocaleDateString("ru-RU")),1)]),_:1}),e(I,{label:"Место рождения"},{default:m(()=>[S(h(c(d).anketa.value.persons.birthplace),1)]),_:1}),e(I,{label:"Гражданство"},{default:m(()=>[S(h(c(d).anketa.value.persons.citizenship),1)]),_:1}),c(d).anketa.value.persons.dual?(p(),A(I,{key:0,label:"Двойное гражданство"},{default:m(()=>[S(h(c(d).anketa.value.persons.dual),1)]),_:1})):q("",!0),e(I,{label:"СНИЛС"},{default:m(()=>[S(h(c(d).anketa.value.persons.snils),1)]),_:1}),e(I,{label:"ИНН"},{default:m(()=>[S(h(c(d).anketa.value.persons.inn),1)]),_:1}),e(I,{label:"Семейное положение"},{default:m(()=>[S(h(c(d).anketa.value.persons.marital),1)]),_:1}),e(I,{label:"Дата записи"},{default:m(()=>[S(h(c(d).anketa.value.persons.created?new Date(c(d).anketa.value.persons.created+" UTC").toLocaleString("ru-RU"):""),1)]),_:1}),e(I,{label:"Пользователь"},{default:m(()=>[S(h(c(d).anketa.value.persons.username?c(d).anketa.value.persons.username:""),1)]),_:1}),e(I,{label:"Материалы"},{default:m(()=>[S(h(c(d).anketa.value.persons.destination),1)]),_:1}),e(I,{label:"Дополнительная информация"},{default:m(()=>[S(h(c(d).anketa.value.persons.addition?c(d).anketa.value.persons.addition:"-"),1)]),_:1})],32)),(p(!0),g(D,null,O([c(t),c(f),c(o),c(v),c(s),c(n),c(_),c(u),c(r)],(U,ae)=>(p(),g("div",{key:ae},[(p(),A(ce(U)))]))),128))],64)}}}),an={class:"p-3"},on={class:"form form-check"},ln=E({__name:"CheckForm",props:{check:{type:Object,default:{}}},emits:["cancel"],setup(l,{emit:t}){const f=t,o=l,v=x(),s=G(),n=P(o.check),_=w(!1);function u(){v.updateItem("checks",n.value),_.value=!1,f("cancel"),Object.keys(n.value).forEach(r=>delete n.value[r])}return ye(_,()=>{_.value&&Object.assign(n.value,{workplace:"Негатива по местам работы не обнаружено",document:"Среди недействительных документов не обнаружен",inn:"ИНН соответствует паспорту",debt:"Задолженности не обнаружены",bankruptcy:"Решений о признании банкротом не имеется",bki:"Кредитная история не положительная",courts:"Судебные дела не обнаружены",affilation:"Аффилированность не выявлена",terrorist:"В списке террористов не обнаружен",mvd:"В розыск не объявлен",internet:"В открытых источниках негатив не обнаружен",cronos:"В Кронос негатив не выявлен",cros:"В Крос негатив не выявлен"})}),(r,d)=>{const k=pe,b=F,a=Y,i=Z,$=N;return p(),g("div",an,[V("form",on,[e(b,{label:"Негатива нет"},{default:m(()=>[e(k,{name:"noNegative",modelValue:_.value,"onUpdate:modelValue":d[0]||(d[0]=y=>_.value=y)},null,8,["modelValue"])]),_:1})]),V("form",{onSubmit:R(u,["prevent"]),class:"form form-check",id:"checkFormId"},[e(b,{label:"Проверка по местам работы"},{default:m(()=>[e(a,{name:"workplace",place:"Проверка по местам работы",modelValue:n.value.workplace,"onUpdate:modelValue":d[1]||(d[1]=y=>n.value.workplace=y)},null,8,["modelValue"])]),_:1}),e(b,{label:"Проверка документов"},{default:m(()=>[e(a,{name:"document",place:"Проверка документов",modelValue:n.value.document,"onUpdate:modelValue":d[2]||(d[2]=y=>n.value.document=y)},null,8,["modelValue"])]),_:1}),e(b,{label:"Проверка ИНН"},{default:m(()=>[e(a,{name:"inn",place:"Проверка ИНН",modelValue:n.value.inn,"onUpdate:modelValue":d[3]||(d[3]=y=>n.value.inn=y)},null,8,["modelValue"])]),_:1}),e(b,{label:"Проверка задолженностей"},{default:m(()=>[e(a,{name:"debt",place:"Проверка задолженностей",modelValue:n.value.debt,"onUpdate:modelValue":d[4]||(d[4]=y=>n.value.debt=y)},null,8,["modelValue"])]),_:1}),e(b,{label:"Проверка решений о признании банкротом"},{default:m(()=>[e(a,{name:"bankruptcy",place:"Проверка решений о признании банкротом",modelValue:n.value.bankruptcy,"onUpdate:modelValue":d[5]||(d[5]=y=>n.value.bankruptcy=y)},null,8,["modelValue"])]),_:1}),e(b,{label:"Проверка кредитной истории"},{default:m(()=>[e(a,{name:"bki",place:"Проверка кредитной истории",modelValue:n.value.bki,"onUpdate:modelValue":d[6]||(d[6]=y=>n.value.bki=y)},null,8,["modelValue"])]),_:1}),e(b,{label:"Проверка судебных дел"},{default:m(()=>[e(a,{name:"courts",place:"Проверка судебных дел",modelValue:n.value.courts,"onUpdate:modelValue":d[7]||(d[7]=y=>n.value.courts=y)},null,8,["modelValue"])]),_:1}),e(b,{label:"Проверка аффилированности"},{default:m(()=>[e(a,{name:"affilation",place:"Проверка аффилированности",modelValue:n.value.affilation,"onUpdate:modelValue":d[8]||(d[8]=y=>n.value.affilation=y)},null,8,["modelValue"])]),_:1}),e(b,{label:"Проверка в списке террористов"},{default:m(()=>[e(a,{name:"terrorist",place:"Проверка в списке террористов",modelValue:n.value.terrorist,"onUpdate:modelValue":d[9]||(d[9]=y=>n.value.terrorist=y)},null,8,["modelValue"])]),_:1}),e(b,{label:"Проверка в розыск"},{default:m(()=>[e(a,{name:"mvd",place:"Проверка в розыск",modelValue:n.value.mvd,"onUpdate:modelValue":d[10]||(d[10]=y=>n.value.mvd=y)},null,8,["modelValue"])]),_:1}),e(b,{label:"Проверка в открытых источниках"},{default:m(()=>[e(a,{name:"internet",place:"Проверка в открытых источниках",modelValue:n.value.internet,"onUpdate:modelValue":d[11]||(d[11]=y=>n.value.internet=y)},null,8,["modelValue"])]),_:1}),e(b,{label:"Проверка в Кронос"},{default:m(()=>[e(a,{name:"cronos",place:"Проверка в Кронос",modelValue:n.value.cronos,"onUpdate:modelValue":d[12]||(d[12]=y=>n.value.cronos=y)},null,8,["modelValue"])]),_:1}),e(b,{label:"Проверка в Крос"},{default:m(()=>[e(a,{name:"cros",place:"Проверка в Крос",modelValue:n.value.cros,"onUpdate:modelValue":d[13]||(d[13]=y=>n.value.cros=y)},null,8,["modelValue"])]),_:1}),e(b,{label:"Комментарии"},{default:m(()=>[e(a,{name:"comments",place:"Комментарий",modelValue:n.value.comment,"onUpdate:modelValue":d[14]||(d[14]=y=>n.value.comment=y)},null,8,["modelValue"])]),_:1}),e(b,{label:"Результат"},{default:m(()=>[e(i,{name:"conclusion",need:!0,select:c(s).classes.value.conclusions,modelValue:n.value.conclusion,"onUpdate:modelValue":d[15]||(d[15]=y=>n.value.conclusion=y)},null,8,["select","modelValue"])]),_:1}),e($,{onCancel:d[16]||(d[16]=y=>f("cancel"))})],32)])}}}),sn=l=>(ie("data-v-804f47d4"),l=l(),de(),l),un={class:"collapse card card-body mb-3",id:"clps_check"},rn={key:0},dn={key:1},cn={class:"fs-5 fw-medium text-primary p-1"},mn=sn(()=>V("button",{type:"button",class:"btn btn-link","data-bs-toggle":"collapse",href:"#clps_additional",role:"button"}," Информация ",-1)),vn=["innerHTML"],pn={key:1,class:"p-3"},fn=E({__name:"CheckTab",setup(l){const t=x(),f=B(),o=w({actions:!1,edit:!1,itemId:"",check:{}});function v(){o.value.edit=!1,o.value.itemId="";const _=document.getElementById("clps_check");_==null||_.setAttribute("class","collapse card card-body mb-3")}function s(_){let u="";for(let r of _){let d="";for(const[k,b]of Object.entries(r))d+=`<tr><td style="width:30%">${k}</td>`+(typeof b=="string"?`<td>${b}</td>`:`<td>${s(b)}</td>`)+"</tr>";u+=`<table class="table table-sm table-striped text-break">${d}</table>`}return u}const n=_=>{try{const u=JSON.parse(_);return s(u)}catch(u){return console.error(u),null}};return(_,u)=>{const r=ln,d=ee,k=z,b=F;return p(),g(D,null,[V("div",un,[e(r,{onCancel:v})]),c(t).anketa.value.checks.length?(p(),g("div",rn,[(p(!0),g(D,null,O(c(t).anketa.value.checks,(a,i)=>(p(),g("div",{class:"card card-body mb-3",key:i,onMouseover:u[1]||(u[1]=$=>o.value.actions=!0),onMouseout:u[2]||(u[2]=$=>o.value.actions=!1)},[o.value.edit&&o.value.itemId==a.id.toString()?(p(),A(r,{key:0,check:o.value.check,onCancel:v},null,8,["check"])):(p(),g("div",dn,[e(b,null,{default:m(()=>[C(e(k,{onDelete:$=>c(t).deleteItem(a.id.toString(),"checks"),onUpdate:$=>{o.value.check=a,o.value.itemId=a.id.toString(),o.value.edit=!0},"for-input":"check-file"},{default:m(()=>[C(e(d,{"name-id":"check-file",accept:"*",onSubmit:u[0]||(u[0]=$=>c(t).submitFile($,"checks",c(t).share.value.candId))},null,512),[[M,o.value.actions]])]),_:2},1032,["onDelete","onUpdate"]),[[M,o.value.actions&&!i&&c(t).anketa.value.persons.user_id==c(f).user.value.userId&&c(t).anketa.value.persons.standing]])]),_:2},1024),V("p",cn,h("Проверка кандидата #"+(i+1)),1),e(b,{label:"Проверка по местам работы"},{default:m(()=>[S(h(a.workplace),1)]),_:2},1024),e(b,{label:"Проверка паспорта"},{default:m(()=>[S(h(a.document),1)]),_:2},1024),e(b,{label:"Проверка ИНН"},{default:m(()=>[S(h(a.inn),1)]),_:2},1024),e(b,{label:"Проверка ФССП"},{default:m(()=>[S(h(a.debt),1)]),_:2},1024),e(b,{label:"Проверка банкротства"},{default:m(()=>[S(h(a.bankruptcy),1)]),_:2},1024),e(b,{label:"Проверка БКИ"},{default:m(()=>[S(h(a.bki),1)]),_:2},1024),e(b,{label:"Проверка судебных решений"},{default:m(()=>[S(h(a.courts),1)]),_:2},1024),e(b,{label:"Проверка аффилированности"},{default:m(()=>[S(h(a.affilation),1)]),_:2},1024),e(b,{label:"Проверка по списку террористов"},{default:m(()=>[S(h(a.terrorist),1)]),_:2},1024),e(b,{label:"Проверка в розыск"},{default:m(()=>[S(h(a.mvd),1)]),_:2},1024),e(b,{label:"Проверка в открытых источниках"},{default:m(()=>[S(h(a.internet),1)]),_:2},1024),e(b,{label:"Проверка в Кронос"},{default:m(()=>[S(h(a.cronos),1)]),_:2},1024),e(b,{label:"Проверка в Крос"},{default:m(()=>[S(h(a.cros),1)]),_:2},1024),e(b,{label:"Комментарии"},{default:m(()=>[S(h(a.comment?a.comment:"-"),1)]),_:2},1024),e(b,{label:"Результат"},{default:m(()=>[S(h(a.conclusion),1)]),_:2},1024),e(b,{label:"Сотрудник"},{default:m(()=>[S(h(a.username),1)]),_:2},1024),e(b,{label:"Дата записи"},{default:m(()=>[S(h(new Date(a.created+" UTC").toLocaleString("ru-RU")),1)]),_:2},1024),a.addition?(p(),A(b,{key:0,class:"d-print-none",label:"Дополнительно"},{default:m(()=>[mn]),_:1})):q("",!0),a.addition?(p(),g("div",{key:1,class:"collapse card card-body",id:"clps_additional",innerHTML:n(a.addition)},null,8,vn)):q("",!0)]))],32))),128))])):(p(),g("p",pn,"Проверка кандидата отсутствует"))],64)}}}),_n=T(fn,[["__scopeId","data-v-804f47d4"]]),bn=E({__name:"PoligrafForm",props:{poligraf:{type:Object,default:{}}},emits:["cancel"],setup(l,{emit:t}){const f=t,o=l,v=x(),s=G(),n=P(o.poligraf);function _(){v.updateItem("poligrafs",n.value),f("cancel"),Object.keys(n.value).forEach(u=>delete n.value[u])}return(u,r)=>{const d=Z,k=F,b=Y,a=N;return p(),g("form",{onSubmit:R(_,["prevent"]),class:"form form-check p-3"},[e(k,{label:"Тема проверки"},{default:m(()=>[e(d,{name:"theme",need:!0,select:c(s).classes.value.poligrafs,modelValue:n.value.theme,"onUpdate:modelValue":r[0]||(r[0]=i=>n.value.theme=i)},null,8,["select","modelValue"])]),_:1}),e(k,{label:"Результат"},{default:m(()=>[e(b,{name:"results",place:"Результат",modelValue:n.value.results,"onUpdate:modelValue":r[1]||(r[1]=i=>n.value.results=i)},null,8,["modelValue"])]),_:1}),e(a,{onCancel:r[2]||(r[2]=i=>f("cancel"))})],32)}}}),gn={class:"collapse card card-body mb-3",id:"clps_poligraf"},kn={key:0},yn={key:1},hn={class:"fs-5 fw-medium text-primary p-1"},$n={key:1,class:"p-3"},Sn=E({__name:"PoligrafTab",setup(l){const t=x(),f=B(),o=w(!1),v=w(!1),s=w(""),n=w({});function _(){v.value=!1,s.value="";const u=document.getElementById("clps_poligraf");u==null||u.setAttribute("class","collapse card card-body")}return(u,r)=>{const d=bn,k=ee,b=z,a=F;return p(),g(D,null,[V("div",gn,[e(d,{onCancel:_})]),c(t).anketa.value.poligrafs.length?(p(),g("div",kn,[(p(!0),g(D,null,O(c(t).anketa.value.poligrafs,(i,$)=>(p(),g("div",{key:$,onMouseover:r[1]||(r[1]=y=>o.value=!0),onMouseout:r[2]||(r[2]=y=>o.value=!1),class:"card card-body mb-3"},[v.value&&s.value==i.id.toString()?(p(),A(d,{key:0,poligraf:n.value,onCancel:_},null,8,["poligraf"])):(p(),g("div",yn,[e(a,null,{default:m(()=>[C(e(b,{onDelete:y=>c(t).deleteItem(i.id.toString(),"poligrafs"),onUpdate:y=>{n.value=i,s.value=i.id.toString(),v.value=!0},"for-input":"poligrafs-file"},{default:m(()=>[C(e(k,{"name-id":"poligrafs-file",accept:"*",onSubmit:r[0]||(r[0]=y=>c(t).submitFile(y,"poligrafs",c(t).share.value.candId))},null,512),[[M,o.value]])]),_:2},1032,["onDelete","onUpdate"]),[[M,o.value&&$&&c(t).anketa.value.persons.user_id==c(f).user.value.userId&&c(t).anketa.value.persons.standing]])]),_:2},1024),V("p",hn,h("Обследование на полиграфе #"+($+1)),1),e(a,{label:"Тема проверки"},{default:m(()=>[S(h(i.theme),1)]),_:2},1024),e(a,{label:"Результат"},{default:m(()=>[S(h(i.results),1)]),_:2},1024),e(a,{label:"Сотрудник"},{default:m(()=>[S(h(i.username),1)]),_:2},1024),e(a,{label:"Дата записи"},{default:m(()=>[S(h(new Date(i.created+" UTC").toLocaleString("ru-RU")),1)]),_:2},1024)]))],32))),128))])):(p(),g("p",$n,"Обследование на полиграфе не проводилось"))],64)}}}),wn=T(Sn,[["__scopeId","data-v-1818ebb9"]]),Vn=E({__name:"InvestigationForm",props:{investigation:{type:Object,default:{}}},emits:["cancel"],setup(l,{emit:t}){const f=t,o=l,v=x(),s=P(o.investigation);function n(){v.updateItem("investigations",s.value),f("cancel"),Object.keys(s.value).forEach(_=>delete s.value[_])}return(_,u)=>{const r=W,d=F,k=Y,b=N;return p(),g("form",{onSubmit:R(n,["prevent"]),class:"form form-check p-3"},[e(d,{label:"Тема проверки"},{default:m(()=>[e(r,{name:"theme",place:"Тема проверки",need:!0,modelValue:s.value.theme,"onUpdate:modelValue":u[0]||(u[0]=a=>s.value.theme=a)},null,8,["modelValue"])]),_:1}),e(d,{label:"Информация"},{default:m(()=>[e(k,{name:"info",place:"Информация",modelValue:s.value.info,"onUpdate:modelValue":u[1]||(u[1]=a=>s.value.info=a)},null,8,["modelValue"])]),_:1}),e(b,{onCancel:u[2]||(u[2]=a=>f("cancel"))})],32)}}}),In={class:"collapse card card-body mb-3",id:"clps_investigate"},En={key:0},Dn={key:1},Un={class:"fs-5 fw-medium text-primary p-1"},xn={key:1,class:"p-3"},Fn=E({__name:"InvestigateTab",setup(l){const t=x(),f=B(),o=w(!1),v=w(!1),s=w(""),n=w({});function _(){v.value=!1,s.value="";const u=document.getElementById("clps_investigate");u==null||u.setAttribute("class","collapse card card-body")}return(u,r)=>{const d=Vn,k=ee,b=z,a=F;return p(),g(D,null,[V("div",In,[e(d,{onCancel:_})]),c(t).anketa.value.investigations.length?(p(),g("div",En,[(p(!0),g(D,null,O(c(t).anketa.value.investigations,(i,$)=>(p(),g("div",{key:$,onMouseover:r[1]||(r[1]=y=>o.value=!0),onMouseout:r[2]||(r[2]=y=>o.value=!1),class:"card card-body mb-3"},[v.value&&s.value==i.id.toString()?(p(),A(d,{key:0,investigation:n.value,onCancel:_},null,8,["investigation"])):(p(),g("div",Dn,[e(a,null,{default:m(()=>[C(e(b,{onDelete:y=>c(t).deleteItem(i.id.toString(),"investigations"),onUpdate:y=>{n.value=i,s.value=i.id.toString(),v.value=!0},"for-input":"investigations-file"},{default:m(()=>[C(e(k,{"name-id":"investigations-file",accept:"*",onSubmit:r[0]||(r[0]=y=>c(t).submitFile(y,"investigations",c(t).share.value.candId))},null,512),[[M,o.value]])]),_:2},1032,["onDelete","onUpdate"]),[[M,o.value&&$&&c(t).anketa.value.persons.user_id==c(f).user.value.userId&&c(t).anketa.value.persons.standing]])]),_:2},1024),V("p",Un,h("Расследование/Проверка #"+($+1)),1),e(a,{label:"Тема проверки"},{default:m(()=>[S(h(i.theme),1)]),_:2},1024),e(a,{label:"Информация"},{default:m(()=>[S(h(i.info),1)]),_:2},1024),e(a,{label:"Сотрудник"},{default:m(()=>[S(h(i.username),1)]),_:2},1024),e(a,{label:"Дата записи"},{default:m(()=>[S(h(new Date(i.created+" UTC").toLocaleString("ru-RU")),1)]),_:2},1024)]))],32))),128))])):(p(),g("p",xn,"Расследования/Проверки не проводились"))],64)}}}),An=T(Fn,[["__scopeId","data-v-2df1853a"]]),Cn=E({__name:"InquiryForm",props:{inquiry:{type:Object,default:{}}},emits:["cancel"],setup(l,{emit:t}){const f=t,o=l,v=x(),s=P(o.inquiry);function n(){v.updateItem("inquiries",s.value),f("cancel"),Object.keys(s.value).forEach(_=>delete s.value[_])}return(_,u)=>{const r=Y,d=F,k=W,b=N;return p(),g("form",{onSubmit:R(n,["prevent"]),class:"form form-check p-3"},[e(d,{label:"Информация"},{default:m(()=>[e(r,{name:"info",place:"Информация",modelValue:s.value.info,"onUpdate:modelValue":u[0]||(u[0]=a=>s.value.info=a)},null,8,["modelValue"])]),_:1}),e(d,{label:"Инициатор"},{default:m(()=>[e(k,{name:"origins",place:"Инициатор",modelValue:s.value.origins,"onUpdate:modelValue":u[1]||(u[1]=a=>s.value.origins=a)},null,8,["modelValue"])]),_:1}),e(b,{onCancel:u[2]||(u[2]=a=>f("cancel"))})],32)}}}),Mn={class:"collapse card card-body mb-3",id:"clps_inquiry"},jn={key:0},Ln={key:1},On={class:"fs-5 fw-medium text-primary p-1"},Bn={key:1,class:"p-3"},Tn=E({__name:"InquiryTab",setup(l){const t=x(),f=B(),o=w(!1),v=w(!1),s=w(""),n=w({});function _(){v.value=!1,s.value="";const u=document.getElementById("clps_inquiry");u==null||u.setAttribute("class","collapse card card-body mb-3")}return(u,r)=>{const d=Cn,k=z,b=F;return p(),g(D,null,[V("div",Mn,[e(d,{onCancel:_})]),c(t).anketa.value.inquiries.length?(p(),g("div",jn,[(p(!0),g(D,null,O(c(t).anketa.value.inquiries,(a,i)=>(p(),g("div",{class:"card card-body mb-3",key:i,onMouseover:r[0]||(r[0]=$=>o.value=!0),onMouseout:r[1]||(r[1]=$=>o.value=!1)},[v.value&&s.value==a.id.toString()?(p(),A(d,{key:0,inquiry:n.value,onCancel:_},null,8,["inquiry"])):(p(),g("div",Ln,[e(b,null,{default:m(()=>[C(e(k,{onDelete:$=>c(t).deleteItem(a.id.toString(),"inquiries"),onUpdate:$=>{n.value=a,s.value=a.id.toString(),v.value=!0},hide:!0},null,8,["onDelete","onUpdate"]),[[M,o.value&&i&&c(t).anketa.value.persons.user_id==c(f).user.value.userId&&c(t).anketa.value.persons.standing]])]),_:2},1024),V("p",On,h("Запросы о сотруднике #"+(i+1)),1),e(b,{label:"Информация"},{default:m(()=>[S(h(a.info),1)]),_:2},1024),e(b,{label:"Иннициатор"},{default:m(()=>[S(h(a.origins),1)]),_:2},1024),e(b,{label:"Сотрудник"},{default:m(()=>[S(h(a.username),1)]),_:2},1024),e(b,{label:"Дата записи"},{default:m(()=>[S(h(new Date(a.created+" UTC").toLocaleString("ru-RU")),1)]),_:2},1024)]))],32))),128))])):(p(),g("p",Bn,"Запросы о сотруднике не поступали"))],64)}}}),zn=T(Tn,[["__scopeId","data-v-9377f13d"]]);async function qn(l,t){return await Pn(t).catch(o=>(console.error("Failed to get image meta for "+t,o+""),{width:0,height:0,ratio:0}))}async function Pn(l){if(typeof Image>"u")throw new TypeError("Image not supported");return new Promise((t,f)=>{const o=new Image;o.onload=()=>{const v={width:o.width,height:o.height,ratio:o.width/o.height};t(v)},o.onerror=v=>f(v),o.src=l})}function se(l){return t=>t?l[t]||t:l.missingValue}function Rn({formatter:l,keyMap:t,joinWith:f="/",valueMap:o}={}){l||(l=(s,n)=>`${s}=${n}`),t&&typeof t!="function"&&(t=se(t));const v=o||{};return Object.keys(v).forEach(s=>{typeof v[s]!="function"&&(v[s]=se(v[s]))}),(s={})=>Object.entries(s).filter(([_,u])=>typeof u<"u").map(([_,u])=>{const r=v[_];return typeof r=="function"&&(u=r(s[_])),_=typeof t=="function"?t(_):_,l(_,u)}).join(f)}function H(l=""){if(typeof l=="number")return l;if(typeof l=="string"&&l.replace("px","").match(/^\d+$/g))return Number.parseInt(l,10)}function Nn(l=""){if(l===void 0||!l.length)return[];const t=new Set;for(const f of l.split(" ")){const o=Number.parseInt(f.replace("x",""));o&&t.add(o)}return Array.from(t)}function Wn(l){if(l.length===0)throw new Error("`densities` must not be empty, configure to `1` to render regular size only (DPR 1.0)")}function Hn(l){const t={};if(typeof l=="string")for(const f of l.split(/[\s,]+/).filter(o=>o)){const o=f.split(":");o.length!==2?t["1px"]=o[0].trim():t[o[0].trim()]=o[1].trim()}else Object.assign(t,l);return t}function Gn(l){const t={options:l},f=(v,s={})=>fe(t,v,s),o=(v,s={},n={})=>f(v,{...n,modifiers:me(s,n.modifiers||{})}).url;for(const v in l.presets)o[v]=(s,n,_)=>o(s,n,{...l.presets[v],..._});return o.options=l,o.getImage=f,o.getMeta=(v,s)=>Jn(t,v,s),o.getSizes=(v,s)=>Kn(t,v,s),t.$img=o,o}async function Jn(l,t,f){const o=fe(l,t,{...f});return typeof o.getMeta=="function"?await o.getMeta():await qn(l,o.url)}function fe(l,t,f){var r,d;if(t&&typeof t!="string")throw new TypeError(`input must be a string (received ${typeof t}: ${JSON.stringify(t)})`);if(!t||t.startsWith("data:"))return{url:t};const{provider:o,defaults:v}=Qn(l,f.provider||l.options.provider),s=Zn(l,f.preset);if(t=oe(t)?t:he(t),!o.supportsAlias)for(const k in l.options.alias)t.startsWith(k)&&(t=te(l.options.alias[k],t.substr(k.length)));if(o.validateDomains&&oe(t)){const k=$e(t).host;if(!l.options.domains.find(b=>b===k))return{url:t}}const n=me(f,s,v);n.modifiers={...n.modifiers};const _=n.modifiers.format;(r=n.modifiers)!=null&&r.width&&(n.modifiers.width=H(n.modifiers.width)),(d=n.modifiers)!=null&&d.height&&(n.modifiers.height=H(n.modifiers.height));const u=o.getImage(t,n,l);return u.format=u.format||_||"",u}function Qn(l,t){const f=l.options.providers[t];if(!f)throw new Error("Unknown provider: "+t);return f}function Zn(l,t){if(!t)return{};if(!l.options.presets[t])throw new Error("Unknown preset: "+t);return l.options.presets[t]}function Kn(l,t,f){var i,$,y,L,J;const o=H((i=f.modifiers)==null?void 0:i.width),v=H(($=f.modifiers)==null?void 0:$.height),s=Hn(f.sizes),n=(y=f.densities)!=null&&y.trim()?Nn(f.densities.trim()):l.options.densities;Wn(n);const _=o&&v?v/o:0,u=[],r=[];if(Object.keys(s).length>=1){for(const I in s){const j=ue(I,String(s[I]),v,_,l);if(j!==void 0){u.push({size:j.size,screenMaxWidth:j.screenMaxWidth,media:`(max-width: ${j.screenMaxWidth}px)`});for(const U of n)r.push({width:j._cWidth*U,src:re(l,t,f,j,U)})}}Xn(u)}else for(const I of n){const j=Object.keys(s)[0];let U=ue(j,String(s[j]),v,_,l);U===void 0&&(U={size:"",screenMaxWidth:0,_cWidth:(L=f.modifiers)==null?void 0:L.width,_cHeight:(J=f.modifiers)==null?void 0:J.height}),r.push({width:I,src:re(l,t,f,U,I)})}Yn(r);const d=r[r.length-1],k=u.length?u.map(I=>`${I.media?I.media+" ":""}${I.size}`).join(", "):void 0,b=k?"w":"x",a=r.map(I=>`${I.src} ${I.width}${b}`).join(", ");return{sizes:k,srcset:a,src:d==null?void 0:d.src}}function ue(l,t,f,o,v){const s=v.options.screens&&v.options.screens[l]||Number.parseInt(l),n=t.endsWith("vw");if(!n&&/^\d+$/.test(t)&&(t=t+"px"),!n&&!t.endsWith("px"))return;let _=Number.parseInt(t);if(!s||!_)return;n&&(_=Math.round(_/100*s));const u=o?Math.round(_*o):f;return{size:t,screenMaxWidth:s,_cWidth:_,_cHeight:u}}function re(l,t,f,o,v){return l.$img(t,{...f.modifiers,width:o._cWidth?o._cWidth*v:void 0,height:o._cHeight?o._cHeight*v:void 0},f)}function Xn(l){var f;l.sort((o,v)=>o.screenMaxWidth-v.screenMaxWidth);let t=null;for(let o=l.length-1;o>=0;o--){const v=l[o];v.media===t&&l.splice(o,1),t=v.media}for(let o=0;o<l.length;o++)l[o].media=((f=l[o+1])==null?void 0:f.media)||""}function Yn(l){l.sort((f,o)=>f.width-o.width);let t=null;for(let f=l.length-1;f>=0;f--){const o=l[f];o.width===t&&l.splice(f,1),t=o.width}}const ea=Rn({keyMap:{format:"f",fit:"fit",width:"w",height:"h",resize:"s",quality:"q",background:"b"},joinWith:"&",formatter:(l,t)=>le(l)+"_"+le(t)}),ta=(l,{modifiers:t={},baseURL:f}={},o)=>{t.width&&t.height&&(t.resize=`${t.width}x${t.height}`,delete t.width,delete t.height);const v=ea(t)||"_";return f||(f=te(o.options.nuxt.baseURL,"/_ipx")),{url:te(f,v,Se(l))}},na=!0,aa=!0,oa=Object.freeze(Object.defineProperty({__proto__:null,getImage:ta,supportsAlias:aa,validateDomains:na},Symbol.toStringTag,{value:"Module"})),_e={screens:{xs:320,sm:640,md:768,lg:1024,xl:1280,xxl:1536,"2xl":1536},presets:{},provider:"ipxStatic",domains:[],alias:{},densities:[1,2],format:["webp"]};_e.providers={ipxStatic:{provider:oa,defaults:{}}};const be=()=>{const l=we(),t=ve();return t.$img||t._img||(t._img=Gn({..._e,nuxt:{baseURL:l.app.baseURL}}))};function la(l){var t;(t=performance==null?void 0:performance.mark)==null||t.call(performance,"mark_feature_usage",{detail:{feature:l}})}const sa={src:{type:String,default:void 0},format:{type:String,default:void 0},quality:{type:[Number,String],default:void 0},background:{type:String,default:void 0},fit:{type:String,default:void 0},modifiers:{type:Object,default:void 0},preset:{type:String,default:void 0},provider:{type:String,default:void 0},sizes:{type:[Object,String],default:void 0},densities:{type:String,default:void 0},preload:{type:[Boolean,Object],default:void 0},width:{type:[String,Number],default:void 0},height:{type:[String,Number],default:void 0},alt:{type:String,default:void 0},referrerpolicy:{type:String,default:void 0},usemap:{type:String,default:void 0},longdesc:{type:String,default:void 0},ismap:{type:Boolean,default:void 0},loading:{type:String,default:void 0,validator:l=>["lazy","eager"].includes(l)},crossorigin:{type:[Boolean,String],default:void 0,validator:l=>["anonymous","use-credentials","",!0,!1].includes(l)},decoding:{type:String,default:void 0,validator:l=>["async","auto","sync"].includes(l)},nonce:{type:[String],default:void 0}},ua=l=>{const t=Q(()=>({provider:l.provider,preset:l.preset})),f=Q(()=>({width:H(l.width),height:H(l.height),alt:l.alt,referrerpolicy:l.referrerpolicy,usemap:l.usemap,longdesc:l.longdesc,ismap:l.ismap,crossorigin:l.crossorigin===!0?"anonymous":l.crossorigin||void 0,loading:l.loading,decoding:l.decoding,nonce:l.nonce})),o=be(),v=Q(()=>({...l.modifiers,width:H(l.width),height:H(l.height),format:l.format,quality:l.quality||o.options.quality,background:l.background,fit:l.fit}));return{options:t,attrs:f,modifiers:v}},ra={...sa,placeholder:{type:[Boolean,String,Number,Array],default:void 0},placeholderClass:{type:String,default:void 0}},ia=E({name:"NuxtImg",props:ra,emits:["load","error"],setup:(l,t)=>{const f=be(),o=ua(l),v=w(!1),s=w(),n=Q(()=>f.getSizes(l.src,{...o.options.value,sizes:l.sizes,densities:l.densities,modifiers:{...o.modifiers.value,width:H(l.width),height:H(l.height)}})),_=Q(()=>{const a={...o.attrs.value,"data-nuxt-img":""};return(!l.placeholder||v.value)&&(a.sizes=n.value.sizes,a.srcset=n.value.srcset),a}),u=Q(()=>{let a=l.placeholder;if(a===""&&(a=!0),!a||v.value)return!1;if(typeof a=="string")return a;const i=Array.isArray(a)?a:typeof a=="number"?[a,a]:[10,10];return f(l.src,{...o.modifiers.value,width:i[0],height:i[1],quality:i[2]||50,blur:i[3]||3},o.options.value)}),r=Q(()=>l.sizes?n.value.src:f(l.src,o.modifiers.value,o.options.value)),d=Q(()=>u.value?u.value:r.value);if(l.preload){const a=Object.values(n.value).every(i=>i);Ve({link:[{rel:"preload",as:"image",nonce:l.nonce,...a?{href:n.value.src,imagesizes:n.value.sizes,imagesrcset:n.value.srcset}:{href:d.value},...typeof l.preload!="boolean"&&l.preload.fetchPriority?{fetchpriority:l.preload.fetchPriority}:{}}]})}const b=ve().isHydrating;return Ie(()=>{if(u.value){const a=new Image;a.src=r.value,l.sizes&&(a.sizes=n.value.sizes||"",a.srcset=n.value.srcset),a.onload=i=>{v.value=!0,t.emit("load",i)},la("nuxt-image");return}s.value&&(s.value.complete&&b&&(s.value.getAttribute("data-error")?t.emit("error",new Event("error")):t.emit("load",new Event("load"))),s.value.onload=a=>{t.emit("load",a)},s.value.onerror=a=>{t.emit("error",a)})}),()=>Ee("img",{ref:s,..._.value,...t.attrs,class:l.placeholder&&!v.value?[l.placeholderClass]:void 0,src:d.value})}}),da={class:"card mb-3",style:{width:"16rem"}},ca={class:"card-img-overlay"},ma=E({__name:"PhotoCard",setup(l){const t=x(),f=B(),o=w({formData:new FormData,showPhoto:!1,handleMouse(){this.showPhoto=!this.showPhoto},async submitImage(v){await t.submitFile(v,"image",t.share.value.candId)}});return(v,s)=>{const n=ia;return p(),g("div",da,[V("div",{class:"card-img-container",onMouseover:s[1]||(s[1]=(..._)=>o.value.handleMouse&&o.value.handleMouse(..._)),onMouseout:s[2]||(s[2]=(..._)=>o.value.handleMouse&&o.value.handleMouse(..._))},[e(n,{src:c(t).share.value.imageUrl,class:"card-img-top",alt:"..."},null,8,["src"]),C(V("div",ca,[V("input",{onChange:s[0]||(s[0]=_=>o.value.submitImage(_)),class:"form-control form-control-sm",id:"formImage",type:"file",accept:"image/*"},null,32)],512),[[M,o.value.showPhoto&&c(t).anketa.value.persons.user_id==c(f).user.value.userId&&c(t).anketa.value.persons.standing]])],32)])}}}),va=T(ma,[["__scopeId","data-v-f40254b9"]]),pa={class:"row mb-3"},fa={class:"col-md-10"},_a={key:0,class:"col-md-2 d-flex justify-content-end d-print-none"},ba=["title","href"],ga={key:0,class:"position-relative"},ka=["title"],ya={key:0,class:"spinner-grow text-danger",role:"status"},ha={key:1,class:"text-danger fs-5"},$a=V("i",{class:"bi bi-pencil-square"},null,-1),Sa=[$a],wa={class:"nav nav-tabs nav-justified d-print-none",role:"tablist"},Va=["data-bs-target","onClick"],Ia={class:"tab-content"},Ea=["id"],qa=E({__name:"[id]",setup(l){const t=nn,f=_n,o=wn,v=An,s=zn,n=De(),_=x(),u=G(),r=B();Ue(async()=>{_.share.value.candId=n.params.id;try{const L=await xe()(`${Fe}/profile/${_.share.value.candId}`),J=Object.keys(_.anketa.value);for(let I=0;I<J.length;I++)_.anketa.value[J[I]]=L[I];_.getImage()}catch($){console.error($)}});const d=w("anketaTab"),k={anketaTab:["Взять анкету","Анкета",t],checkTab:["Добавить проверку","Проверки",f,"bi-person-check"],poligrafTab:["Добавить полиграф","Полиграф",o,"bi-heart-pulse"],investigateTab:["Добавить расследования","Расследования",v,"bi-incognito"],inquiryTab:["Добавить запрос","Запросы",s,"bi-journal-check"]};async function b(){var y;const $=document.getElementsByClassName("collapse");for(let L=0;L<$.length;L++)(y=$[L])==null||y.setAttribute("class","collapse card card-body mb-3")}async function a(){await b(),_.getItem("persons","self")}async function i($){await b(),d.value=$}return($,y)=>{const L=va,J=Ce,I=Me;return p(),A(I,null,{default:m(()=>[e(L),V("div",pa,[V("div",fa,[e(J,{cls:"text-danger py-3","page-header":`${c(_).anketa.value.persons.surname} ${c(_).anketa.value.persons.firstname} ${c(_).anketa.value.persons.patronymic?" "+c(_).anketa.value.persons.patronymic:""}`},null,8,["page-header"])]),c(r).user.value.role==c(u).classes.value.roles.user?(p(),g("div",_a,[(p(!0),g(D,null,O(Object.keys(k).slice(1),(j,U)=>(p(),g("div",{key:U,class:"position-relative"},[d.value==j&&c(_).anketa.value.persons.user_id==c(r).user.value.userId&&c(_).anketa.value.persons.standing?(p(),g("div",{key:0,title:k[d.value][0],class:"text-danger fs-1",style:{cursor:"pointer"},"data-bs-toggle":"collapse",href:"#clps_"+j.split("T")[0]},[V("i",{class:X(["bi",k[d.value][3]])},null,2)],8,ba)):q("",!0)]))),128)),d.value=="anketaTab"?(p(),g("div",ga,[V("button",{type:"button",class:X(c(_).anketa.value.persons.standing?"btn btn-link":"btn btn-outline-danger"),title:c(_).anketa.value.persons.standing?"Отключить режим проверки":"Включить режим проверки",onClick:a},[c(_).anketa.value.persons.standing?(p(),g("span",ya)):(p(),g("div",ha,Sa))],10,ka)])):q("",!0)])):q("",!0)]),V("nav",wa,[(p(),g(D,null,O(k,(j,U)=>V("button",{key:U,class:X(["nav-link",{active:U==="anketaTab"}]),"data-bs-target":"#"+U,"data-bs-toggle":"tab",type:"button",role:"tab",onClick:ae=>i(U)},h(j[1]),11,Va)),64))]),V("div",Ia,[(p(),g(D,null,O(k,(j,U)=>V("div",{key:U,id:U,class:X(["tab-pane show fade pt-3",{active:U=="anketaTab"}]),role:"tabpanel"},[(p(),A(ce(j[2])))],10,Ea)),64))])]),_:1})}}});export{qa as default};
