import{c as q,b as N,a as T}from"./BaLSyn9W.js";import{m as G,af as R,k as z,_ as A,g as C,s as D,v as U,r as I,$ as E,L as k,M as H,R as J,x as L,y as P,z as K,o as S,c as Q,a as W,D as X,A as Y,B as Z,ag as ee,i as x,w as i,b as l,q as ae,G as le}from"./BrjdBAS6.js";import{_ as te}from"./CHkULda6.js";import{_ as oe}from"./CkmYUSuq.js";import{d as ne}from"./CfpFGIXT.js";const f=G(z.ui.strategy,z.ui.textarea,R),ue=C({inheritAttrs:!1,props:{modelValue:{type:[String,Number],default:""},id:{type:String,default:null},name:{type:String,default:null},placeholder:{type:String,default:null},required:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},rows:{type:Number,default:3},maxrows:{type:Number,default:0},autoresize:{type:Boolean,default:!1},autofocus:{type:Boolean,default:!1},autofocusDelay:{type:Number,default:100},resize:{type:Boolean,default:!1},padded:{type:Boolean,default:!0},size:{type:String,default:null,validator(e){return Object.keys(f.size).includes(e)}},color:{type:String,default:()=>f.default.color,validator(e){return[...z.ui.colors,...Object.keys(f.color)].includes(e)}},variant:{type:String,default:()=>f.default.variant,validator(e){return[...Object.keys(f.variant),...Object.values(f.color).flatMap(s=>Object.keys(s))].includes(e)}},textareaClass:{type:String,default:null},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})},modelModifiers:{type:Object,default:()=>({})}},emits:["update:modelValue","blur","change"],setup(e,{emit:s}){const{ui:r,attrs:v}=D("textarea",U(e,"ui"),f,U(e,"class")),{emitFormBlur:c,emitFormInput:a,inputId:m,color:y,size:w,name:t}=q(e,f),d=I(E({},e.modelModifiers,{trim:!1,lazy:!1,number:!1})),u=I(null),b=()=>{var n;e.autofocus&&((n=u.value)==null||n.focus())},V=()=>{if(e.autoresize){if(!u.value)return;u.value.rows=e.rows;const n=window.getComputedStyle(u.value),p=parseInt(n.paddingTop),_=parseInt(n.paddingBottom),F=p+_,M=parseInt(n.lineHeight),{scrollHeight:O}=u.value,B=(O-F)/M;B>e.rows&&(u.value.rows=e.maxrows?Math.min(B,e.maxrows):B)}},g=n=>{d.value.trim&&(n=n.trim()),d.value.number&&(n=ee(n)),s("update:modelValue",n),a()},o=n=>{V(),d.value.lazy||g(n.target.value)},h=n=>{const p=n.target.value;s("change",p),d.value.lazy&&g(p),d.value.trim&&(n.target.value=p.trim())},$=n=>{s("blur",n),c()};k(()=>{setTimeout(()=>{b()},e.autofocusDelay)}),H(()=>e.modelValue,()=>{J(V)}),k(()=>{setTimeout(()=>{b(),V()},100)});const j=L(()=>{var p,_;const n=((_=(p=r.value.color)==null?void 0:p[y.value])==null?void 0:_[e.variant])||r.value.variant[e.variant];return P(K(r.value.base,r.value.form,r.value.rounded,r.value.placeholder,r.value.size[w.value],e.padded?r.value.padding[w.value]:"p-0",n==null?void 0:n.replaceAll("{color}",y.value),!e.resize&&"resize-none"),e.textareaClass)});return{ui:r,attrs:v,name:t,inputId:m,textarea:u,textareaClass:j,onInput:o,onChange:h,onBlur:$}}}),se=["id","value","name","rows","required","disabled","placeholder"];function re(e,s,r,v,c,a){return S(),Q("div",{class:Z(e.ui.wrapper)},[W("textarea",X({id:e.inputId,ref:"textarea",value:e.modelValue,name:e.name,rows:e.rows,required:e.required,disabled:e.disabled,placeholder:e.placeholder,class:e.textareaClass},e.attrs,{onInput:s[0]||(s[0]=(...m)=>e.onInput&&e.onInput(...m)),onBlur:s[1]||(s[1]=(...m)=>e.onBlur&&e.onBlur(...m)),onChange:s[2]||(s[2]=(...m)=>e.onChange&&e.onChange(...m))}),null,16,se),Y(e.$slots,"default")],2)}const de=A(ue,[["render",re]]),ie=C({__name:"BtnGroup",emits:["cancel"],setup(e,{emit:s}){const r=s;return(v,c)=>{const a=ae,m=te;return S(),x(m,{class:"mt-3",size:"md",orientation:"horizontal"},{default:i(()=>[l(a,{label:"Принять",color:"green",variant:"outline",type:"submit"}),l(a,{label:"Отмена",color:"red",variant:"outline",onClick:c[0]||(c[0]=y=>r("cancel"))})]),_:1})}}}),be=C({__name:"ResumeForm",props:{action:{type:String,default:"create"},resume:{type:Object,default:{}}},emits:["cancel"],setup(e,{emit:s}){const r=s,v=e,c=ne(),a=U(v.resume);function m(){a.value={},r("cancel")}async function y(){c.submitResume(v.action,a.value),m()}return(w,t)=>{const d=N,u=T,b=de,V=ie,g=oe;return S(),x(g,{state:a.value,onSubmit:le(y,["prevent"])},{default:i(()=>[l(u,{class:"mb-3",label:"Фамилия"},{default:i(()=>[l(d,{modelValue:a.value.surname,"onUpdate:modelValue":t[0]||(t[0]=o=>a.value.surname=o),required:"",placeholder:"Фамилия"},null,8,["modelValue"])]),_:1}),l(u,{class:"mb-3",label:"Имя"},{default:i(()=>[l(d,{modelValue:a.value.firstname,"onUpdate:modelValue":t[1]||(t[1]=o=>a.value.firstname=o),required:"",placeholder:"Имя"},null,8,["modelValue"])]),_:1}),l(u,{class:"mb-3",label:"Отчество"},{default:i(()=>[l(d,{modelValue:a.value.patronymic,"onUpdate:modelValue":t[2]||(t[2]=o=>a.value.patronymic=o),placeholder:"Отчество"},null,8,["modelValue"])]),_:1}),l(u,{class:"mb-3",label:"Дата рождения"},{default:i(()=>[l(d,{modelValue:a.value.birthday,"onUpdate:modelValue":t[3]||(t[3]=o=>a.value.birthday=o),required:"",type:"date"},null,8,["modelValue"])]),_:1}),l(u,{class:"mb-3",label:"Место рождения"},{default:i(()=>[l(b,{modelValue:a.value.birthplace,"onUpdate:modelValue":t[4]||(t[4]=o=>a.value.birthplace=o),placeholder:"Место рождения"},null,8,["modelValue"])]),_:1}),l(u,{class:"mb-3",label:"Гражданство"},{default:i(()=>[l(d,{modelValue:a.value.citizenship,"onUpdate:modelValue":t[5]||(t[5]=o=>a.value.citizenship=o),placeholder:"Гражданство"},null,8,["modelValue"])]),_:1}),l(u,{class:"mb-3",label:"Двойное гражданство"},{default:i(()=>[l(d,{modelValue:a.value.dual,"onUpdate:modelValue":t[6]||(t[6]=o=>a.value.dual=o),placeholder:"Двойное гражданство"},null,8,["modelValue"])]),_:1}),l(u,{class:"mb-3",label:"СНИЛС"},{default:i(()=>[l(d,{modelValue:a.value.snils,"onUpdate:modelValue":t[7]||(t[7]=o=>a.value.snils=o),placeholder:"СНИЛС"},null,8,["modelValue"])]),_:1}),l(u,{class:"mb-3",label:"ИНН"},{default:i(()=>[l(d,{modelValue:a.value.inn,"onUpdate:modelValue":t[8]||(t[8]=o=>a.value.inn=o),placeholder:"ИНН"},null,8,["modelValue"])]),_:1}),l(u,{class:"mb-3",label:"Семейное положение"},{default:i(()=>[l(b,{modelValue:a.value.marital,"onUpdate:modelValue":t[9]||(t[9]=o=>a.value.marital=o),placeholder:"Семейное положение"},null,8,["modelValue"])]),_:1}),l(u,{class:"mb-3",label:"Дополнительно"},{default:i(()=>[l(b,{modelValue:a.value.addition,"onUpdate:modelValue":t[10]||(t[10]=o=>a.value.addition=o),placeholder:"Дополнительно"},null,8,["modelValue"])]),_:1}),l(V,{onCancel:m})]),_:1},8,["state"])}}});export{be as _,ie as a,de as b};
