import{m as F,k as z,_ as q,g as C,s as N,v as B,x as A,y as T,z as G,o as v,i as I,w as i,c as k,B as _,A as $,C as U,D,ag as W,ah as x,r as O,a3 as L,K as j,P as Q,W as X,a as Y,ai as Z,b as t,q as ee,G as ae}from"./DqpPj892.js";import{c as le,b as te,a as oe}from"./Cvx2MeBc.js";import{_ as ue}from"./BJHikfl-.js";import{_ as re}from"./CDzTYqrH.js";import{d as ne}from"./B_evGm4m.js";const se={base:"",background:"bg-white dark:bg-gray-900",divide:"divide-y divide-gray-200 dark:divide-gray-800",ring:"ring-1 ring-gray-200 dark:ring-gray-800",rounded:"rounded-lg",shadow:"shadow",body:{base:"",background:"",padding:"px-4 py-5 sm:p-6"},header:{base:"",background:"",padding:"px-4 py-5 sm:px-6"},footer:{base:"",background:"",padding:"px-4 py-4 sm:px-6"}},de=F(z.ui.strategy,z.ui.card,se),ie=C({inheritAttrs:!1,props:{as:{type:String,default:"div"},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},setup(e){const{ui:l,attrs:s}=N("card",B(e,"ui"),de),p=A(()=>T(G(l.value.base,l.value.rounded,l.value.divide,l.value.ring,l.value.shadow,l.value.background),e.class));return{ui:l,attrs:s,cardClass:p}}});function me(e,l,s,p,f,a){return v(),I(W(e.$attrs.onSubmit?"form":e.as),D({class:e.cardClass},e.attrs),{default:i(()=>[e.$slots.header?(v(),k("div",{key:0,class:_([e.ui.header.base,e.ui.header.padding,e.ui.header.background])},[$(e.$slots,"header")],2)):U("",!0),e.$slots.default?(v(),k("div",{key:1,class:_([e.ui.body.base,e.ui.body.padding,e.ui.body.background])},[$(e.$slots,"default")],2)):U("",!0),e.$slots.footer?(v(),k("div",{key:2,class:_([e.ui.footer.base,e.ui.footer.padding,e.ui.footer.background])},[$(e.$slots,"footer")],2)):U("",!0)]),_:3},16,["class"])}const we=q(ie,[["render",me]]),b=F(z.ui.strategy,z.ui.textarea,x),pe=C({inheritAttrs:!1,props:{modelValue:{type:[String,Number],default:""},id:{type:String,default:null},name:{type:String,default:null},placeholder:{type:String,default:null},required:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},rows:{type:Number,default:3},maxrows:{type:Number,default:0},autoresize:{type:Boolean,default:!1},autofocus:{type:Boolean,default:!1},autofocusDelay:{type:Number,default:100},resize:{type:Boolean,default:!1},padded:{type:Boolean,default:!0},size:{type:String,default:null,validator(e){return Object.keys(b.size).includes(e)}},color:{type:String,default:()=>b.default.color,validator(e){return[...z.ui.colors,...Object.keys(b.color)].includes(e)}},variant:{type:String,default:()=>b.default.variant,validator(e){return[...Object.keys(b.variant),...Object.values(b.color).flatMap(l=>Object.keys(l))].includes(e)}},textareaClass:{type:String,default:null},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})},modelModifiers:{type:Object,default:()=>({})}},emits:["update:modelValue","blur","change"],setup(e,{emit:l}){const{ui:s,attrs:p}=N("textarea",B(e,"ui"),b,B(e,"class")),{emitFormBlur:f,emitFormInput:a,inputId:m,color:g,size:S,name:o}=le(e,b),d=O(L({},e.modelModifiers,{trim:!1,lazy:!1,number:!1})),n=O(null),y=()=>{var r;e.autofocus&&((r=n.value)==null||r.focus())},V=()=>{if(e.autoresize){if(!n.value)return;n.value.rows=e.rows;const r=window.getComputedStyle(n.value),c=parseInt(r.paddingTop),w=parseInt(r.paddingBottom),P=c+w,J=parseInt(r.lineHeight),{scrollHeight:K}=n.value,M=(K-P)/J;M>e.rows&&(n.value.rows=e.maxrows?Math.min(M,e.maxrows):M)}},h=r=>{d.value.trim&&(r=r.trim()),d.value.number&&(r=Z(r)),l("update:modelValue",r),a()},u=r=>{V(),d.value.lazy||h(r.target.value)},R=r=>{const c=r.target.value;l("change",c),d.value.lazy&&h(c),d.value.trim&&(r.target.value=c.trim())},E=r=>{l("blur",r),f()};j(()=>{setTimeout(()=>{y()},e.autofocusDelay)}),Q(()=>e.modelValue,()=>{X(V)}),j(()=>{setTimeout(()=>{y(),V()},100)});const H=A(()=>{var c,w;const r=((w=(c=s.value.color)==null?void 0:c[g.value])==null?void 0:w[e.variant])||s.value.variant[e.variant];return T(G(s.value.base,s.value.form,s.value.rounded,s.value.placeholder,s.value.size[S.value],e.padded?s.value.padding[S.value]:"p-0",r==null?void 0:r.replaceAll("{color}",g.value),!e.resize&&"resize-none"),e.textareaClass)});return{ui:s,attrs:p,name:o,inputId:m,textarea:n,textareaClass:H,onInput:u,onChange:R,onBlur:E}}}),fe=["id","value","name","rows","required","disabled","placeholder"];function ce(e,l,s,p,f,a){return v(),k("div",{class:_(e.ui.wrapper)},[Y("textarea",D({id:e.inputId,ref:"textarea",value:e.modelValue,name:e.name,rows:e.rows,required:e.required,disabled:e.disabled,placeholder:e.placeholder,class:e.textareaClass},e.attrs,{onInput:l[0]||(l[0]=(...m)=>e.onInput&&e.onInput(...m)),onBlur:l[1]||(l[1]=(...m)=>e.onBlur&&e.onBlur(...m)),onChange:l[2]||(l[2]=(...m)=>e.onChange&&e.onChange(...m))}),null,16,fe),$(e.$slots,"default")],2)}const be=q(pe,[["render",ce]]),ve=C({__name:"BtnGroup",emits:["cancel"],setup(e,{emit:l}){const s=l;return(p,f)=>{const a=ee,m=ue;return v(),I(m,{class:"mt-3",size:"md",orientation:"horizontal"},{default:i(()=>[t(a,{label:"Принять",color:"green",variant:"outline",type:"submit"}),t(a,{label:"Отмена",color:"red",variant:"outline",onClick:f[0]||(f[0]=g=>s("cancel"))})]),_:1})}}}),ke=C({__name:"ResumeForm",props:{action:{type:String,default:"create"},resume:{type:Object,default:{}}},emits:["cancel"],setup(e,{emit:l}){const s=l,p=e,f=ne(),a=B(p.resume);a.value.birthday=a.value.birthday?new Date(a.value.birthday).toISOString().slice(0,10):"";function m(){Object.assign(a.value,{surname:"",firstname:"",patronymic:"",birthday:"",birthplace:"",citizenship:"",dual:"",inn:"",snils:"",marital:"",addition:""}),s("cancel")}async function g(){f.submitResume(p.action,a.value),m()}return(S,o)=>{const d=te,n=oe,y=be,V=ve,h=re;return v(),I(h,{state:a.value,onSubmit:ae(g,["prevent"])},{default:i(()=>[t(n,{class:"mb-3",label:"Фамилия"},{default:i(()=>[t(d,{modelValue:a.value.surname,"onUpdate:modelValue":o[0]||(o[0]=u=>a.value.surname=u),modelModifiers:{trim:!0,lazy:!0},required:"",placeholder:"Фамилия"},null,8,["modelValue"])]),_:1}),t(n,{class:"mb-3",label:"Имя"},{default:i(()=>[t(d,{modelValue:a.value.firstname,"onUpdate:modelValue":o[1]||(o[1]=u=>a.value.firstname=u),modelModifiers:{trim:!0,lazy:!0},required:"",placeholder:"Имя"},null,8,["modelValue"])]),_:1}),t(n,{class:"mb-3",label:"Отчество"},{default:i(()=>[t(d,{modelValue:a.value.patronymic,"onUpdate:modelValue":o[2]||(o[2]=u=>a.value.patronymic=u),modelModifiers:{trim:!0,lazy:!0},placeholder:"Отчество"},null,8,["modelValue"])]),_:1}),t(n,{class:"mb-3",label:"Дата рождения"},{default:i(()=>[t(d,{modelValue:a.value.birthday,"onUpdate:modelValue":o[3]||(o[3]=u=>a.value.birthday=u),required:"",type:"date"},null,8,["modelValue"])]),_:1}),t(n,{class:"mb-3",label:"Место рождения"},{default:i(()=>[t(y,{modelValue:a.value.birthplace,"onUpdate:modelValue":o[4]||(o[4]=u=>a.value.birthplace=u),modelModifiers:{trim:!0,lazy:!0},placeholder:"Место рождения"},null,8,["modelValue"])]),_:1}),t(n,{class:"mb-3",label:"Гражданство"},{default:i(()=>[t(d,{modelValue:a.value.citizenship,"onUpdate:modelValue":o[5]||(o[5]=u=>a.value.citizenship=u),modelModifiers:{trim:!0,lazy:!0},placeholder:"Гражданство"},null,8,["modelValue"])]),_:1}),t(n,{class:"mb-3",label:"Двойное гражданство"},{default:i(()=>[t(d,{modelValue:a.value.dual,"onUpdate:modelValue":o[6]||(o[6]=u=>a.value.dual=u),modelModifiers:{trim:!0,lazy:!0},placeholder:"Двойное гражданство"},null,8,["modelValue"])]),_:1}),t(n,{class:"mb-3",label:"СНИЛС"},{default:i(()=>[t(d,{modelValue:a.value.snils,"onUpdate:modelValue":o[7]||(o[7]=u=>a.value.snils=u),modelModifiers:{trim:!0,lazy:!0},placeholder:"СНИЛС"},null,8,["modelValue"])]),_:1}),t(n,{class:"mb-3",label:"ИНН"},{default:i(()=>[t(d,{modelValue:a.value.inn,"onUpdate:modelValue":o[8]||(o[8]=u=>a.value.inn=u),modelModifiers:{trim:!0,lazy:!0},placeholder:"ИНН"},null,8,["modelValue"])]),_:1}),t(n,{class:"mb-3",label:"Семейное положение"},{default:i(()=>[t(y,{modelValue:a.value.marital,"onUpdate:modelValue":o[9]||(o[9]=u=>a.value.marital=u),modelModifiers:{trim:!0,lazy:!0},placeholder:"Семейное положение"},null,8,["modelValue"])]),_:1}),t(n,{class:"mb-3",label:"Дополнительно"},{default:i(()=>[t(y,{modelValue:a.value.addition,"onUpdate:modelValue":o[10]||(o[10]=u=>a.value.addition=u),modelModifiers:{trim:!0,lazy:!0},placeholder:"Дополнительно"},null,8,["modelValue"])]),_:1}),t(V,{onCancel:m})]),_:1},8,["state"])}}});export{we as _,ke as a,ve as b,be as c};
