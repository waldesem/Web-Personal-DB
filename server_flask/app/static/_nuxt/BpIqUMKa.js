import{_ as y,a as b,b as w}from"./DvJ7HPBa.js";import{_ as x}from"./Bvc2gOdP.js";import{_ as V}from"./CXniYARz.js";import{u as C}from"./BiO4k2Z1.js";import{s as D}from"./CxQq410P.js";import{a as U}from"./DMxhoATW.js";import{d as S,r as k,w as z,c as F,a as o,u as e,b as a,e as d,o as L}from"./B8dkklNN.js";import"./DuHKWUSG.js";import"./DceBsjlI.js";const $={class:"my-8"},A={class:"flex grid grid-cols-12 gap-3 mt-8"},B={class:"col-span-2"},I={class:"col-span-2"},E={class:"px-3"},N={class:"col-span-2"},O={class:"px-3"},R=S({__name:"info",async setup(G){let l,m;const u=C(),_=D(),i=new Date,t=k({region:_.value.region,start:new Date(i.getFullYear(),i.getMonth(),1).toISOString().slice(0,10),end:i.toISOString().slice(0,10),stat:[]}),{refresh:r,status:g}=([l,m]=z(async()=>U("statistics",async()=>{t.value.stat=await u("/api/information",{params:{start:t.value.start,end:t.value.end,region:t.value.region}})})),l=await l,m(),l);return(H,n)=>{const f=y,h=x,v=V,c=b,p=w;return L(),F("div",null,[o(f,{div:"py-1",header:`Информация по региону ${e(t).region.toLocaleUpperCase()} за период с ${new Date(e(t).start).toLocaleDateString()} г. по ${new Date(e(t).end).toLocaleDateString()} г.`},null,8,["header"]),a("div",$,[o(h,{loading:e(g)=="pending",progress:{color:"red",animation:"swing"},"empty-state":{icon:"i-heroicons-circle-stack-20-solid",label:"Статистика за указанный период отсутствует."},rows:e(t).stat,columns:[{key:"conclusion",label:"Решение"},{key:"count",label:"Количество"}]},null,8,["loading","rows"]),a("div",A,[a("div",B,[o(c,{class:"mb-3",size:"md",label:"Регион"},{default:d(()=>[o(v,{modelValue:e(t).region,"onUpdate:modelValue":n[0]||(n[0]=s=>e(t).region=s),disable:e(_).region!="main",options:["Главный офис","РЦ Юг","РЦ Запад","РЦ Урал","РЦ Восток"],onChange:e(r)},null,8,["modelValue","disable","onChange"])]),_:1})]),a("div",I,[a("div",E,[o(c,{size:"md",label:"Начало периода"},{default:d(()=>[o(p,{modelValue:e(t).start,"onUpdate:modelValue":n[1]||(n[1]=s=>e(t).start=s),type:"date",onChange:e(r)},null,8,["modelValue","onChange"])]),_:1})])]),a("div",N,[a("div",O,[o(c,{size:"md",label:"Конец периода"},{default:d(()=>[o(p,{modelValue:e(t).end,"onUpdate:modelValue":n[2]||(n[2]=s=>e(t).end=s),type:"date",onChange:e(r)},null,8,["modelValue","onChange"])]),_:1})])])])])])}}});export{R as default};
