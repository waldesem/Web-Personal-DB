import{_ as x,a as V}from"./BCzKcTdV.js";import{_ as w}from"./DL_9RaDu.js";import{_ as C}from"./DEq9L_XB.js";import{_ as U}from"./BRtkGdMM.js";import{d as Y,r as D,u as p,a as g,w as k,c as z,b as t,e,f as a,g as d,o as F}from"./lDZheyb0.js";import{u as M}from"./Dp_KVRGT.js";import{u as $}from"./BRI9USbw.js";import{a as A}from"./DkI-Ci4Z.js";import"./u3ZSRJSR.js";import"./CsR9_4BF.js";const B={class:"my-8"},N={class:"flex grid grid-cols-12 gap-3 mt-8"},S={class:"col-span-2"},E={class:"col-span-2"},G={class:"px-3"},H={class:"col-span-2"},I={class:"px-3"},X=Y({__name:"info",async setup(L){let l,c;const f=M(),m=$(),o=D({region:m.value.region,start:p(g(),"YYYY-MM").value+"-01",end:p(g(),"YYYY-MM-DD").value,stat:[]}),{refresh:i,status:h}=([l,c]=k(async()=>A("statistics",async()=>{const _=await f("/api/information",{params:{start:o.value.start,end:o.value.end,region:o.value.region}});o.value.stat=_})),l=await l,c(),l);return(_,s)=>{const v=x,y=w,b=C,r=U,u=V;return F(),z("div",null,[t(v,{div:"py-1",header:`Информация по региону ${e(o).region} за период с ${e(o).start} г. по ${e(o).end} г.`},null,8,["header"]),a("div",B,[t(y,{loading:e(h)=="pending",progress:{color:"red",animation:"swing"},"empty-state":{icon:"i-heroicons-circle-stack-20-solid",label:"Статистика за указанный период отсутствует."},rows:e(o).stat,columns:[{key:"conclusion",label:"Решение"},{key:"count",label:"Количество"}]},null,8,["loading","rows"]),a("div",N,[a("div",S,[t(r,{class:"mb-3",size:"md",label:"Регион"},{default:d(()=>[t(b,{modelValue:e(o).region,"onUpdate:modelValue":s[0]||(s[0]=n=>e(o).region=n),disable:e(m).region!="main",options:["Главный офис","РЦ Юг","РЦ Запад","РЦ Урал","РЦ Восток"],onChange:e(i)},null,8,["modelValue","disable","onChange"])]),_:1})]),a("div",E,[a("div",G,[t(r,{size:"md",label:"Начало периода"},{default:d(()=>[t(u,{modelValue:e(o).start,"onUpdate:modelValue":s[1]||(s[1]=n=>e(o).start=n),type:"date",onChange:e(i)},null,8,["modelValue","onChange"])]),_:1})])]),a("div",H,[a("div",I,[t(r,{size:"md",label:"Конец периода"},{default:d(()=>[t(u,{modelValue:e(o).end,"onUpdate:modelValue":s[2]||(s[2]=n=>e(o).end=n),type:"date",onChange:e(i)},null,8,["modelValue","onChange"])]),_:1})])])])])])}}});export{X as default};
