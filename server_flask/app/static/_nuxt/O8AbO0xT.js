import{u as Fe,a as Le,_ as Oe}from"./CGdE_6Xx.js";import{o as I,t as Ne,a as Ue,i as q,A as W,I as ue,s as xe,d as je,N as de,b as S,c as Be,l as Ve,_ as ze}from"./Tncofo9f.js";import{N as G,r as D,x as P,g as U,K as He,L as be,O as Ke,R as j,P as qe,m as he,k as J,_ as ye,s as _e,v as oe,y as we,z as ke,o as M,c as L,A as re,d as x,t as N,D as B,aj as Je,l as Ie,n as Me,$ as We,M as ce,ak as Ge,S as H,i as O,w as _,b as k,B as F,a as C,T as Qe,a5 as Se,C as V,F as Z,E as ee,al as Xe,e as $e,am as Ye,h as Ze,j as y,G as pe,q as et}from"./ColY3kCa.js";import{_ as tt}from"./CYc-25mK.js";import{c as De,w as Te,h as Pe,i as nt,v as at,N as fe,_ as Ce,O as lt}from"./qTLjogLR.js";import{_ as ot}from"./C5BCO_mn.js";import{_ as rt}from"./S2cXpCPZ.js";import{_ as ut}from"./B-GobVtd.js";import{_ as st}from"./DCzj-0He.js";import{a as it,b as te,u as ne}from"./CJzRKdE0.js";import"./B1xmLeBB.js";import"./NBCnFZ82.js";import"./lv1sdbr7.js";const dt={base:"inline-flex items-center justify-center text-gray-900 dark:text-white",padding:"px-1",size:{xs:"h-4 min-w-[16px] text-[10px]",sm:"h-5 min-w-[20px] text-[11px]",md:"h-6 min-w-[24px] text-[12px]"},rounded:"rounded",font:"font-medium font-sans",background:"bg-gray-100 dark:bg-gray-800",ring:"ring-1 ring-gray-300 dark:ring-gray-700 ring-inset",default:{size:"sm"}};function ct(e,r){let l;return function(...s){l&&clearTimeout(l),l=setTimeout(()=>{e.apply(this,s),l=void 0},r)}}function pt(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function ft(){return/Android/gi.test(window.navigator.userAgent)}function mt(){return pt()||ft()}function K(e,r,l){De.isServer||G(s=>{document.addEventListener(e,r,l),s(()=>document.removeEventListener(e,r,l))})}function vt(e,r,l){De.isServer||G(s=>{window.addEventListener(e,r,l),s(()=>window.removeEventListener(e,r,l))})}function gt(e,r,l=P(()=>!0)){function s(t,n){if(!l.value||t.defaultPrevented)return;let o=n(t);if(o===null||!o.getRootNode().contains(o))return;let c=function v(b){return typeof b=="function"?v(b()):Array.isArray(b)||b instanceof Set?b:[b]}(e);for(let v of c){if(v===null)continue;let b=v instanceof HTMLElement?v:I(v);if(b!=null&&b.contains(o)||t.composed&&t.composedPath().includes(b))return}return!Te(o,Pe.Loose)&&o.tabIndex!==-1&&t.preventDefault(),r(t,o)}let d=D(null);K("pointerdown",t=>{var n,o;l.value&&(d.value=((o=(n=t.composedPath)==null?void 0:n.call(t))==null?void 0:o[0])||t.target)},!0),K("mousedown",t=>{var n,o;l.value&&(d.value=((o=(n=t.composedPath)==null?void 0:n.call(t))==null?void 0:o[0])||t.target)},!0),K("click",t=>{mt()||d.value&&(s(t,()=>d.value),d.value=null)},!0),K("touchend",t=>s(t,()=>t.target instanceof HTMLElement?t.target:null),!0),vt("blur",t=>s(t,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}function me(e){return[e.screenX,e.screenY]}function bt(){let e=D([-1,-1]);return{wasMoved(r){let l=me(r);return e.value[0]===l[0]&&e.value[1]===l[1]?!1:(e.value=l,!0)},update(r){e.value=me(r)}}}function ht({container:e,accept:r,walk:l,enabled:s}){G(()=>{let d=e.value;if(!d||s!==void 0&&!s.value)return;let t=nt(e);if(!t)return;let n=Object.assign(c=>r(c),{acceptNode:r}),o=t.createTreeWalker(d,NodeFilter.SHOW_ELEMENT,n,!1);for(;o.nextNode();)l(o.currentNode)})}function yt(e){throw new Error("Unexpected object: "+e)}var T=(e=>(e[e.First=0]="First",e[e.Previous=1]="Previous",e[e.Next=2]="Next",e[e.Last=3]="Last",e[e.Specific=4]="Specific",e[e.Nothing=5]="Nothing",e))(T||{});function _t(e,r){let l=r.resolveItems();if(l.length<=0)return null;let s=r.resolveActiveIndex(),d=s??-1;switch(e.focus){case 0:{for(let t=0;t<l.length;++t)if(!r.resolveDisabled(l[t],t,l))return t;return s}case 1:{d===-1&&(d=l.length);for(let t=d-1;t>=0;--t)if(!r.resolveDisabled(l[t],t,l))return t;return s}case 2:{for(let t=d+1;t<l.length;++t)if(!r.resolveDisabled(l[t],t,l))return t;return s}case 3:{for(let t=l.length-1;t>=0;--t)if(!r.resolveDisabled(l[t],t,l))return t;return s}case 4:{for(let t=0;t<l.length;++t)if(r.resolveId(l[t],t,l)===e.id)return t;return s}case 5:return null;default:yt(e)}}let ve=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function ge(e){var r,l;let s=(r=e.innerText)!=null?r:"",d=e.cloneNode(!0);if(!(d instanceof HTMLElement))return s;let t=!1;for(let o of d.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))o.remove(),t=!0;let n=t?(l=d.innerText)!=null?l:"":s;return ve.test(n)&&(n=n.replace(ve,"")),n}function wt(e){let r=e.getAttribute("aria-label");if(typeof r=="string")return r.trim();let l=e.getAttribute("aria-labelledby");if(l){let s=l.split(" ").map(d=>{let t=document.getElementById(d);if(t){let n=t.getAttribute("aria-label");return typeof n=="string"?n.trim():ge(t).trim()}return null}).filter(Boolean);if(s.length>0)return s.join(", ")}return ge(e).trim()}function kt(e){let r=D(""),l=D("");return()=>{let s=I(e);if(!s)return"";let d=s.innerText;if(r.value===d)return l.value;let t=wt(s).trim().toLowerCase();return r.value=d,l.value=t,t}}var It=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(It||{}),Mt=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(Mt||{});function St(e){requestAnimationFrame(()=>requestAnimationFrame(e))}let Ae=Symbol("MenuContext");function Q(e){let r=qe(Ae,null);if(r===null){let l=new Error(`<${e} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(l,Q),l}return r}let $t=U({name:"Menu",props:{as:{type:[Object,String],default:"template"}},setup(e,{slots:r,attrs:l}){let s=D(1),d=D(null),t=D(null),n=D([]),o=D(""),c=D(null),v=D(1);function b(a=i=>i){let i=c.value!==null?n.value[c.value]:null,p=lt(a(n.value.slice()),f=>I(f.dataRef.domRef)),g=i?p.indexOf(i):null;return g===-1&&(g=null),{items:p,activeItemIndex:g}}let h={menuState:s,buttonRef:d,itemsRef:t,items:n,searchQuery:o,activeItemIndex:c,activationTrigger:v,closeMenu:()=>{s.value=1,c.value=null},openMenu:()=>s.value=0,goToItem(a,i,p){let g=b(),f=_t(a===T.Specific?{focus:T.Specific,id:i}:{focus:a},{resolveItems:()=>g.items,resolveActiveIndex:()=>g.activeItemIndex,resolveId:u=>u.id,resolveDisabled:u=>u.dataRef.disabled});o.value="",c.value=f,v.value=p??1,n.value=g.items},search(a){let i=o.value!==""?0:1;o.value+=a.toLowerCase();let p=(c.value!==null?n.value.slice(c.value+i).concat(n.value.slice(0,c.value+i)):n.value).find(f=>f.dataRef.textValue.startsWith(o.value)&&!f.dataRef.disabled),g=p?n.value.indexOf(p):-1;g===-1||g===c.value||(c.value=g,v.value=1)},clearSearch(){o.value=""},registerItem(a,i){let p=b(g=>[...g,{id:a,dataRef:i}]);n.value=p.items,c.value=p.activeItemIndex,v.value=1},unregisterItem(a){let i=b(p=>{let g=p.findIndex(f=>f.id===a);return g!==-1&&p.splice(g,1),p});n.value=i.items,c.value=i.activeItemIndex,v.value=1}};return gt([d,t],(a,i)=>{var p;h.closeMenu(),Te(i,Pe.Loose)||(a.preventDefault(),(p=I(d))==null||p.focus())},P(()=>s.value===0)),He(Ae,h),Ne(P(()=>Ue(s.value,{0:q.Open,1:q.Closed}))),()=>{let a={open:s.value===0,close:h.closeMenu};return W({ourProps:{},theirProps:e,slot:a,slots:r,attrs:l,name:"Menu"})}}}),Dt=U({name:"MenuButton",props:{disabled:{type:Boolean,default:!1},as:{type:[Object,String],default:"button"},id:{type:String,default:null}},setup(e,{attrs:r,slots:l,expose:s}){var d;let t=(d=e.id)!=null?d:`headlessui-menu-button-${ue()}`,n=Q("MenuButton");s({el:n.buttonRef,$el:n.buttonRef});function o(h){switch(h.key){case S.Space:case S.Enter:case S.ArrowDown:h.preventDefault(),h.stopPropagation(),n.openMenu(),j(()=>{var a;(a=I(n.itemsRef))==null||a.focus({preventScroll:!0}),n.goToItem(T.First)});break;case S.ArrowUp:h.preventDefault(),h.stopPropagation(),n.openMenu(),j(()=>{var a;(a=I(n.itemsRef))==null||a.focus({preventScroll:!0}),n.goToItem(T.Last)});break}}function c(h){switch(h.key){case S.Space:h.preventDefault();break}}function v(h){e.disabled||(n.menuState.value===0?(n.closeMenu(),j(()=>{var a;return(a=I(n.buttonRef))==null?void 0:a.focus({preventScroll:!0})})):(h.preventDefault(),n.openMenu(),St(()=>{var a;return(a=I(n.itemsRef))==null?void 0:a.focus({preventScroll:!0})})))}let b=xe(P(()=>({as:e.as,type:r.type})),n.buttonRef);return()=>{var h;let a={open:n.menuState.value===0},{...i}=e,p={ref:n.buttonRef,id:t,type:b.value,"aria-haspopup":"menu","aria-controls":(h=I(n.itemsRef))==null?void 0:h.id,"aria-expanded":n.menuState.value===0,onKeydown:o,onKeyup:c,onClick:v};return W({ourProps:p,theirProps:i,slot:a,attrs:r,slots:l,name:"MenuButton"})}}}),Tt=U({name:"MenuItems",props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},id:{type:String,default:null}},setup(e,{attrs:r,slots:l,expose:s}){var d;let t=(d=e.id)!=null?d:`headlessui-menu-items-${ue()}`,n=Q("MenuItems"),o=D(null);s({el:n.itemsRef,$el:n.itemsRef}),ht({container:P(()=>I(n.itemsRef)),enabled:P(()=>n.menuState.value===0),accept(a){return a.getAttribute("role")==="menuitem"?NodeFilter.FILTER_REJECT:a.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(a){a.setAttribute("role","none")}});function c(a){var i;switch(o.value&&clearTimeout(o.value),a.key){case S.Space:if(n.searchQuery.value!=="")return a.preventDefault(),a.stopPropagation(),n.search(a.key);case S.Enter:if(a.preventDefault(),a.stopPropagation(),n.activeItemIndex.value!==null){let p=n.items.value[n.activeItemIndex.value];(i=I(p.dataRef.domRef))==null||i.click()}n.closeMenu(),Ce(I(n.buttonRef));break;case S.ArrowDown:return a.preventDefault(),a.stopPropagation(),n.goToItem(T.Next);case S.ArrowUp:return a.preventDefault(),a.stopPropagation(),n.goToItem(T.Previous);case S.Home:case S.PageUp:return a.preventDefault(),a.stopPropagation(),n.goToItem(T.First);case S.End:case S.PageDown:return a.preventDefault(),a.stopPropagation(),n.goToItem(T.Last);case S.Escape:a.preventDefault(),a.stopPropagation(),n.closeMenu(),j(()=>{var p;return(p=I(n.buttonRef))==null?void 0:p.focus({preventScroll:!0})});break;case S.Tab:a.preventDefault(),a.stopPropagation(),n.closeMenu(),j(()=>at(I(n.buttonRef),a.shiftKey?fe.Previous:fe.Next));break;default:a.key.length===1&&(n.search(a.key),o.value=setTimeout(()=>n.clearSearch(),350));break}}function v(a){switch(a.key){case S.Space:a.preventDefault();break}}let b=je(),h=P(()=>b!==null?(b.value&q.Open)===q.Open:n.menuState.value===0);return()=>{var a,i;let p={open:n.menuState.value===0},{...g}=e,f={"aria-activedescendant":n.activeItemIndex.value===null||(a=n.items.value[n.activeItemIndex.value])==null?void 0:a.id,"aria-labelledby":(i=I(n.buttonRef))==null?void 0:i.id,id:t,onKeydown:c,onKeyup:v,role:"menu",tabIndex:0,ref:n.itemsRef};return W({ourProps:f,theirProps:g,slot:p,attrs:r,slots:l,features:de.RenderStrategy|de.Static,visible:h.value,name:"MenuItems"})}}}),Pt=U({name:"MenuItem",inheritAttrs:!1,props:{as:{type:[Object,String],default:"template"},disabled:{type:Boolean,default:!1},id:{type:String,default:null}},setup(e,{slots:r,attrs:l,expose:s}){var d;let t=(d=e.id)!=null?d:`headlessui-menu-item-${ue()}`,n=Q("MenuItem"),o=D(null);s({el:o,$el:o});let c=P(()=>n.activeItemIndex.value!==null?n.items.value[n.activeItemIndex.value].id===t:!1),v=kt(o),b=P(()=>({disabled:e.disabled,get textValue(){return v()},domRef:o}));be(()=>n.registerItem(t,b)),Ke(()=>n.unregisterItem(t)),G(()=>{n.menuState.value===0&&c.value&&n.activationTrigger.value!==0&&j(()=>{var u,w;return(w=(u=I(o))==null?void 0:u.scrollIntoView)==null?void 0:w.call(u,{block:"nearest"})})});function h(u){if(e.disabled)return u.preventDefault();n.closeMenu(),Ce(I(n.buttonRef))}function a(){if(e.disabled)return n.goToItem(T.Nothing);n.goToItem(T.Specific,t)}let i=bt();function p(u){i.update(u)}function g(u){i.wasMoved(u)&&(e.disabled||c.value||n.goToItem(T.Specific,t,0))}function f(u){i.wasMoved(u)&&(e.disabled||c.value&&n.goToItem(T.Nothing))}return()=>{let{disabled:u,...w}=e,$={active:c.value,disabled:u,close:n.closeMenu};return W({ourProps:{id:t,ref:o,role:"menuitem",tabIndex:u===!0?void 0:-1,"aria-disabled":u===!0?!0:void 0,onClick:h,onFocus:a,onPointerenter:p,onMouseenter:p,onPointermove:g,onMousemove:g,onPointerleave:f,onMouseleave:f},theirProps:{...l,...w},slot:$,attrs:l,slots:r,name:"MenuItem"})}}});const ae=he(J.ui.strategy,J.ui.kbd,dt),Ct=U({inheritAttrs:!1,props:{value:{type:String,default:null},size:{type:String,default:()=>ae.default.size,validator(e){return Object.keys(ae.size).includes(e)}},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},setup(e){const{ui:r,attrs:l}=_e("kbd",oe(e,"ui"),ae),s=P(()=>we(ke(r.value.base,r.value.size[e.size],r.value.padding,r.value.rounded,r.value.font,r.value.background,r.value.ring),e.class));return{ui:r,attrs:l,kbdClass:s}}});function At(e,r,l,s,d,t){return M(),L("kbd",B({class:e.kbdClass},e.attrs),[re(e.$slots,"default",{},()=>[x(N(e.value),1)])],16)}const Re=ye(Ct,[["render",At]]),le=he(J.ui.strategy,J.ui.dropdown,Je),Rt=U({components:{HMenu:$t,HMenuButton:Dt,HMenuItems:Tt,HMenuItem:Pt,UIcon:Ie,UAvatar:Me,UKbd:Re},inheritAttrs:!1,props:{items:{type:Array,default:()=>[]},mode:{type:String,default:"click",validator:e=>["click","hover"].includes(e)},open:{type:Boolean,default:void 0},disabled:{type:Boolean,default:!1},popper:{type:Object,default:()=>({})},openDelay:{type:Number,default:()=>le.default.openDelay},closeDelay:{type:Number,default:()=>le.default.closeDelay},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},emits:["update:open"],setup(e,{emit:r}){const{ui:l,attrs:s}=_e("dropdown",oe(e,"ui"),le,oe(e,"class")),d=P(()=>We(e.mode==="hover"?{offsetDistance:0}:{},e.popper,l.value.popper)),[t,n]=Be(d.value),o=D(null);let c=null,v=null;be(()=>{var w,$;const f=(w=t.value)==null?void 0:w.$.provides;if(!f)return;const u=Object.getOwnPropertySymbols(f);o.value=u.length&&f[u[0]],e.open&&(($=o.value)==null||$.openMenu())});const b=P(()=>{var $,A,R;if(e.mode!=="hover")return{};const f=(($=e.popper)==null?void 0:$.offsetDistance)||((A=l.value.popper)==null?void 0:A.offsetDistance)||8,u=(R=d.value.placement)==null?void 0:R.split("-")[0],w=`${f}px`;return u==="top"||u==="bottom"?{paddingTop:w,paddingBottom:w}:u==="left"||u==="right"?{paddingLeft:w,paddingRight:w}:{paddingTop:w,paddingBottom:w,paddingLeft:w,paddingRight:w}});function h(f){!f.cancelable||!o.value||(o.value.menuState===0?o.value.closeMenu():o.value.openMenu())}function a(){e.mode!=="hover"||!o.value||(v&&(clearTimeout(v),v=null),o.value.menuState!==0&&(c=c||setTimeout(()=>{o.value.openMenu&&o.value.openMenu(),c=null},e.openDelay)))}function i(){e.mode!=="hover"||!o.value||(c&&(clearTimeout(c),c=null),o.value.menuState!==1&&(v=v||setTimeout(()=>{o.value.closeMenu&&o.value.closeMenu(),v=null},e.closeDelay)))}function p(f,u,{href:w,navigate:$,close:A,isExternal:R}){u.click&&u.click(f),w&&!R&&($(f),A())}ce(()=>e.open,(f,u)=>{o.value&&(u===void 0||f===u||(f?o.value.openMenu():o.value.closeMenu()))}),ce(()=>{var f;return(f=o.value)==null?void 0:f.menuState},(f,u)=>{u===void 0||f===u||r("update:open",f===0)});const g=$e;return Ve(()=>Fe("$ctlRmIk4j0")),{ui:l,attrs:s,popper:d,trigger:t,container:n,containerStyle:b,onTouchStart:h,onMouseEnter:a,onMouseLeave:i,onClick:p,getNuxtLinkProps:Ge,twMerge:we,twJoin:ke,NuxtLink:g}}}),Et=["disabled"];function Ft(e,r,l,s,d,t){const n=H("HMenuButton"),o=Ie,c=Me,v=Re,b=H("HMenuItem"),h=$e,a=H("HMenuItems"),i=H("HMenu");return M(),O(i,B({as:"div",class:e.ui.wrapper},e.attrs,{onMouseleave:e.onMouseLeave}),{default:_(({open:p})=>[k(n,{ref:"trigger",as:"div",disabled:e.disabled,class:F(e.ui.trigger),role:"button",onMouseenter:e.onMouseEnter,onTouchstartPassive:e.onTouchStart},{default:_(()=>[re(e.$slots,"default",{open:p,disabled:e.disabled},()=>[C("button",{disabled:e.disabled}," Open ",8,Et)])]),_:2},1032,["disabled","class","onMouseenter","onTouchstartPassive"]),p&&e.items.length?(M(),L("div",{key:0,ref:"container",class:F([e.ui.container,e.ui.width]),style:Qe(e.containerStyle),onMouseenter:r[0]||(r[0]=(...g)=>e.onMouseEnter&&e.onMouseEnter(...g))},[k(Se,B({appear:""},e.ui.transition),{default:_(()=>[C("div",null,[e.popper.arrow?(M(),L("div",{key:0,"data-popper-arrow":"",class:F(Object.values(e.ui.arrow))},null,2)):V("",!0),k(a,{class:F([e.ui.base,e.ui.divide,e.ui.ring,e.ui.rounded,e.ui.shadow,e.ui.background,e.ui.height]),static:""},{default:_(()=>[(M(!0),L(Z,null,ee(e.items,(g,f)=>(M(),L("div",{key:f,class:F(e.ui.padding)},[(M(!0),L(Z,null,ee(g,(u,w)=>(M(),O(h,B({key:w,ref_for:!0},e.getNuxtLinkProps(u),{custom:""}),{default:_(({href:$,target:A,rel:R,navigate:X,isExternal:Y,isActive:m})=>[k(b,{disabled:u.disabled},{default:_(({active:E,disabled:se,close:Ee})=>[(M(),O(Xe($?"a":"button"),{href:se?void 0:$,rel:R,target:A,class:F(e.twMerge(e.twJoin(e.ui.item.base,e.ui.item.padding,e.ui.item.size,e.ui.item.rounded,E||m?e.ui.item.active:e.ui.item.inactive,se&&e.ui.item.disabled),u.class)),onClick:z=>e.onClick(z,u,{href:$,navigate:X,close:Ee,isExternal:Y})},{default:_(()=>[re(e.$slots,u.slot||"item",{item:u},()=>{var z;return[u.icon?(M(),O(o,{key:0,name:u.icon,class:F(e.twMerge(e.twJoin(e.ui.item.icon.base,E||m?e.ui.item.icon.active:e.ui.item.icon.inactive),u.iconClass))},null,8,["name","class"])):u.avatar?(M(),O(c,B({key:1,ref_for:!0},{size:e.ui.item.avatar.size,...u.avatar},{class:e.ui.item.avatar.base}),null,16,["class"])):V("",!0),C("span",{class:F(e.twMerge(e.ui.item.label,u.labelClass))},N(u.label),3),(z=u.shortcuts)!=null&&z.length?(M(),L("span",{key:2,class:F(e.ui.item.shortcuts)},[(M(!0),L(Z,null,ee(u.shortcuts,ie=>(M(),O(v,{key:ie},{default:_(()=>[x(N(ie),1)]),_:2},1024))),128))],2)):V("",!0)]})]),_:2},1032,["href","rel","target","class","onClick"]))]),_:2},1032,["disabled"])]),_:2},1040))),128))],2))),128))]),_:3},8,["class"])])]),_:3},16)],38)):V("",!0)]),_:3},16,["class","onMouseleave"])}const Lt=ye(Rt,[["render",Ft]]),Ot={class:"my-14"},Nt={class:"mb-8"},Ut={class:"flex items-center justify-between mb-4"},xt={class:"flex grid grid-cols-5 gap-3 border rounded p-3"},jt={class:"col-span-2"},Bt={class:"col-span-2"},Vt={class:"col-span-1"},nn=U({__name:"users",async setup(e){let r,l;const s=Ye(),d=it(),t=D({search:"",userId:"",region:"",role:"",users:[],form:{},collapsed:!1,viewDeleted:!1}),n=P(()=>t.value.users.filter(a=>a.deleted==t.value.viewDeleted));async function o(){const a=ne();t.value.users=await a(`${te}/users`,{params:{search:t.value.search}})}async function c(a,i=t.value.userId){if(!confirm("Подтвердите действие!"))return;await ne()(`${te}/users/${i}`,{params:{item:a}}),Object.assign(t.value,{userId:"",region:"",role:""}),await o(),s.add({icon:"i-heroicons-check-circle",title:"Информация",description:"Действие успешно выполнено",color:"green"})}async function v(){await ne()(`${te}/users`,{method:"POST",body:t.value.form}),t.value.collapsed=!1,await o(),s.add({icon:"i-heroicons-check-circle",title:"Информация",description:"Пользователь успешно добавлен",color:"green"})}const b=ct(async()=>{await o()},500),h=[[{label:"Сбросить пароль",click:()=>c("drop")}],[{label:"Заблокировать/разблокировать",click:()=>c("block")}],[{label:"Удалить/восстановить",click:()=>c("delete")}]];return[r,l]=Ze(()=>o()),await r,l(),(a,i)=>{const p=Le,g=ze,f=et,u=Oe,w=tt,$=Lt,A=ot,R=rt,X=ut,Y=st;return M(),O(Y,null,{default:_(()=>[C("div",Ot,[C("div",Nt,[k(p,{modelValue:y(t).search,"onUpdate:modelValue":i[0]||(i[0]=m=>y(t).search=m),size:"lg",placeholder:"Поиск по имени пользователя",onInput:pe(y(b),["prevent"])},null,8,["modelValue","onInput"])]),C("div",Ut,[k(g,{modelValue:y(t).viewDeleted,"onUpdate:modelValue":i[1]||(i[1]=m=>y(t).viewDeleted=m),label:"Показать удаленные"},null,8,["modelValue"]),k(f,{variant:"link",label:"Добавить пользователя",onClick:i[2]||(i[2]=m=>y(t).collapsed=!y(t).collapsed)})]),k(Se,{name:"slide-fade"},{default:_(()=>[y(t).collapsed?(M(),O(w,{key:0,state:y(t).form,onSubmit:pe(v,["prevent"])},{default:_(()=>[C("div",xt,[C("div",jt,[k(u,{required:"",class:"mb-3"},{default:_(()=>[k(p,{modelValue:y(t).form.fullname,"onUpdate:modelValue":i[3]||(i[3]=m=>y(t).form.fullname=m),placeholder:"Имя пользователя",size:"lg"},null,8,["modelValue"])]),_:1})]),C("div",Bt,[k(u,{required:"",class:"mb-3"},{default:_(()=>[k(p,{modelValue:y(t).form.username,"onUpdate:modelValue":i[4]||(i[4]=m=>y(t).form.username=m),placeholder:"Логин",size:"lg"},null,8,["modelValue"])]),_:1})]),C("div",Vt,[k(f,{block:"",variant:"outline",color:"gray",label:"Создать",type:"submit",size:"lg"})])])]),_:1},8,["state"])):V("",!0)]),_:1}),k(X,{columns:[{key:"id",label:"#"},{key:"fullname",label:"Пользователь"},{key:"username",label:"Логин"},{key:"region",label:"Регион"},{key:"role",label:"Роль"},{key:"created",label:"Создан"},{key:"attempt",label:"Попытки"},{key:"blocked",label:"Блокировка"},{key:"pswd_create",label:"Обновлено"},{key:"change_pswd",label:"Изменение"}],rows:y(n)},{"id-data":_(({row:m})=>[x(N(m.id),1)]),"fullname-data":_(({row:m})=>[x(N(m.fullname),1)]),"username-data":_(({row:m})=>[k($,{items:h},{default:_(()=>[k(f,{variant:"link",label:m.username,onClick:E=>y(t).userId=m.id},null,8,["label","onClick"])]),_:2},1024)]),"region-data":_(({row:m})=>[k(A,{modelValue:y(t).region,"onUpdate:modelValue":i[5]||(i[5]=E=>y(t).region=E),placeholder:m.region,options:Object.values(y(d).classes.value.regions),onChange:E=>c(y(t).region,m.id)},null,8,["modelValue","placeholder","options","onChange"])]),"role-data":_(({row:m})=>[k(A,{modelValue:y(t).role,"onUpdate:modelValue":i[6]||(i[6]=E=>y(t).role=E),placeholder:m.role,options:Object.values(y(d).classes.value.roles),onChange:E=>c(y(t).role,m.id)},null,8,["modelValue","placeholder","options","onChange"])]),"created-data":_(({row:m})=>[x(N(new Date(m.created).toLocaleDateString()),1)]),"blocked-data":_(({row:m})=>[k(R,{size:"2xl",color:m.blocked?"red":"green"},null,8,["color"])]),"pswd_create-data":_(({row:m})=>[x(N(new Date(m.pswd_create).toLocaleDateString()),1)]),"change_pswd-data":_(({row:m})=>[k(R,{size:"2xl",color:m.change_pswd?"red":"green"},null,8,["color"])]),_:1},8,["rows"])])]),_:1})}}});export{nn as default};
