import{$ as Be,a0 as we,a1 as je,a2 as fe,a3 as Te,a4 as _e,a5 as Le,a6 as $e,a7 as Ve,a8 as Pe,v as ee,f as M,a9 as Ne,r as D,K as Re,o as l,c as _,C as de,i as e,m as ye,j as pe,_ as ve,q as be,s as L,x as ge,y as he,aa as Ge,b as n,w as s,a as se,A as ce,B as z,z as ue,V as H,g as J,ab as We,ac as He,G as De,h as $,ad as ke,E as K,p as R,H as Ee,ae as Je,D as P,F as B,t as U,k as Ce,l as Fe,af as xe,ag as Ke,d as I,U as Xe,I as G,ah as X,n as Ye,e as Qe,P as Ze}from"./BL57t9pv.js";import{b as te,a as ne}from"./D0Q5Al_0.js";import{d as et,e as W,_ as ze}from"./BNoJJA1K.js";import{a as N}from"./Cthp-bJU.js";import{u as tt,a as oe}from"./Bv7hFFh9.js";import{_ as nt,a as ae,b as me}from"./CIkW37UV.js";import{_ as re}from"./4EjplHiU.js";import{_ as le}from"./Yo-9r0Kq.js";import{_ as ot}from"./HY00hp42.js";import{_ as at}from"./9k-p8oBl.js";const lt={base:"animate-pulse",background:"bg-gray-100 dark:bg-gray-800",rounded:"rounded-md"},st={wrapper:"relative w-full flex items-center justify-between",container:"flex items-center min-w-0",inner:"min-w-0",base:"group relative w-full flex items-center gap-1.5 px-2.5 py-3.5 rounded-md font-medium text-sm focus:outline-none focus-visible:outline-none dark:focus-visible:outline-none focus-visible:ring-inset focus-visible:ring-2 focus-visible:ring-primary-500 dark:focus-visible:ring-primary-400 disabled:cursor-not-allowed disabled:opacity-75",before:"before:absolute before:inset-x-0 before:inset-y-2 before:inset-px before:rounded-md hover:before:bg-gray-50 dark:hover:before:bg-gray-800/50",after:"after:absolute after:bottom-0 after:inset-x-2.5 after:block after:h-[2px] after:mt-2",active:"text-gray-900 dark:text-white after:bg-primary-500 dark:after:bg-primary-400 after:rounded-full",inactive:"text-gray-500 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white",label:"truncate relative",icon:{base:"flex-shrink-0 w-5 h-5 relative",active:"text-gray-700 dark:text-gray-200",inactive:"text-gray-400 dark:text-gray-500 group-hover:text-gray-700 dark:group-hover:text-gray-200"},avatar:{base:"flex-shrink-0",size:"2xs"},badge:{base:"flex-shrink-0 ml-auto relative rounded",color:"gray",variant:"solid",size:"xs"}},it={wrapper:"relative",container:"z-20 group",width:"",background:"bg-white dark:bg-gray-900",shadow:"shadow-lg",rounded:"rounded-md",ring:"ring-1 ring-gray-200 dark:ring-gray-800",base:"overflow-hidden focus:outline-none relative",transition:{enterActiveClass:"transition ease-out duration-200",enterFromClass:"opacity-0 translate-y-1",enterToClass:"opacity-100 translate-y-0",leaveActiveClass:"transition ease-in duration-150",leaveFromClass:"opacity-100 translate-y-0",leaveToClass:"opacity-0 translate-y-1"},popper:{placement:"bottom-start",scroll:!1},arrow:Be};async function rt(o,a){return await dt(a).catch(u=>(console.error("Failed to get image meta for "+a,u+""),{width:0,height:0,ratio:0}))}async function dt(o){if(typeof Image>"u")throw new TypeError("Image not supported");return new Promise((a,d)=>{const u=new Image;u.onload=()=>{const t={width:u.width,height:u.height,ratio:u.width/u.height};a(t)},u.onerror=t=>d(t),u.src=o})}function Se(o){return a=>a?o[a]||a:o.missingValue}function ct({formatter:o,keyMap:a,joinWith:d="/",valueMap:u}={}){o||(o=(i,p)=>`${i}=${p}`),a&&typeof a!="function"&&(a=Se(a));const t=u||{};return Object.keys(t).forEach(i=>{typeof t[i]!="function"&&(t[i]=Se(t[i]))}),(i={})=>Object.entries(i).filter(([f,y])=>typeof y<"u").map(([f,y])=>{const r=t[f];return typeof r=="function"&&(y=r(i[f])),f=typeof a=="function"?a(f):f,o(f,y)}).join(d)}function ie(o=""){if(typeof o=="number")return o;if(typeof o=="string"&&o.replace("px","").match(/^\d+$/g))return Number.parseInt(o,10)}function ut(o=""){if(o===void 0||!o.length)return[];const a=new Set;for(const d of o.split(" ")){const u=Number.parseInt(d.replace("x",""));u&&a.add(u)}return Array.from(a)}function pt(o){if(o.length===0)throw new Error("`densities` must not be empty, configure to `1` to render regular size only (DPR 1.0)")}function mt(o){const a={};if(typeof o=="string")for(const d of o.split(/[\s,]+/).filter(u=>u)){const u=d.split(":");u.length!==2?a["1px"]=u[0].trim():a[u[0].trim()]=u[1].trim()}else Object.assign(a,o);return a}function ft(o){const a={options:o},d=(t,i={})=>Oe(a,t,i),u=(t,i={},p={})=>d(t,{...p,modifiers:_e(i,p.modifiers||{})}).url;for(const t in o.presets)u[t]=(i,p,f)=>u(i,p,{...o.presets[t],...f});return u.options=o,u.getImage=d,u.getMeta=(t,i)=>_t(a,t,i),u.getSizes=(t,i)=>bt(a,t,i),a.$img=u,u}async function _t(o,a,d){const u=Oe(o,a,{...d});return typeof u.getMeta=="function"?await u.getMeta():await rt(o,u.url)}function Oe(o,a,d){var r,b;if(a&&typeof a!="string")throw new TypeError(`input must be a string (received ${typeof a}: ${JSON.stringify(a)})`);if(!a||a.startsWith("data:"))return{url:a};const{provider:u,defaults:t}=yt(o,d.provider||o.options.provider),i=vt(o,d.preset);if(a=we(a)?a:je(a),!u.supportsAlias){for(const v in o.options.alias)if(a.startsWith(v)){const m=o.options.alias[v];m&&(a=fe(m,a.slice(v.length)))}}if(u.validateDomains&&we(a)){const v=Te(a).host;if(!o.options.domains.find(m=>m===v))return{url:a}}const p=_e(d,i,t);p.modifiers={...p.modifiers};const f=p.modifiers.format;(r=p.modifiers)!=null&&r.width&&(p.modifiers.width=ie(p.modifiers.width)),(b=p.modifiers)!=null&&b.height&&(p.modifiers.height=ie(p.modifiers.height));const y=u.getImage(a,p,o);return y.format=y.format||f||"",y}function yt(o,a){const d=o.options.providers[a];if(!d)throw new Error("Unknown provider: "+a);return d}function vt(o,a){if(!a)return{};if(!o.options.presets[a])throw new Error("Unknown preset: "+a);return o.options.presets[a]}function bt(o,a,d){var w,h,C,g,k;const u=ie((w=d.modifiers)==null?void 0:w.width),t=ie((h=d.modifiers)==null?void 0:h.height),i=mt(d.sizes),p=(C=d.densities)!=null&&C.trim()?ut(d.densities.trim()):o.options.densities;pt(p);const f=u&&t?t/u:0,y=[],r=[];if(Object.keys(i).length>=1){for(const E in i){const q=Ue(E,String(i[E]),t,f,o);if(q!==void 0){y.push({size:q.size,screenMaxWidth:q.screenMaxWidth,media:`(max-width: ${q.screenMaxWidth}px)`});for(const F of p)r.push({width:q._cWidth*F,src:Ie(o,a,d,q,F)})}}gt(y)}else for(const E of p){const q=Object.keys(i)[0];let F=q?Ue(q,String(i[q]),t,f,o):void 0;F===void 0&&(F={size:"",screenMaxWidth:0,_cWidth:(g=d.modifiers)==null?void 0:g.width,_cHeight:(k=d.modifiers)==null?void 0:k.height}),r.push({width:E,src:Ie(o,a,d,F,E)})}ht(r);const b=r[r.length-1],v=y.length?y.map(E=>`${E.media?E.media+" ":""}${E.size}`).join(", "):void 0,m=v?"w":"x",S=r.map(E=>`${E.src} ${E.width}${m}`).join(", ");return{sizes:v,srcset:S,src:b==null?void 0:b.src}}function Ue(o,a,d,u,t){const i=t.options.screens&&t.options.screens[o]||Number.parseInt(o),p=a.endsWith("vw");if(!p&&/^\d+$/.test(a)&&(a=a+"px"),!p&&!a.endsWith("px"))return;let f=Number.parseInt(a);if(!i||!f)return;p&&(f=Math.round(f/100*i));const y=u?Math.round(f*u):d;return{size:a,screenMaxWidth:i,_cWidth:f,_cHeight:y}}function Ie(o,a,d,u,t){return o.$img(a,{...d.modifiers,width:u._cWidth?u._cWidth*t:void 0,height:u._cHeight?u._cHeight*t:void 0},d)}function gt(o){var d;o.sort((u,t)=>u.screenMaxWidth-t.screenMaxWidth);let a=null;for(let u=o.length-1;u>=0;u--){const t=o[u];t.media===a&&o.splice(u,1),a=t.media}for(let u=0;u<o.length;u++)o[u].media=((d=o[u+1])==null?void 0:d.media)||""}function ht(o){o.sort((d,u)=>d.width-u.width);let a=null;for(let d=o.length-1;d>=0;d--){const u=o[d];u.width===a&&o.splice(d,1),a=u.width}}const kt=ct({keyMap:{format:"f",fit:"fit",width:"w",height:"h",resize:"s",quality:"q",background:"b"},joinWith:"&",formatter:(o,a)=>$e(o)+"_"+$e(a)}),wt=(o,{modifiers:a={},baseURL:d}={},u)=>{a.width&&a.height&&(a.resize=`${a.width}x${a.height}`,delete a.width,delete a.height);const t=kt(a)||"_";return d||(d=fe(u.options.nuxt.baseURL,"/_ipx")),{url:fe(d,t,Le(o))}},$t=!0,St=!0,Ut=Object.freeze(Object.defineProperty({__proto__:null,getImage:wt,supportsAlias:St,validateDomains:$t},Symbol.toStringTag,{value:"Module"})),qe={screens:{xs:320,sm:640,md:768,lg:1024,xl:1280,xxl:1536,"2xl":1536},presets:{},provider:"ipxStatic",domains:[],alias:{},densities:[1,2],format:["webp"]};qe.providers={ipxStatic:{provider:Ut,defaults:{}}};const Me=()=>{const o=Pe(),a=Ve();return a.$img||a._img||(a._img=ft({...qe,nuxt:{baseURL:o.app.baseURL},runtimeConfig:o}))};function It(o){var a;(a=performance==null?void 0:performance.mark)==null||a.call(performance,"mark_feature_usage",{detail:{feature:o}})}const Vt={src:{type:String,required:!1},format:{type:String,required:!1},quality:{type:[Number,String],required:!1},background:{type:String,required:!1},fit:{type:String,required:!1},modifiers:{type:Object,required:!1},preset:{type:String,required:!1},provider:{type:String,required:!1},sizes:{type:[Object,String],required:!1},densities:{type:String,required:!1},preload:{type:[Boolean,Object],required:!1},width:{type:[String,Number],required:!1},height:{type:[String,Number],required:!1},alt:{type:String,required:!1},referrerpolicy:{type:String,required:!1},usemap:{type:String,required:!1},longdesc:{type:String,required:!1},ismap:{type:Boolean,required:!1},loading:{type:String,required:!1,validator:o=>["lazy","eager"].includes(o)},crossorigin:{type:[Boolean,String],required:!1,validator:o=>["anonymous","use-credentials","",!0,!1].includes(o)},decoding:{type:String,required:!1,validator:o=>["async","auto","sync"].includes(o)},nonce:{type:[String],required:!1}},Dt=o=>{const a=ee(()=>({provider:o.provider,preset:o.preset})),d=ee(()=>({width:ie(o.width),height:ie(o.height),alt:o.alt,referrerpolicy:o.referrerpolicy,usemap:o.usemap,longdesc:o.longdesc,ismap:o.ismap,crossorigin:o.crossorigin===!0?"anonymous":o.crossorigin||void 0,loading:o.loading,decoding:o.decoding,nonce:o.nonce})),u=Me(),t=ee(()=>({...o.modifiers,width:ie(o.width),height:ie(o.height),format:o.format,quality:o.quality||u.options.quality,background:o.background,fit:o.fit}));return{options:a,attrs:d,modifiers:t}},Et={...Vt,placeholder:{type:[Boolean,String,Number,Array],required:!1},placeholderClass:{type:String,required:!1}},Ct=["src"],Ft=M({__name:"NuxtImg",props:Et,emits:["load","error"],setup(o,{emit:a}){const d=o,u=Ne(),t=a,i=!1,p=Me(),f=Dt(d),y=D(!1),r=D(),b=ee(()=>p.getSizes(d.src,{...f.options.value,sizes:d.sizes,densities:d.densities,modifiers:{...f.modifiers.value,width:ie(d.width),height:ie(d.height)}})),v=ee(()=>{const g={...f.attrs.value,"data-nuxt-img":""};return(!d.placeholder||y.value)&&(g.sizes=b.value.sizes,g.srcset=b.value.srcset),g}),m=ee(()=>{let g=d.placeholder;if(g===""&&(g=!0),!g||y.value)return!1;if(typeof g=="string")return g;const k=Array.isArray(g)?g:typeof g=="number"?[g,g]:[10,10];return p(d.src,{...f.modifiers.value,width:k[0],height:k[1],quality:k[2]||50,blur:k[3]||3},f.options.value)}),S=ee(()=>d.sizes?b.value.src:p(d.src,f.modifiers.value,f.options.value)),w=ee(()=>m.value?m.value:S.value),C=Ve().isHydrating;return Re(()=>{if(m.value){const g=new Image;S.value&&(g.src=S.value),d.sizes&&(g.sizes=b.value.sizes||"",g.srcset=b.value.srcset),g.onload=k=>{y.value=!0,t("load",k)},It("nuxt-image");return}r.value&&(r.value.complete&&C&&(r.value.getAttribute("data-error")?t("error",new Event("error")):t("load",new Event("load"))),r.value.onload=g=>{t("load",g)},r.value.onerror=g=>{t("error",g)})}),(g,k)=>(l(),_("img",de({ref_key:"imgEl",ref:r,class:d.placeholder&&!y.value?d.placeholderClass:void 0},{...e(i)?{onerror:"this.setAttribute('data-error', 1)"}:{},...v.value,...e(u)},{src:w.value}),null,16,Ct))}}),xt=ye(pe.ui.strategy,pe.ui.contextMenu,it),zt=M({inheritAttrs:!1,props:{modelValue:{type:Boolean,default:!1},virtualElement:{type:Object,required:!0},popper:{type:Object,default:()=>({})},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},emits:["update:modelValue","close"],setup(o,{emit:a}){const{ui:d,attrs:u}=be("contextMenu",L(o,"ui"),xt),t=ee(()=>_e({},o.popper,d.value.popper)),i=ee({get(){return o.modelValue},set(r){a("update:modelValue",r)}}),p=L(o,"virtualElement"),[,f]=et(t.value,p),y=ee(()=>ge(he(d.value.container,d.value.width),o.class));return Ge(f,()=>{i.value=!1}),{ui:d,attrs:u,isOpen:i,wrapperClass:y,popper:t,container:f}}});function Ot(o,a,d,u,t,i){return o.isOpen?(l(),_("div",de({key:0,ref:"container",class:o.wrapperClass},o.attrs),[n(H,de({appear:""},o.ui.transition),{default:s(()=>[se("div",null,[o.popper.arrow?(l(),_("div",{key:0,"data-popper-arrow":"",class:ce(Object.values(o.ui.arrow))},null,2)):z("",!0),se("div",{class:ce([o.ui.base,o.ui.ring,o.ui.rounded,o.ui.shadow,o.ui.background])},[ue(o.$slots,"default")],2)])]),_:3},16)],16)):z("",!0)}const qt=ve(zt,[["render",Ot]]),Mt={class:"flex justify-left"},At={class:"p-4"},To=M({__name:"PhotoCard",props:{candId:{type:String,default:""},destination:{type:String,default:""},editable:{type:Boolean,default:!1}},async setup(o){let a,d;const u=N(),t=o,i=D(""),{refresh:p}=([a,d]=J(async()=>tt("image",async()=>{const h=await $fetch("/api/image",{params:{image:t.destination},responseType:"blob"});i.value=window.URL.createObjectURL(new Blob([h]))})),a=await a,d(),a);async function f(h){if(!h)return;const C=new FormData,g=h[0];C.append("file",g),await u("/api/file/image/"+t.candId,{method:"POST",body:C}),await p()}function y(h){var C;(C=document.getElementById(h))==null||C.click()}const{x:r,y:b}=We(),{y:v}=He(),m=D(!1),S=D({getBoundingClientRect:()=>({})});function w(){const h=e(b)-e(v),C=e(r);S.value.getBoundingClientRect=()=>({width:0,height:0,top:h,left:C}),m.value=!0}return(h,C)=>{const g=Ft,k=te,E=R,q=qt,F=W;return l(),_("div",Mt,[n(F,{ui:{body:{padding:"p-1 sm:p-1"}},onContextmenu:K(w,["prevent"])},{default:s(()=>[n(g,{src:e(i),width:"200",height:"200"},null,8,["src"]),De(n(k,{id:"image-file",type:"file",accept:"image/*",multiple:"",onChange:C[0]||(C[0]=x=>f(x))},null,512),[[Ee,!1]]),t.editable?(l(),$(q,{key:0,modelValue:e(m),"onUpdate:modelValue":C[2]||(C[2]=x=>ke(m)?m.value=x:null),"virtual-element":e(S)},{default:s(()=>[se("div",At,[n(E,{label:"Загрузить",variant:"link",onClick:C[1]||(C[1]=x=>y("image-file"))})])]),_:1},8,["modelValue","virtual-element"])):z("",!0)]),_:1})])}}}),Bt=ye(pe.ui.strategy,pe.ui.skeleton,lt),jt=M({inheritAttrs:!1,props:{as:{type:String,default:"div"},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},setup(o){const{ui:a,attrs:d}=be("skeleton",L(o,"ui"),Bt),u=ee(()=>ge(he(a.value.base,a.value.background,a.value.rounded),o.class));return{ui:a,attrs:d,skeletonClass:u}}});function Tt(o,a,d,u,t,i){return l(),$(Je(o.as),de({class:o.skeletonClass},o.attrs),null,16,["class"])}const Lt=ve(jt,[["render",Tt]]),Pt={class:"col-span-1"},Nt={class:"col-span-5"},Y=M({__name:"SkeletonDiv",props:{rows:{type:Number,default:3}},setup(o){const a=o;return(d,u)=>{const t=Lt;return l(!0),_(B,null,P(a.rows,i=>(l(),_("div",{key:i,class:"flex grid grid-cols-6 gap-3 mb-3"},[se("div",Pt,[n(t,{class:"h-4"})]),se("div",Nt,[n(t,{class:"h-4 w-[300px]"})])]))),128)}}}),Rt={class:"flex grid grid-cols-6 gap-3 mb-3"},Q=M({__name:"LabelSlot",props:{label:{type:String,default:""},labelClass:{type:String,default:"col-span-1"},inputClass:{type:String,default:"col-span-5 break-words"}},setup(o){const a=o;return(d,u)=>(l(),_("div",Rt,[se("div",{class:ce(a.labelClass)},U(a.label),3),se("div",{class:ce(a.inputClass)},[ue(d.$slots,"default")],2)]))}}),Gt=ye(pe.ui.strategy,pe.ui.horizontalNavigation,st),Wt=M({components:{UIcon:Ce,UAvatar:Fe,UBadge:ze,ULink:xe},inheritAttrs:!1,props:{links:{type:Array,default:()=>[]},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},setup(o){const{ui:a,attrs:d}=be("horizontalNavigation",L(o,"ui"),Gt,L(o,"class")),u=ee(()=>Array.isArray(o.links[0])?o.links:[o.links]);return{ui:a,attrs:d,sections:u,getULinkProps:Ke,twMerge:ge,twJoin:he}}}),Ht={key:0,class:"sr-only"};function Jt(o,a,d,u,t,i){const p=Fe,f=Ce,y=ze,r=xe;return l(),_("nav",de({class:o.ui.wrapper},o.attrs),[(l(!0),_(B,null,P(o.sections,(b,v)=>(l(),_("ul",{key:`section${v}`,class:ce(o.ui.container)},[(l(!0),_(B,null,P(b,(m,S)=>(l(),_("li",{key:`section${v}-${S}`,class:ce(o.ui.inner)},[n(r,de({ref_for:!0},o.getULinkProps(m),{class:[o.ui.base,o.ui.before,o.ui.after],"active-class":o.ui.active,"inactive-class":o.ui.inactive,onClick:m.click,onKeyup:a[0]||(a[0]=Xe(w=>w.target.blur(),["enter"]))}),{default:s(({isActive:w})=>[ue(o.$slots,"avatar",{link:m,isActive:w},()=>[m.avatar?(l(),$(p,de({key:0,ref_for:!0},{size:o.ui.avatar.size,...m.avatar},{class:[o.ui.avatar.base]}),null,16,["class"])):z("",!0)]),ue(o.$slots,"icon",{link:m,isActive:w},()=>[m.icon?(l(),$(f,{key:0,name:m.icon,class:ce(o.twMerge(o.twJoin(o.ui.icon.base,w?o.ui.icon.active:o.ui.icon.inactive),m.iconClass))},null,8,["name","class"])):z("",!0)]),ue(o.$slots,"default",{link:m,isActive:w},()=>[m.label?(l(),_("span",{key:0,class:ce(o.twMerge(o.ui.label,m.labelClass))},[w?(l(),_("span",Ht," Current page: ")):z("",!0),I(" "+U(m.label),1)],2)):z("",!0)]),ue(o.$slots,"badge",{link:m,isActive:w},()=>[m.badge?(l(),$(y,de({key:0,ref_for:!0},{size:o.ui.badge.size,color:o.ui.badge.color,variant:o.ui.badge.variant,...typeof m.badge=="string"||typeof m.badge=="number"?{label:m.badge}:m.badge},{class:o.ui.badge.base}),null,16,["class"])):z("",!0)])]),_:2},1040,["class","active-class","inactive-class","onClick"])],2))),128))],2))),128))],16)}const Kt=ve(Wt,[["render",Jt]]),Xt={key:0},Z=M({__name:"NaviHorizont",props:{navlen:{type:Number,default:3},candId:{type:String,default:""},inputId:{type:String,default:""},item:{type:String,default:""}},emits:["delete","update","upload"],setup(o,{emit:a}){const d=G(),u=N(),t=a,i=o,p=[{label:"Изменить",icon:"i-heroicons-pencil-square",click:()=>t("update")},{label:"Удалить",icon:"i-heroicons-trash",click:()=>t("delete")},{label:"Загрузить",icon:"i-heroicons-cloud-arrow-up",slot:"upload",click:()=>{var y;return(y=document.getElementById(i.inputId))==null?void 0:y.click()}}];async function f(y){const r=new FormData;if(y){for(const b of y)r.append("file",b);await u(`/api/file/${i.item}/${i.candId}`,{method:"POST",body:r}),d.add({icon:"i-heroicons-check-circle",title:"Информация",description:"Файлы успешно загружены",color:"green"})}r.delete("file")}return(y,r)=>{const b=Kt,v=te;return l(),_(B,null,[n(b,{links:p.slice(0,i.navlen)},null,8,["links"]),o.navlen==3?(l(),_("div",Xt,[De(n(v,{id:i.inputId,type:"file",accept:"*",multiple:"",onChange:r[0]||(r[0]=m=>f(m))},null,8,["id"]),[[Ee,!1]])])):z("",!0)],64)}}}),Yt={key:0},Qt={key:1},Zt={key:1},Lo=M({__name:"ResumeDiv",props:{editable:{type:Boolean,default:!1},candId:{type:String,default:""},person:{type:Object,default:{}}},emits:["update"],setup(o,{emit:a}){const d=a,u=G(),t=N(),i=o,p=D(!1),f=D(""),y=D(!1);async function r(){confirm("Вы действительно хотите изменить регион?")&&(await t(`/api/region/${i.candId}`,{params:{region:f.value}}),d("update"),u.add({icon:"i-heroicons-check-circle",title:"Информация",description:"Изменение региона успешно",color:"green"}))}async function b(){await t("/api/folder/"+i.candId)}async function v(w){y.value=!0,p.value=!1,await t("/api/persons/"+i.candId,{method:"POST",body:w}),u.add({icon:"i-heroicons-check-circle",title:"Успешно",description:"Информация обновлена",color:"green"}),y.value=!1,d("update")}async function m(){confirm("Вы действительно хотите удалить запись?")&&(await t(`/api/persons/${i.candId}`,{method:"DELETE"}),u.add({icon:"i-heroicons-information-circle",title:"Информация",description:`Запись с ID ${i.candId} удалена`,color:"primary"}),Ye("/persons"))}function S(){p.value=!1,d("update")}return(w,h)=>{const C=nt,g=Y,k=re,E=Q,q=R,F=Z,x=W;return l(),$(x,null,X({default:s(()=>[e(p)?(l(),_("div",Yt,[n(C,{resume:i.person,onCancel:S,onUpdate:v},null,8,["resume"])])):(l(),_("div",Qt,[e(y)?(l(),$(g,{key:0,rows:14})):(l(),_("div",Zt,[n(E,{label:"Регион"},{default:s(()=>[n(k,{modelValue:e(f),"onUpdate:modelValue":h[0]||(h[0]=O=>ke(f)?f.value=O:null),style:{width:"20%"},options:["Главный офис","РЦ Юг","РЦ Запад","РЦ Урал","РЦ Восток"],disabled:!i.editable,placeholder:i.person.region,onChange:r},null,8,["modelValue","disabled","placeholder"])]),_:1}),n(E,{label:"Фамилия"},{default:s(()=>[I(U(i.person.surname),1)]),_:1}),n(E,{label:"Имя"},{default:s(()=>[I(U(i.person.firstname),1)]),_:1}),n(E,{label:"Отчество"},{default:s(()=>[I(U(i.person.patronymic),1)]),_:1}),n(E,{label:"Дата рождения"},{default:s(()=>[I(U(new Date(String(i.person.birthday)).toLocaleDateString("ru-RU")),1)]),_:1}),n(E,{label:"Место рождения"},{default:s(()=>[I(U(i.person.birthplace),1)]),_:1}),n(E,{label:"Гражданство"},{default:s(()=>[I(U(i.person.citizenship),1)]),_:1}),i.person.dual?(l(),$(E,{key:0,label:"Двойное гражданство"},{default:s(()=>[I(U(i.person.dual),1)]),_:1})):z("",!0),n(E,{label:"СНИЛС"},{default:s(()=>[I(U(i.person.snils),1)]),_:1}),n(E,{label:"ИНН"},{default:s(()=>[I(U(i.person.inn),1)]),_:1}),n(E,{label:"Семейное положение"},{default:s(()=>[I(U(i.person.marital),1)]),_:1}),n(E,{label:"Дата записи"},{default:s(()=>[I(U(i.person.created?new Date(i.person.created+" UTC").toLocaleString("ru-RU"):""),1)]),_:1}),n(E,{label:"Пользователь"},{default:s(()=>[I(U(i.person.username?i.person.username:""),1)]),_:1}),i.person.addition?(l(),$(E,{key:1,label:"Дополнительная информация"},{default:s(()=>[I(U(i.person.addition),1)]),_:1})):z("",!0),n(E,{label:"Материалы"},{default:s(()=>[n(q,{label:i.person.destination,variant:"link",onClick:b},null,8,["label"])]),_:1})]))]))]),_:2},[i.editable&&!e(p)?{name:"footer",fn:s(()=>[n(F,{"cand-id":i.candId,"input-id":"resume-file",item:"persons",onDelete:m,onUpdate:h[1]||(h[1]=O=>p.value=!0)},null,8,["cand-id"])]),key:"0"}:void 0]),1024)}}}),en=M({__name:"StaffForm",props:{staff:{type:Object,default:{}},candId:{type:String,default:""}},emits:["cancel","update"],setup(o,{emit:a}){const d=a,t=L(o.staff);function i(){d("update",t.value),f()}function p(){d("cancel"),f()}function f(){Object.assign(t.value,{position:"",department:""})}return(y,r)=>{const b=te,v=ne,m=ae,S=le;return l(),$(S,{state:e(t),onSubmit:K(i,["prevent"])},{default:s(()=>[n(v,{class:"mb-3",label:"Должность"},{default:s(()=>[n(b,{modelValue:e(t).position,"onUpdate:modelValue":r[0]||(r[0]=w=>e(t).position=w),modelModifiers:{trim:!0,lazy:!0},required:"",placeholder:"Должность"},null,8,["modelValue"])]),_:1}),n(v,{class:"mb-3",label:"Подразделение"},{default:s(()=>[n(b,{modelValue:e(t).department,"onUpdate:modelValue":r[1]||(r[1]=w=>e(t).department=w),modelModifiers:{trim:!0,lazy:!0},placeholder:"Подразделение"},null,8,["modelValue"])]),_:1}),n(m,{onCancel:p})]),_:1},8,["state"])}}}),tn={key:0,class:"py-3"},nn={key:1},on={key:1},an={key:2,class:"p-3"},ln={key:1,class:"text-primary"},Po=M({__name:"StaffDiv",props:{candId:{type:String,default:""},editable:{type:Boolean,default:!1}},async setup(o){let a,d;const u=N(),t=G(),i=o,p=D(!1),f=D(!1),y=D(!1),r=D(""),b=D({}),{data:v,refresh:m,status:S}=([a,d]=J(async()=>oe("staffs",async()=>await u("/api/staffs/"+i.candId))),a=await a,d(),a);async function w(k){f.value=!0,g(),await u("/api/staffs/"+i.candId,{method:"POST",body:k}),t.add({icon:"i-heroicons-check-circle",title:"Успешно",description:"Информация обновлена",color:"green"}),f.value=!1,m()}async function h(k){g(),confirm("Вы действительно хотите удалить запись?")&&(await u("/api/staffs/"+k,{method:"DELETE"}),t.add({icon:"i-heroicons-information-circle",title:"Информация",description:`Запись с ID ${k} удалена`,color:"primary"}),m())}function C(){g(),m()}function g(){y.value=!1,r.value="",p.value=!1}return(k,E)=>{const q=R,F=en,x=W,O=Y,V=Q,j=Z;return l(),_(B,null,[i.editable?(l(),$(q,{key:0,label:e(p)?"Скрыть форму":"Добавить запись",variant:"link",onClick:E[0]||(E[0]=c=>p.value=!e(p))},null,8,["label"])):z("",!0),n(H,{name:"slide-fade"},{default:s(()=>[e(p)?(l(),_("div",tn,[n(x,null,{default:s(()=>[n(F,{"cand-id":i.candId,onCancel:C,onUpdate:w},null,8,["cand-id"])]),_:1})])):z("",!0)]),_:1}),e(v)&&e(v).length?(l(),_("div",nn,[(l(!0),_(B,null,P(e(v),(c,A)=>(l(),_("div",{key:A,class:"p-1"},[e(S)=="pending"||e(f)?(l(),$(O,{key:0,rows:2})):(l(),$(x,{key:1},X({default:s(()=>[e(y)&&e(r)==c.id.toString()?(l(),$(F,{key:0,"cand-id":i.candId,staff:e(b),onCancel:C,onUpdate:w},null,8,["cand-id","staff"])):(l(),_("div",on,[n(V,{label:"Должность"},{default:s(()=>[I(U(c.position),1)]),_:2},1024),n(V,{label:"Департамент"},{default:s(()=>[I(U(c.department),1)]),_:2},1024)]))]),_:2},[i.editable&&(!e(y)||e(r)!=c.id.toString())?{name:"footer",fn:s(()=>[n(j,{navlen:2,onDelete:T=>h(c.id),onUpdate:T=>{b.value=c,r.value=c.id.toString(),y.value=!0}},null,8,["onDelete","onUpdate"])]),key:"0"}:void 0]),1024))]))),128))])):(l(),_("div",an,[e(S)=="pending"||e(f)?(l(),$(O,{key:0,rows:2})):(l(),_("p",ln,"Данные о должностях отсутствуют"))]))],64)}}}),sn=M({__name:"EducationForm",props:{education:{type:Object,default:{}},candId:{type:String,default:""}},emits:["cancel","update"],setup(o,{emit:a}){const d=a,t=L(o.education);function i(){d("update",t.value),f()}function p(){d("cancel"),f()}function f(){Object.assign(t.value,{view:"",institution:"",finished:"",specialty:""})}return(y,r)=>{const b=re,v=ne,m=te,S=ae,w=le;return l(),$(w,{state:e(t),onSubmit:K(i,["prevent"])},{default:s(()=>[n(v,{class:"mb-3",label:"Вид образования"},{default:s(()=>[n(b,{modelValue:e(t).view,"onUpdate:modelValue":r[0]||(r[0]=h=>e(t).view=h),required:"",options:["Основное общее","Среднее общее","Среднее профессиональное","Высшее","Неоконченное высшее образование","Другое образование"]},null,8,["modelValue"])]),_:1}),n(v,{class:"mb-3",label:"Название учебного заведения"},{default:s(()=>[n(m,{modelValue:e(t).institution,"onUpdate:modelValue":r[1]||(r[1]=h=>e(t).institution=h),modelModifiers:{trim:!0,lazy:!0},required:"",placeholder:"Название учебного заведения"},null,8,["modelValue"])]),_:1}),n(v,{class:"mb-3",label:"Год окончания"},{default:s(()=>[n(m,{modelValue:e(t).finished,"onUpdate:modelValue":r[2]||(r[2]=h=>e(t).finished=h),modelModifiers:{trim:!0,lazy:!0},placeholder:"Год окончания"},null,8,["modelValue"])]),_:1}),n(v,{class:"mb-3",label:"Специальность"},{default:s(()=>[n(m,{modelValue:e(t).specialty,"onUpdate:modelValue":r[3]||(r[3]=h=>e(t).specialty=h),modelModifiers:{trim:!0,lazy:!0},placeholder:"Специальность"},null,8,["modelValue"])]),_:1}),n(S,{onCancel:p})]),_:1},8,["state"])}}}),rn={key:0,class:"py-3"},dn={key:1},cn={key:1},un={key:2,class:"p-3"},pn={key:1,class:"text-primary"},No=M({__name:"EducateDiv",props:{candId:{type:String,default:""},editable:{type:Boolean,default:!1}},async setup(o){let a,d;const u=N(),t=G(),i=o,p=D(!1),f=D(!1),y=D(""),r=D(!1),b=D({}),{data:v,refresh:m,status:S}=([a,d]=J(async()=>oe("educations",async()=>await u("/api/educations/"+i.candId))),a=await a,d(),a);async function w(k){f.value=!0,g(),await u("/api/educations/"+i.candId,{method:"POST",body:k}),t.add({icon:"i-heroicons-check-circle",title:"Успешно",description:"Информация обновлена",color:"green"}),f.value=!1,m()}async function h(k){g(),confirm("Вы действительно хотите удалить запись?")&&(await u("/api/educations/"+k,{method:"DELETE"}),t.add({icon:"i-heroicons-information-circle",title:"Информация",description:`Запись с ID ${k} удалена`,color:"primary"}),m())}async function C(){g(),m()}function g(){r.value=!1,y.value="",p.value=!1}return(k,E)=>{const q=R,F=sn,x=W,O=Y,V=Q,j=Z;return l(),_(B,null,[i.editable?(l(),$(q,{key:0,label:e(p)?"Скрыть форму":"Добавить запись",variant:"link",onClick:E[0]||(E[0]=c=>p.value=!e(p))},null,8,["label"])):z("",!0),n(H,{name:"slide-fade"},{default:s(()=>[e(p)?(l(),_("div",rn,[n(x,null,{default:s(()=>[n(F,{"cand-id":i.candId,onCancel:C,onUpdate:w},null,8,["cand-id"])]),_:1})])):z("",!0)]),_:1}),e(v)&&e(v).length?(l(),_("div",dn,[(l(!0),_(B,null,P(e(v),(c,A)=>(l(),_("div",{key:A,class:"p-1"},[e(S)=="pending"||e(f)?(l(),$(O,{key:0,rows:8})):(l(),$(x,{key:1},X({default:s(()=>[e(r)&&e(y)==c.id.toString()?(l(),$(F,{key:0,"cand-id":i.candId,education:e(b),onCancel:C,onUpdate:w},null,8,["cand-id","education"])):(l(),_("div",cn,[n(V,{label:"Уровень образования"},{default:s(()=>[I(U(c.view),1)]),_:2},1024),n(V,{label:"Название учебного заведения"},{default:s(()=>[I(U(c.institution),1)]),_:2},1024),n(V,{label:"Год окончания"},{default:s(()=>[I(U(c.finished),1)]),_:2},1024),n(V,{label:"Специальность"},{default:s(()=>[I(U(c.specialty),1)]),_:2},1024)]))]),_:2},[i.editable&&(!e(r)||e(y)!=c.id.toString())?{name:"footer",fn:s(()=>[n(j,{navlen:2,onDelete:T=>h(c.id),onUpdate:T=>{b.value=c,y.value=c.id.toString(),r.value=!0}},null,8,["onDelete","onUpdate"])]),key:"0"}:void 0]),1024))]))),128))])):(l(),_("div",un,[e(S)=="pending"||e(f)?(l(),$(O,{key:0,rows:8})):(l(),_("p",pn,"Данные отсутствуют"))]))],64)}}}),mn=M({__name:"WorkplaceForm",props:{work:{type:Object,default:{}},candId:{type:String,default:""}},emits:["cancel","update"],setup(o,{emit:a}){const d=a,t=L(o.work);t.value.starts=t.value.starts?new Date(t.value.starts).toISOString().slice(0,10):"",t.value.finished=t.value.finished?new Date(t.value.finished).toISOString().slice(0,10):"";function i(){d("update",t.value),f()}function p(){d("cancel"),f()}function f(){Object.assign(t.value,{now_work:!1,starts:"",finished:"",workplace:"",position:"",addresses:"",reason:""})}return(y,r)=>{const b=ot,v=ne,m=te,S=ae,w=le;return l(),$(w,{state:e(t),onSubmit:K(i,["prevent"])},{default:s(()=>[n(v,{class:"mb-3",label:"Текущая работа"},{default:s(()=>[n(b,{modelValue:e(t).now_work,"onUpdate:modelValue":r[0]||(r[0]=h=>e(t).now_work=h)},null,8,["modelValue"])]),_:1}),n(v,{class:"mb-3",label:"Начало работы"},{default:s(()=>[n(m,{modelValue:e(t).starts,"onUpdate:modelValue":r[1]||(r[1]=h=>e(t).starts=h),required:"",placeholder:"Начало работы",type:"date"},null,8,["modelValue"])]),_:1}),n(v,{class:"mb-3",label:"Окончание работы"},{default:s(()=>[n(m,{modelValue:e(t).finished,"onUpdate:modelValue":r[2]||(r[2]=h=>e(t).finished=h),required:"",placeholder:"Окончание работы",type:"date"},null,8,["modelValue"])]),_:1}),n(v,{class:"mb-3",label:"Место работы"},{default:s(()=>[n(m,{modelValue:e(t).workplace,"onUpdate:modelValue":r[3]||(r[3]=h=>e(t).workplace=h),modelModifiers:{trim:!0,lazy:!0},required:"",placeholder:"Место работы"},null,8,["modelValue"])]),_:1}),n(v,{class:"mb-3",label:"Должность"},{default:s(()=>[n(m,{modelValue:e(t).position,"onUpdate:modelValue":r[4]||(r[4]=h=>e(t).position=h),modelModifiers:{trim:!0,lazy:!0},required:"",placeholder:"Должность"},null,8,["modelValue"])]),_:1}),n(v,{class:"mb-3",label:"Адрес организации"},{default:s(()=>[n(m,{modelValue:e(t).addresses,"onUpdate:modelValue":r[5]||(r[5]=h=>e(t).addresses=h),modelModifiers:{trim:!0,lazy:!0},placeholder:"Адрес организации"},null,8,["modelValue"])]),_:1}),n(v,{class:"mb-3",label:"Причина увольнения"},{default:s(()=>[n(m,{modelValue:e(t).reason,"onUpdate:modelValue":r[6]||(r[6]=h=>e(t).reason=h),modelModifiers:{trim:!0,lazy:!0},placeholder:"Причина увольнения"},null,8,["modelValue"])]),_:1}),n(S,{onCancel:p})]),_:1},8,["state"])}}}),fn={key:0,class:"py-3"},_n={key:1},yn={key:1},vn={key:2,class:"p-3"},bn={key:1,class:"text-primary"},Ro=M({__name:"WorkDiv",props:{candId:{type:String,default:""},editable:{type:Boolean,default:!1}},async setup(o){let a,d;const u=N(),t=G(),i=o,p=D(!1),f=D(!1),y=D(!1),r=D(""),b=D({}),{data:v,refresh:m,status:S}=([a,d]=J(async()=>oe("workplaces",async()=>await u("/api/workplaces/"+i.candId))),a=await a,d(),a);async function w(k){f.value=!1,g(),await u("/api/workplaces/"+i.candId,{method:"POST",body:k}),t.add({icon:"i-heroicons-check-circle",title:"Успешно",description:"Информация обновлена",color:"green"}),f.value=!1,m()}async function h(k){g(),confirm("Вы действительно хотите удалить запись?")&&(await u("/api/workplaces/"+k,{method:"DELETE"}),t.add({icon:"i-heroicons-information-circle",title:"Информация",description:`Запись с ID ${k} удалена`,color:"primary"}),m())}async function C(){g(),m()}function g(){y.value=!1,r.value="",p.value=!1}return(k,E)=>{const q=R,F=mn,x=W,O=Y,V=Q,j=Z;return l(),_(B,null,[i.editable?(l(),$(q,{key:0,label:e(p)?"Скрыть форму":"Добавить запись",variant:"link",onClick:E[0]||(E[0]=c=>p.value=!e(p))},null,8,["label"])):z("",!0),n(H,{name:"slide-fade"},{default:s(()=>[e(p)?(l(),_("div",fn,[n(x,null,{default:s(()=>[n(F,{"cand-id":i.candId,onCancel:C,onUpdate:w},null,8,["cand-id"])]),_:1})])):z("",!0)]),_:1}),e(v)&&e(v).length?(l(),_("div",_n,[(l(!0),_(B,null,P(e(v),(c,A)=>(l(),_("div",{key:A,class:"p-1"},[e(S)=="pending"||e(f)?(l(),$(O,{key:0,rows:8})):(l(),$(x,{key:1},X({default:s(()=>[e(y)&&e(r)==c.id.toString()?(l(),$(F,{key:0,"cand-id":i.candId,work:e(b),onCancel:C,onUpdate:w},null,8,["cand-id","work"])):(l(),_("div",yn,[c.now_work?(l(),$(V,{key:0,label:"Текущая работа"},{default:s(()=>[I(U(c.now_work?"Да":"Нет"),1)]),_:2},1024)):z("",!0),n(V,{label:"Начало работы"},{default:s(()=>[I(U(new Date(c.starts).toLocaleDateString("ru-RU")),1)]),_:2},1024),c.now_work?z("",!0):(l(),$(V,{key:1,label:"Окончание работы"},{default:s(()=>[I(U(new Date(c.finished).toLocaleDateString("ru-RU")),1)]),_:2},1024)),n(V,{label:"Место работы"},{default:s(()=>[I(U(c.workplace),1)]),_:2},1024),n(V,{label:"Адрес"},{default:s(()=>[I(U(c.addresses),1)]),_:2},1024),n(V,{label:"Должность"},{default:s(()=>[I(U(c.position),1)]),_:2},1024),c.reason?(l(),$(V,{key:2,label:"Причина увольнения"},{default:s(()=>[I(U(c.reason),1)]),_:2},1024)):z("",!0)]))]),_:2},[i.editable&&(!e(y)||e(r)!=c.id.toString())?{name:"footer",fn:s(()=>[n(j,{navlen:2,onDelete:T=>h(c.id),onUpdate:T=>{b.value=c,r.value=c.id.toString(),y.value=!0}},null,8,["onDelete","onUpdate"])]),key:"0"}:void 0]),1024))]))),128))])):(l(),_("div",vn,[e(S)=="pending"||e(f)?(l(),$(O,{key:0,rows:8})):(l(),_("p",bn,"Данные о работе отсутствуют"))]))],64)}}}),gn=M({__name:"DocumentForm",props:{docs:{type:Object,default:{}},candId:{type:String,default:""}},emits:["cancel","update"],setup(o,{emit:a}){const d=a,t=L(o.docs);t.value.issue=t.value.issue?new Date(t.value.issue).toISOString().slice(0,10):"";function i(){d("update",t.value),f()}function p(){d("cancel"),f()}function f(){Object.assign(t.value,{view:"",series:"",digits:"",agency:"",issue:""})}return(y,r)=>{const b=re,v=ne,m=te,S=ae,w=le;return l(),$(w,{state:e(t),onSubmit:K(i,["prevent"])},{default:s(()=>[n(v,{class:"mb-3",label:"Вид документа"},{default:s(()=>[n(b,{modelValue:e(t).view,"onUpdate:modelValue":r[0]||(r[0]=h=>e(t).view=h),required:"",options:["Паспорт","Иностарнный паспорт","Другое"]},null,8,["modelValue"])]),_:1}),n(v,{class:"mb-3",label:"Серия документа"},{default:s(()=>[n(m,{modelValue:e(t).series,"onUpdate:modelValue":r[1]||(r[1]=h=>e(t).series=h),modelModifiers:{trim:!0,lazy:!0},placeholder:"Серия документа"},null,8,["modelValue"])]),_:1}),n(v,{class:"mb-3",label:"Номер документа"},{default:s(()=>[n(m,{modelValue:e(t).digits,"onUpdate:modelValue":r[2]||(r[2]=h=>e(t).digits=h),modelModifiers:{trim:!0,lazy:!0},required:"",placeholder:"Номер документа"},null,8,["modelValue"])]),_:1}),n(v,{class:"mb-3",label:"Кем выдан"},{default:s(()=>[n(m,{modelValue:e(t).agency,"onUpdate:modelValue":r[3]||(r[3]=h=>e(t).agency=h),modelModifiers:{trim:!0},placeholder:"Кем выдан"},null,8,["modelValue"])]),_:1}),n(v,{class:"mb-3",label:"Дата выдачи"},{default:s(()=>[n(m,{modelValue:e(t).issue,"onUpdate:modelValue":r[4]||(r[4]=h=>e(t).issue=h),modelModifiers:{trim:!0,lazy:!0},required:"",type:"date"},null,8,["modelValue"])]),_:1}),n(S,{onCancel:p})]),_:1},8,["state"])}}}),hn={key:0,class:"py-3"},kn={key:1},wn={key:1},$n={key:2,class:"p-3"},Sn={key:1,class:"text-primary"},Go=M({__name:"DocumDiv",props:{candId:{type:String,default:""},editable:{type:Boolean,default:!1}},async setup(o){let a,d;const u=N(),t=G(),i=o,p=D(!1),f=D(!1),y=D(""),r=D(!1),b=D({}),{data:v,refresh:m,status:S}=([a,d]=J(async()=>oe("documents",async()=>await u("/api/documents/"+i.candId))),a=await a,d(),a);async function w(k){f.value=!0,g(),await u("/api/documents/"+i.candId,{method:"POST",body:k}),t.add({icon:"i-heroicons-check-circle",title:"Успешно",description:"Информация обновлена",color:"green"}),f.value=!1,m()}async function h(k){g(),confirm("Вы действительно хотите удалить запись?")&&(await u("/api/documents/"+k,{method:"DELETE"}),t.add({icon:"i-heroicons-information-circle",title:"Информация",description:`Запись с ID ${k} удалена`,color:"primary"}),m())}async function C(){g(),m()}function g(){r.value=!1,y.value="",p.value=!1}return(k,E)=>{const q=R,F=gn,x=W,O=Y,V=Q,j=Z;return l(),_(B,null,[i.editable?(l(),$(q,{key:0,label:e(p)?"Скрыть форму":"Добавить запись",variant:"link",onClick:E[0]||(E[0]=c=>p.value=!e(p))},null,8,["label"])):z("",!0),n(H,{name:"slide-fade"},{default:s(()=>[e(p)?(l(),_("div",hn,[n(x,null,{default:s(()=>[n(F,{"cand-id":i.candId,onCancel:C,onUpdate:w},null,8,["cand-id"])]),_:1})])):z("",!0)]),_:1}),e(v)&&e(v).length?(l(),_("div",kn,[(l(!0),_(B,null,P(e(v),(c,A)=>(l(),_("div",{key:A,class:"p-1"},[e(S)=="pending"||e(f)?(l(),$(O,{key:0,rows:8})):(l(),$(x,{key:1},X({default:s(()=>[e(r)&&e(y)==c.id.toString()?(l(),$(F,{key:0,"cand-id":i.candId,docs:e(b),onCancel:C,onUpdate:w},null,8,["cand-id","docs"])):(l(),_("div",wn,[n(V,{label:"Вид документа"},{default:s(()=>[I(U(c.view),1)]),_:2},1024),n(V,{label:"Номер документа"},{default:s(()=>[I(U(c.digits),1)]),_:2},1024),n(V,{label:"Серия документа"},{default:s(()=>[I(U(c.series),1)]),_:2},1024),n(V,{label:"Дата выдачи"},{default:s(()=>[I(U(c.issue?new Date(String(c.issue)).toLocaleDateString("ru-RU"):""),1)]),_:2},1024),n(V,{label:"Кем выдан"},{default:s(()=>[I(U(c.agency),1)]),_:2},1024)]))]),_:2},[i.editable&&(!e(r)||e(y)!=c.id.toString())?{name:"footer",fn:s(()=>[n(j,{navlen:2,onDelete:T=>h(c.id),onUpdate:T=>{b.value=c,y.value=c.id.toString(),r.value=!0}},null,8,["onDelete","onUpdate"])]),key:"0"}:void 0]),1024))]))),128))])):(l(),_("div",$n,[e(S)=="pending"||e(f)?(l(),$(O,{key:0,rows:8})):(l(),_("p",Sn,"Данные отсутствуют"))]))],64)}}}),Un=M({__name:"AddressForm",props:{addrs:{type:Object,default:{}},candId:{type:String,default:""}},emits:["cancel","update"],setup(o,{emit:a}){const d=a,t=L(o.addrs);function i(){d("update",t.value),f()}function p(){d("cancel"),f()}function f(){Object.assign(t.value,{view:"",addresses:""})}return(y,r)=>{const b=re,v=ne,m=te,S=ae,w=le;return l(),$(w,{state:e(t),onSubmit:K(i,["prevent"])},{default:s(()=>[n(v,{class:"mb-3",label:"Вид адреса"},{default:s(()=>[n(b,{modelValue:e(t).view,"onUpdate:modelValue":r[0]||(r[0]=h=>e(t).view=h),modelModifiers:{trim:!0,lazy:!0},required:"",options:["Адрес регистрации","Адрес проживания","Другое"]},null,8,["modelValue"])]),_:1}),n(v,{class:"mb-3",label:"Адрес"},{default:s(()=>[n(m,{modelValue:e(t).addresses,"onUpdate:modelValue":r[1]||(r[1]=h=>e(t).addresses=h),modelModifiers:{trim:!0,lazy:!0},required:"",placeholder:"Адрес"},null,8,["modelValue"])]),_:1}),n(S,{onCancel:p})]),_:1},8,["state"])}}}),In={key:0,class:"p-1"},Vn={key:1},Dn={key:1},En={key:2,class:"p-3"},Cn={key:1,class:"text-primary"},Wo=M({__name:"AddressDiv",props:{candId:{type:String,default:""},editable:{type:Boolean,default:!1}},async setup(o){let a,d;const u=N(),t=G(),i=o,p=D(!1),f=D(!1),y=D(!1),r=D(""),b=D({}),{data:v,refresh:m,status:S}=([a,d]=J(async()=>oe("addresses",async()=>await u("/api/addresses/"+i.candId))),a=await a,d(),a);async function w(k){f.value=!0,g(),await u("/api/addresses/"+i.candId,{method:"POST",body:k}),t.add({icon:"i-heroicons-check-circle",title:"Успешно",description:"Информация обновлена",color:"green"}),f.value=!1,m()}async function h(k){g(),confirm("Вы действительно хотите удалить запись?")&&(await u("/api/addresses/"+k,{method:"DELETE"}),t.add({icon:"i-heroicons-information-circle",title:"Информация",description:`Запись с ID ${k} удалена`,color:"primary"}),m())}async function C(){g(),m()}function g(){y.value=!1,p.value=!1,r.value=""}return(k,E)=>{const q=R,F=Un,x=W,O=Y,V=Q,j=Z;return l(),_(B,null,[i.editable?(l(),$(q,{key:0,label:e(p)?"Скрыть форму":"Добавить запись",variant:"link",onClick:E[0]||(E[0]=c=>p.value=!e(p))},null,8,["label"])):z("",!0),n(H,{name:"slide-fade"},{default:s(()=>[e(p)?(l(),_("div",In,[n(x,null,{default:s(()=>[n(F,{"cand-id":i.candId,onCancel:C,onUpdate:w},null,8,["cand-id"])]),_:1})])):z("",!0)]),_:1}),e(v)&&e(v).length?(l(),_("div",Vn,[(l(!0),_(B,null,P(e(v),(c,A)=>(l(),_("div",{key:A,class:"py-3"},[e(S)=="pending"||e(f)?(l(),$(O,{key:0,rows:8})):(l(),$(x,{key:1},X({default:s(()=>[e(y)&&e(r)==c.id.toString()?(l(),$(F,{key:0,"cand-id":i.candId,addrs:e(b),onCancel:C,onUpdate:w},null,8,["cand-id","addrs"])):(l(),_("div",Dn,[n(V,{label:"Тип"},{default:s(()=>[I(U(c.view),1)]),_:2},1024),n(V,{label:"Адрес"},{default:s(()=>[I(U(c.addresses),1)]),_:2},1024)]))]),_:2},[i.editable&&(!e(y)||e(r)!=c.id.toString())?{name:"footer",fn:s(()=>[n(j,{navlen:2,onDelete:T=>h(c.id),onUpdate:T=>{b.value=c,r.value=c.id.toString(),y.value=!0}},null,8,["onDelete","onUpdate"])]),key:"0"}:void 0]),1024))]))),128))])):(l(),_("div",En,[e(S)=="pending"||e(f)?(l(),$(O,{key:0,rows:8})):(l(),_("p",Cn,"Адреса отсутствуют"))]))],64)}}}),Fn=M({__name:"ContactForm",props:{contact:{type:Object,default:{}},candId:{type:String,default:""}},emits:["cancel","update"],setup(o,{emit:a}){const d=a,t=L(o.contact);function i(){d("update",t.value),f()}function p(){d("cancel"),f()}function f(){Object.assign(t.value,{view:"",contact:""})}return(y,r)=>{const b=re,v=ne,m=te,S=ae,w=le;return l(),$(w,{state:e(t),onSubmit:K(i,["prevent"])},{default:s(()=>[n(v,{class:"mb-3",label:"Вид контакта"},{default:s(()=>[n(b,{modelValue:e(t).view,"onUpdate:modelValue":r[0]||(r[0]=h=>e(t).view=h),modelModifiers:{trim:!0,lazy:!0},required:"",options:["Телефон","Электронная почта","Другое"]},null,8,["modelValue"])]),_:1}),n(v,{class:"mb-3",label:"Контакт"},{default:s(()=>[n(m,{modelValue:e(t).contact,"onUpdate:modelValue":r[1]||(r[1]=h=>e(t).contact=h),modelModifiers:{trim:!0,lazy:!0},required:"",placeholder:"Контакт"},null,8,["modelValue"])]),_:1}),n(S,{onCancel:p})]),_:1},8,["state"])}}}),xn={key:0,class:"py-3"},zn={key:1},On={key:1},qn={key:2,class:"p-3"},Mn={key:1,class:"text-primary"},Ho=M({__name:"ContactDiv",props:{candId:{type:String,default:""},editable:{type:Boolean,default:!1}},async setup(o){let a,d;const u=N(),t=G(),i=o,p=D(!1),f=D(!1),y=D(""),r=D(!1),b=D({}),{data:v,refresh:m,status:S}=([a,d]=J(async()=>oe("contacts",async()=>await u("/api/contacts/"+i.candId))),a=await a,d(),a);async function w(k){f.value=!0,g(),await u("/api/contacts/"+i.candId,{method:"POST",body:k}),t.add({icon:"i-heroicons-check-circle",title:"Успешно",description:"Информация обновлена",color:"green"}),f.value=!1,m()}async function h(k){g(),confirm("Вы действительно хотите удалить запись?")&&(await u("/api/contacts/"+k,{method:"DELETE"}),t.add({icon:"i-heroicons-information-circle",title:"Информация",description:`Запись с ID ${k} удалена`,color:"primary"}),m())}async function C(){g(),m()}function g(){r.value=!1,y.value="",p.value=!1}return(k,E)=>{const q=R,F=Fn,x=W,O=Y,V=Q,j=Z;return l(),_(B,null,[i.editable?(l(),$(q,{key:0,label:e(p)?"Скрыть форму":"Добавить запись",variant:"link",onClick:E[0]||(E[0]=c=>p.value=!e(p))},null,8,["label"])):z("",!0),n(H,{name:"slide-fade"},{default:s(()=>[e(p)?(l(),_("div",xn,[n(x,null,{default:s(()=>[n(F,{"cand-id":i.candId,onCancel:C,onUpdate:w},null,8,["cand-id"])]),_:1})])):z("",!0)]),_:1}),e(v)&&e(v).length?(l(),_("div",zn,[(l(!0),_(B,null,P(e(v),(c,A)=>(l(),_("div",{key:A,class:"p-1"},[e(S)=="pending"||e(f)?(l(),$(O,{key:0,rows:8})):(l(),$(x,{key:1},X({default:s(()=>[e(r)&&e(y)==c.id.toString()?(l(),$(F,{key:0,"cand-id":i.candId,contact:e(b),onCancel:C,onUpdate:w},null,8,["cand-id","contact"])):(l(),_("div",On,[n(V,{label:"Вид"},{default:s(()=>[I(U(c.view),1)]),_:2},1024),n(V,{label:"Контакт"},{default:s(()=>[I(U(c.contact),1)]),_:2},1024)]))]),_:2},[i.editable&&(!e(r)||e(y)!=c.id.toString())?{name:"footer",fn:s(()=>[n(j,{navlen:2,onDelete:T=>h(c.id),onUpdate:T=>{b.value=c,y.value=c.id.toString(),r.value=!0}},null,8,["onDelete","onUpdate"])]),key:"0"}:void 0]),1024))]))),128))])):(l(),_("div",qn,[e(S)=="pending"||e(f)?(l(),$(O,{key:0,rows:2})):(l(),_("p",Mn,"Данные отсутствуют"))]))],64)}}}),An=M({__name:"AffilationForm",props:{affils:{type:Object,default:{}},candId:{type:String,default:""}},emits:["cancel","update"],setup(o,{emit:a}){const d=a,t=L(o.affils);function i(){d("update",t.value),f()}function p(){d("cancel"),f()}function f(){Object.assign(t.value,{view:"",organization:"",inn:""})}return(y,r)=>{const b=re,v=ne,m=te,S=ae,w=le;return l(),$(w,{state:e(t),onSubmit:K(i,["prevent"])},{default:s(()=>[n(v,{class:"mb-3",label:"Тип участия"},{default:s(()=>[n(b,{modelValue:e(t).view,"onUpdate:modelValue":r[0]||(r[0]=h=>e(t).view=h),modelModifiers:{trim:!0,lazy:!0},required:"",options:["Являлся государственным/муниципальным служащим","Являлся государственным должностным лицом","Связанные лица работают в государственных организациях","Участвует в деятельности коммерческих организаций"]},null,8,["modelValue"])]),_:1}),n(v,{class:"mb-3",label:"Организация"},{default:s(()=>[n(m,{modelValue:e(t).organization,"onUpdate:modelValue":r[1]||(r[1]=h=>e(t).organization=h),modelModifiers:{trim:!0,lazy:!0},required:"",placeholder:"Организация"},null,8,["modelValue"])]),_:1}),n(v,{class:"mb-3",label:"ИНН"},{default:s(()=>[n(m,{modelValue:e(t).inn,"onUpdate:modelValue":r[2]||(r[2]=h=>e(t).inn=h),modelModifiers:{trim:!0,lazy:!0},placeholder:"ИНН"},null,8,["modelValue"])]),_:1}),n(S,{onCancel:p})]),_:1},8,["state"])}}}),Bn={key:0,class:"py-3"},jn={key:1},Tn={key:1},Ln={key:2,class:"p-3"},Pn={key:1,class:"text-primary"},Jo=M({__name:"AffilDiv",props:{candId:{type:String,default:""},editable:{type:Boolean,default:!1}},async setup(o){let a,d;const u=N(),t=G(),i=o,p=D(!1),f=D(!1),y=D(!1),r=D(""),b=D({}),{data:v,refresh:m,status:S}=([a,d]=J(async()=>oe("affilations",async()=>await u("/api/affilations/"+i.candId))),a=await a,d(),a);async function w(k){f.value=!0,g(),await u("/api/affilations/"+i.candId,{method:"POST",body:k}),t.add({icon:"i-heroicons-check-circle",title:"Успешно",description:"Информация обновлена",color:"green"}),f.value=!1,m()}async function h(k){g(),confirm("Вы действительно хотите удалить запись?")&&(await u("/api/affilations/"+k,{method:"DELETE"}),t.add({icon:"i-heroicons-information-circle",title:"Информация",description:`Запись с ID ${k} удалена`,color:"primary"}),m())}async function C(){g(),m()}function g(){y.value=!1,r.value="",p.value=!1}return(k,E)=>{const q=R,F=An,x=W,O=Y,V=Q,j=Z;return l(),_(B,null,[i.editable?(l(),$(q,{key:0,label:e(p)?"Скрыть форму":"Добавить запись",variant:"link",onClick:E[0]||(E[0]=c=>p.value=!e(p))},null,8,["label"])):z("",!0),n(H,{name:"slide-fade"},{default:s(()=>[e(p)?(l(),_("div",Bn,[n(x,null,{default:s(()=>[n(F,{"cand-id":i.candId,onCancel:C,onUpdate:w},null,8,["cand-id"])]),_:1})])):z("",!0)]),_:1}),e(v)&&e(v).length?(l(),_("div",jn,[(l(!0),_(B,null,P(e(v),(c,A)=>(l(),_("div",{key:A,class:"p-1"},[e(S)=="pending"||e(f)?(l(),$(O,{key:0,rows:8})):(l(),$(x,{key:1},X({default:s(()=>[e(y)&&e(r)==c.id.toString()?(l(),$(F,{key:0,"cand-id":i.candId,affils:e(b),onCancel:C,onUpdate:w},null,8,["cand-id","affils"])):(l(),_("div",Tn,[n(V,{label:"Тип участия"},{default:s(()=>[I(U(c.view),1)]),_:2},1024),n(V,{label:"Организация"},{default:s(()=>[I(U(c.organization),1)]),_:2},1024),n(V,{label:"ИНН"},{default:s(()=>[I(U(c.inn),1)]),_:2},1024)]))]),_:2},[i.editable&&(!e(y)||e(r)!=c.id.toString())?{name:"footer",fn:s(()=>[n(j,{navlen:2,onDelete:T=>h(c.id),onUpdate:T=>{b.value=c,r.value=c.id.toString(),y.value=!0}},null,8,["onDelete","onUpdate"])]),key:"0"}:void 0]),1024))]))),128))])):(l(),_("div",Ln,[e(S)=="pending"||e(f)?(l(),$(O,{key:0,rows:8})):(l(),_("p",Pn,"Данные отсутствуют"))]))],64)}}}),Nn=M({__name:"PreviousForm",props:{previous:{type:Object,default:{}},candId:{type:String,default:""}},emits:["cancel","update"],setup(o,{emit:a}){const d=a,t=L(o.previous);function i(){d("update",t.value),f()}function p(){d("cancel"),f()}function f(){Object.assign(t.value,{surname:"",firstname:"",patronymic:"",changed:"",reason:""})}return(y,r)=>{const b=te,v=ne,m=ae,S=le;return l(),$(S,{state:e(t),onSubmit:K(i,["prevent"])},{default:s(()=>[n(v,{class:"mb-3",label:"Фамилия"},{default:s(()=>[n(b,{modelValue:e(t).surname,"onUpdate:modelValue":r[0]||(r[0]=w=>e(t).surname=w),modelModifiers:{trim:!0,lazy:!0},required:"",placeholder:"Фамилия"},null,8,["modelValue"])]),_:1}),n(v,{class:"mb-3",label:"Имя"},{default:s(()=>[n(b,{modelValue:e(t).firstname,"onUpdate:modelValue":r[1]||(r[1]=w=>e(t).firstname=w),modelModifiers:{trim:!0,lazy:!0},required:"",placeholder:"Имя"},null,8,["modelValue"])]),_:1}),n(v,{class:"mb-3",label:"Отчество"},{default:s(()=>[n(b,{modelValue:e(t).patronymic,"onUpdate:modelValue":r[2]||(r[2]=w=>e(t).patronymic=w),modelModifiers:{trim:!0,lazy:!0},placeholder:"Отчество"},null,8,["modelValue"])]),_:1}),n(v,{class:"mb-3",label:"Год изменения"},{default:s(()=>[n(b,{modelValue:e(t).changed,"onUpdate:modelValue":r[3]||(r[3]=w=>e(t).changed=w),modelModifiers:{trim:!0,lazy:!0},placeholder:"Год изменения"},null,8,["modelValue"])]),_:1}),n(v,{class:"mb-3",label:"Причина изменения"},{default:s(()=>[n(b,{modelValue:e(t).reason,"onUpdate:modelValue":r[4]||(r[4]=w=>e(t).reason=w),modelModifiers:{trim:!0,lazy:!0},placeholder:"Причина изменения"},null,8,["modelValue"])]),_:1}),n(m,{onCancel:p})]),_:1},8,["state"])}}}),Rn={key:0,class:"py-3"},Gn={key:1},Wn={key:1},Hn={key:2,class:"p-3"},Jn={key:1,class:"text-primary"},Ko=M({__name:"PrevDiv",props:{candId:{type:String,default:""},editable:{type:Boolean,default:!1}},async setup(o){let a,d;const u=N(),t=G(),i=o,p=D(!1),f=D(!1),y=D(!1),r=D(""),b=D({}),{data:v,refresh:m,status:S}=([a,d]=J(async()=>oe("previous",async()=>await u("/api/previous/"+i.candId))),a=await a,d(),a);async function w(k){f.value=!0,g(),await u("/api/previous/"+i.candId,{method:"POST",body:k}),t.add({icon:"i-heroicons-check-circle",title:"Успешно",description:"Информация обновлена",color:"green"}),f.value=!1,m()}async function h(k){g(),confirm("Вы действительно хотите удалить запись?")&&(await u("/api/previous/"+k,{method:"DELETE"}),t.add({icon:"i-heroicons-information-circle",title:"Информация",description:`Запись с ID ${k} удалена`,color:"primary"}),m())}async function C(){g(),m()}function g(){y.value=!1,r.value="",p.value=!1}return(k,E)=>{const q=R,F=Nn,x=W,O=Y,V=Q,j=Z;return l(),_(B,null,[i.editable?(l(),$(q,{key:0,label:e(p)?"Скрыть форму":"Добавить запись",variant:"link",onClick:E[0]||(E[0]=c=>p.value=!e(p))},null,8,["label"])):z("",!0),n(H,{name:"slide-fade"},{default:s(()=>[e(p)?(l(),_("div",Rn,[n(x,null,{default:s(()=>[n(F,{"cand-id":i.candId,onCancel:C,onUpdate:w},null,8,["cand-id"])]),_:1})])):z("",!0)]),_:1}),e(v)&&e(v).length?(l(),_("div",Gn,[(l(!0),_(B,null,P(e(v),(c,A)=>(l(),_("div",{key:A,class:"p-1"},[e(S)=="pending"||e(f)?(l(),$(O,{key:0,rows:4})):(l(),$(x,{key:1},X({default:s(()=>[e(y)&&e(r)==c.id.toString()?(l(),$(F,{key:0,"cand-id":i.candId,previous:e(b),onCancel:C,onUpdate:w},null,8,["cand-id","previous"])):(l(),_("div",Wn,[n(V,{label:"Фамилия"},{default:s(()=>[I(U(c.surname),1)]),_:2},1024),n(V,{label:"Имя"},{default:s(()=>[I(U(c.firstname),1)]),_:2},1024),c.patronymic?(l(),$(V,{key:0,label:"Отчество"},{default:s(()=>[I(U(c.patronymic),1)]),_:2},1024)):z("",!0),c.changed?(l(),$(V,{key:1,label:"Год изменения"},{default:s(()=>[I(U(c.changed),1)]),_:2},1024)):z("",!0),c.reason?(l(),$(V,{key:2,label:"Причина"},{default:s(()=>[I(U(c.reason),1)]),_:2},1024)):z("",!0)]))]),_:2},[i.editable&&(!e(y)||e(r)!=c.id.toString())?{name:"footer",fn:s(()=>[n(j,{navlen:2,onDelete:T=>h(c.id.toString()),onUpdate:T=>{b.value=c,r.value=c.id.toString(),y.value=!0}},null,8,["onDelete","onUpdate"])]),key:"0"}:void 0]),1024))]))),128))])):(l(),_("div",Hn,[e(S)=="pending"||e(f)?(l(),$(O,{key:0,rows:4})):(l(),_("p",Jn,"Данные отсутствуют"))]))],64)}}}),Kn=M({__name:"RelationForm",props:{relation:{type:Object,default:{}},candId:{type:String,default:""}},emits:["cancel","update"],setup(o,{emit:a}){const d=a,t=L(o.relation);async function i(){d("update",t.value),f()}function p(){d("cancel"),f()}function f(){Object.assign(t.value,{relation:"",relation_id:""})}return(y,r)=>{const b=re,v=ne,m=te,S=ae,w=le;return l(),$(w,{state:e(t),onSubmit:K(i,["prevent"])},{default:s(()=>[n(v,{class:"mb-3",label:"Тип связи"},{default:s(()=>[n(b,{modelValue:e(t).relation,"onUpdate:modelValue":r[0]||(r[0]=h=>e(t).relation=h),modelModifiers:{trim:!0,lazy:!0},required:"",options:["Одно лицо","Родители-Дети","Братья-Сестры","Супруг-Супруга","Родственники","Близкая связь"]},null,8,["modelValue"])]),_:1}),n(v,{class:"mb-3",label:"ID связи"},{default:s(()=>[n(m,{modelValue:e(t).relation_id,"onUpdate:modelValue":r[1]||(r[1]=h=>e(t).relation_id=h),modelModifiers:{trim:!0,lazy:!0},required:"",type:"number"},null,8,["modelValue"])]),_:1}),n(S,{onCancel:p})]),_:1},8,["state"])}}}),Xn={key:0,class:"py-3"},Yn={key:1},Qn={key:1},Zn={key:2,class:"p-3"},eo={key:1,class:"text-primary"},Xo=M({__name:"RelateDiv",props:{candId:{type:String,default:""},editable:{type:Boolean,default:!1}},async setup(o){let a,d;const u=N(),t=G(),i=o,p=D(!1),f=D(!1),y=D(!1),r=D(""),b=D({}),{data:v,refresh:m,status:S}=([a,d]=J(async()=>oe("relations",async()=>await u("/api/relations/"+i.candId))),a=await a,d(),a);async function w(k){f.value=!0,g(),await u("/api/relations/"+i.candId,{method:"POST",body:k}),t.add({icon:"i-heroicons-check-circle",title:"Успешно",description:"Информация обновлена",color:"green"}),f.value=!1,m()}async function h(k){g(),confirm("Вы действительно хотите удалить запись?")&&(await u("/api/relations/"+k,{method:"DELETE"}),t.add({icon:"i-heroicons-information-circle",title:"Информация",description:`Запись с ID ${k} удалена`,color:"primary"}),m())}async function C(){g(),m()}function g(){y.value=!1,r.value="",p.value=!1}return(k,E)=>{const q=R,F=Kn,x=W,O=Y,V=Q,j=Qe,c=Z;return l(),_(B,null,[i.editable?(l(),$(q,{key:0,label:e(p)?"Скрыть форму":"Добавить запись",variant:"link",onClick:E[0]||(E[0]=A=>p.value=!e(p))},null,8,["label"])):z("",!0),n(H,{name:"slide-fade"},{default:s(()=>[e(p)?(l(),_("div",Xn,[n(x,null,{default:s(()=>[n(F,{"cand-id":i.candId,onCancel:C,onUpdate:w},null,8,["cand-id"])]),_:1})])):z("",!0)]),_:1}),e(v)&&e(v).length?(l(),_("div",Yn,[(l(!0),_(B,null,P(e(v),(A,T)=>(l(),_("div",{key:T,class:"p-1"},[e(S)=="pending"||e(f)?(l(),$(O,{key:0,rows:2})):(l(),$(x,{key:1},X({default:s(()=>[e(y)&&e(r)==A.id.toString()?(l(),$(F,{key:0,"cand-id":i.candId,relation:e(b),onCancel:C,onUpdate:w},null,8,["cand-id","relation"])):(l(),_("div",Qn,[n(V,{label:"Тип"},{default:s(()=>[I(U(A.relation),1)]),_:2},1024),n(V,{label:"Связь"},{default:s(()=>[n(j,{to:`/profile/${A.relation_id}`},{default:s(()=>[I(" ID #"+U(A.relation_id),1)]),_:2},1032,["to"])]),_:2},1024)]))]),_:2},[i.editable&&(!e(y)||e(r)!=A.id.toString())?{name:"footer",fn:s(()=>[n(c,{navlen:2,onDelete:Ae=>h(A.id.toString()),onUpdate:Ae=>{b.value=A,r.value=A.id.toString(),y.value=!0}},null,8,["onDelete","onUpdate"])]),key:"0"}:void 0]),1024))]))),128))])):(l(),_("div",Zn,[e(S)=="pending"||e(f)?(l(),$(O,{key:0,rows:2})):(l(),_("p",eo,"Данные отсутствуют"))]))],64)}}}),to=M({__name:"CheckForm",props:{check:{type:Object,default:{}},candId:{type:String,default:""}},emits:["cancel","update"],setup(o,{emit:a}){const d=a,t=L(o.check),i=D(!1);function p(){d("update",t.value),y()}function f(){d("cancel"),y()}function y(){i.value=!1,Object.keys(t.value).forEach(r=>{t.value[r]=""})}return Ze(i,()=>{i.value&&Object.assign(t.value,{workplace:"Негатив по местам работы не выявлен",document:"Среди недействительных документов не значится",inn:"ИНН соответствует",debt:"Задолженности не обнаружены",bankruptcy:"Решений о признании банкротом не имеется",bki:"Кредитная история положительная",courts:"Судебные дела не обнаружены",affilation:"Аффилированность не выявлена",terrorist:"В списке террористов не обнаружен",mvd:"В розыск не объявлен",internet:"В открытых источниках негатив не обнаружен",cronos:"В Кронос негатив не выявлен"})}),(r,b)=>{const v=at,m=ne,S=me,w=re,h=ae,C=le;return l(),_(B,null,[n(m,{state:e(i),class:"mb-3",label:"Негатива нет"},{default:s(()=>[n(v,{modelValue:e(i),"onUpdate:modelValue":b[0]||(b[0]=g=>ke(i)?i.value=g:null)},null,8,["modelValue"])]),_:1},8,["state"]),n(C,{state:e(t),onSubmit:K(p,["prevent"])},{default:s(()=>[n(m,{class:"mb-3",label:"Проверка по местам работы"},{default:s(()=>[n(S,{modelValue:e(t).workplace,"onUpdate:modelValue":b[1]||(b[1]=g=>e(t).workplace=g),modelModifiers:{trim:!0,lazy:!0},placeholder:"Проверка по местам работы"},null,8,["modelValue"])]),_:1}),n(m,{class:"mb-3",label:"Проверка документов"},{default:s(()=>[n(S,{modelValue:e(t).document,"onUpdate:modelValue":b[2]||(b[2]=g=>e(t).document=g),modelModifiers:{trim:!0,lazy:!0},placeholder:"Проверка документов"},null,8,["modelValue"])]),_:1}),n(m,{class:"mb-3",label:"Проверка ИНН"},{default:s(()=>[n(S,{modelValue:e(t).inn,"onUpdate:modelValue":b[3]||(b[3]=g=>e(t).inn=g),modelModifiers:{trim:!0,lazy:!0},placeholder:"Проверка ИНН"},null,8,["modelValue"])]),_:1}),n(m,{class:"mb-3",label:"Проверка задолженностей"},{default:s(()=>[n(S,{modelValue:e(t).debt,"onUpdate:modelValue":b[4]||(b[4]=g=>e(t).debt=g),modelModifiers:{trim:!0,lazy:!0},placeholder:"Проверка задолженностей"},null,8,["modelValue"])]),_:1}),n(m,{class:"mb-3",label:"Проверка банкротства"},{default:s(()=>[n(S,{modelValue:e(t).bankruptcy,"onUpdate:modelValue":b[5]||(b[5]=g=>e(t).bankruptcy=g),modelModifiers:{trim:!0,lazy:!0},placeholder:"Проверка банкротства"},null,8,["modelValue"])]),_:1}),n(m,{class:"mb-3",label:"Проверка Кредитной истории"},{default:s(()=>[n(S,{modelValue:e(t).bki,"onUpdate:modelValue":b[6]||(b[6]=g=>e(t).bki=g),modelModifiers:{trim:!0,lazy:!0},placeholder:"Проверка Кредитной истории"},null,8,["modelValue"])]),_:1}),n(m,{class:"mb-3",label:"Проверка судебных дел"},{default:s(()=>[n(S,{modelValue:e(t).courts,"onUpdate:modelValue":b[7]||(b[7]=g=>e(t).courts=g),modelModifiers:{trim:!0,lazy:!0},placeholder:"Проверка судебных дел"},null,8,["modelValue"])]),_:1}),n(m,{class:"mb-3",label:"Проверка аффилированности"},{default:s(()=>[n(S,{modelValue:e(t).affilation,"onUpdate:modelValue":b[8]||(b[8]=g=>e(t).affilation=g),modelModifiers:{trim:!0,lazy:!0},placeholder:"Проверка аффилированности"},null,8,["modelValue"])]),_:1}),n(m,{class:"mb-3",label:"Проверка в списке террористов"},{default:s(()=>[n(S,{modelValue:e(t).terrorist,"onUpdate:modelValue":b[9]||(b[9]=g=>e(t).terrorist=g),modelModifiers:{trim:!0,lazy:!0},placeholder:"Проверка в списке террористов"},null,8,["modelValue"])]),_:1}),n(m,{class:"mb-3",label:"Проверка в розыск"},{default:s(()=>[n(S,{modelValue:e(t).mvd,"onUpdate:modelValue":b[10]||(b[10]=g=>e(t).mvd=g),modelModifiers:{trim:!0,lazy:!0},placeholder:"Проверка в розыск"},null,8,["modelValue"])]),_:1}),n(m,{class:"mb-3",label:"Проверка в открытых источниках"},{default:s(()=>[n(S,{modelValue:e(t).internet,"onUpdate:modelValue":b[11]||(b[11]=g=>e(t).internet=g),modelModifiers:{trim:!0,lazy:!0},placeholder:"Проверка в открытых источниках"},null,8,["modelValue"])]),_:1}),n(m,{class:"mb-3",label:"Проверка в Кронос"},{default:s(()=>[n(S,{modelValue:e(t).cronos,"onUpdate:modelValue":b[12]||(b[12]=g=>e(t).cronos=g),modelModifiers:{trim:!0,lazy:!0},placeholder:"Проверка в Кронос/Крос"},null,8,["modelValue"])]),_:1}),n(m,{class:"mb-3",label:"Дополнительная информация"},{default:s(()=>[n(S,{modelValue:e(t).addition,"onUpdate:modelValue":b[13]||(b[13]=g=>e(t).addition=g),modelModifiers:{trim:!0,lazy:!0},placeholder:"Дополнительная информация"},null,8,["modelValue"])]),_:1}),n(m,{class:"mb-3",label:"Комментарии"},{default:s(()=>[n(S,{modelValue:e(t).comment,"onUpdate:modelValue":b[14]||(b[14]=g=>e(t).comment=g),modelModifiers:{trim:!0,lazy:!0},placeholder:"Комментарии"},null,8,["modelValue"])]),_:1}),n(m,{class:"mb-3",label:"Результат"},{default:s(()=>[n(w,{modelValue:e(t).conclusion,"onUpdate:modelValue":b[15]||(b[15]=g=>e(t).conclusion=g),modelModifiers:{trim:!0,lazy:!0},required:"",options:["СОГЛАСОВАНО","СОГЛАСОВАНО С КОММЕНТАРИЕМ","ОТКАЗАНО В СОГЛАСОВАНИИ"]},null,8,["modelValue"])]),_:1}),n(h,{onCancel:f})]),_:1},8,["state"])],64)}}}),no={key:0,class:"py-3"},oo={key:1},ao={class:"tex-base text-red-800 dark:text-gray-400 font-medium"},lo={key:1},so={key:2,class:"p-3"},io={key:1,class:"text-red-800"},Yo=M({__name:"CheckTab",props:{candId:{type:String,default:""},editable:{type:Boolean,default:!1}},async setup(o){let a,d;const u=N(),t=G(),i=o,p=D(!1),f=D(!1),y=D(!1),r=D(""),b=D({}),{data:v,refresh:m,status:S}=([a,d]=J(async()=>oe("checks",async()=>await u(`/api/checks/${i.candId}`))),a=await a,d(),a);async function w(k){f.value=!0,g(),await u("/api/checks/"+i.candId,{method:"POST",body:k}),t.add({icon:"i-heroicons-check-circle",title:"Успешно",description:"Информация обновлена",color:"green"}),f.value=!1,m()}async function h(k){g(),confirm("Вы действительно хотите удалить запись?")&&(await u(`/api/checks/${k}`,{method:"DELETE"}),t.add({icon:"i-heroicons-information-circle",title:"Информация",description:`Запись с ID ${k} удалена`,color:"primary"}),m())}async function C(){g(),m()}function g(){p.value=!1,r.value="",y.value=!1}return(k,E)=>{const q=R,F=to,x=W,O=Y,V=Q,j=Z;return l(),_(B,null,[i.editable?(l(),$(q,{key:0,class:"py-3",label:e(y)?"Скрыть форму":"Добавить запись",variant:"link",onClick:E[0]||(E[0]=c=>y.value=!e(y))},null,8,["label"])):z("",!0),n(H,{name:"slide-fade"},{default:s(()=>[e(y)?(l(),_("div",no,[n(x,null,{default:s(()=>[n(F,{"cand-id":i.candId,onUpdate:w,onCancel:C},null,8,["cand-id"])]),_:1})])):z("",!0)]),_:1}),e(v)&&e(v).length?(l(),_("div",oo,[(l(!0),_(B,null,P(e(v),(c,A)=>(l(),_("div",{key:A,class:"text-sm text-gray-500 dark:text-gray-400 py-1"},[e(S)=="pending"||e(f)?(l(),$(O,{key:0,rows:18})):z("",!0),n(x,null,X({header:s(()=>[se("div",ao,U("Проверка кандидата ID #"+c.id),1)]),default:s(()=>[e(p)&&e(r)==c.id.toString()?(l(),$(F,{key:0,"cand-id":i.candId,check:c,onCancel:C,onUpdate:w},null,8,["cand-id","check"])):(l(),_("div",lo,[n(V,{label:"Проверка по местам работы"},{default:s(()=>[I(U(c.workplace),1)]),_:2},1024),n(V,{label:"Проверка паспорта"},{default:s(()=>[I(U(c.document),1)]),_:2},1024),n(V,{label:"Проверка ИНН"},{default:s(()=>[I(U(c.inn),1)]),_:2},1024),n(V,{label:"Проверка ФССП"},{default:s(()=>[I(U(c.debt),1)]),_:2},1024),n(V,{label:"Проверка банкротства"},{default:s(()=>[I(U(c.bankruptcy),1)]),_:2},1024),n(V,{label:"Проверка БКИ"},{default:s(()=>[I(U(c.bki),1)]),_:2},1024),n(V,{label:"Проверка судебных решений"},{default:s(()=>[I(U(c.courts),1)]),_:2},1024),n(V,{label:"Проверка аффилированности"},{default:s(()=>[I(U(c.affilation),1)]),_:2},1024),n(V,{label:"Проверка по списку террористов"},{default:s(()=>[I(U(c.terrorist),1)]),_:2},1024),n(V,{label:"Проверка в розыск"},{default:s(()=>[I(U(c.mvd),1)]),_:2},1024),n(V,{label:"Проверка в открытых источниках"},{default:s(()=>[I(U(c.internet),1)]),_:2},1024),n(V,{label:"Проверка в Кронос"},{default:s(()=>[I(U(c.cronos),1)]),_:2},1024),n(V,{label:"Дополнительная информация"},{default:s(()=>[I(U(c.addition),1)]),_:2},1024),n(V,{label:"Комментарии"},{default:s(()=>[I(U(c.comment),1)]),_:2},1024),n(V,{label:"Результат"},{default:s(()=>[I(U(c.conclusion),1)]),_:2},1024),n(V,{label:"Сотрудник"},{default:s(()=>[I(U(c.username),1)]),_:2},1024),n(V,{label:"Дата записи"},{default:s(()=>[I(U(new Date(c.created+" UTC").toLocaleString("ru-RU")),1)]),_:2},1024)]))]),_:2},[i.editable&&(!e(p)||e(r)!=c.id.toString())?{name:"footer",fn:s(()=>[n(j,{"cand-id":i.candId,"input-id":"checks-file",item:"checks",onUpdate:T=>{b.value=c,r.value=c.id.toString(),p.value=!0},onDelete:T=>h(c.id)},null,8,["cand-id","onUpdate","onDelete"])]),key:"0"}:void 0]),1024)]))),128))])):(l(),_("div",so,[e(S)=="pending"||e(f)?(l(),$(O,{key:0,rows:18})):(l(),_("p",io,"Проверка кандидата отсутствует"))]))],64)}}}),ro=M({__name:"PoligrafForm",props:{poligraf:{type:Object,default:{}},candId:{type:String,default:""}},emits:["cancel","update"],setup(o,{emit:a}){const d=a,t=L(o.poligraf);function i(){d("update",t.value),t.value.theme="",t.value.results=""}function p(){d("cancel"),t.value.theme="",t.value.results=""}return(f,y)=>{const r=re,b=ne,v=me,m=ae,S=le;return l(),$(S,{state:e(t),onSubmit:K(i,["prevent"])},{default:s(()=>[n(b,{class:"mb-3",label:"Тема проверки"},{default:s(()=>[n(r,{modelValue:e(t).theme,"onUpdate:modelValue":y[0]||(y[0]=w=>e(t).theme=w),required:"",options:["Проверка кандидата","Служебная проверка","Служебное расследование","Плановое мероприятие"]},null,8,["modelValue"])]),_:1}),n(b,{class:"mb-3",label:"Результат"},{default:s(()=>[n(v,{modelValue:e(t).results,"onUpdate:modelValue":y[1]||(y[1]=w=>e(t).results=w),modelModifiers:{trim:!0,lazy:!0},required:"",placeholder:"Результат"},null,8,["modelValue"])]),_:1}),n(m,{onCancel:p})]),_:1},8,["state"])}}}),co={key:0,class:"py-3"},uo={key:1},po={class:"tex-base text-red-800 font-medium"},mo={key:1},fo={key:2,class:"p-3"},_o={key:1,class:"text-red-800"},Qo=M({__name:"PoligrafTab",props:{candId:{type:String,default:""},editable:{type:Boolean,default:!1}},async setup(o){let a,d;const u=N(),t=G(),i=o,p=D(!1),f=D(!1),y=D(!1),r=D(""),b=D({}),{data:v,refresh:m,status:S}=([a,d]=J(async()=>oe("poligrafs",async()=>await u("/api/poligrafs/"+i.candId))),a=await a,d(),a);async function w(k){f.value=!0,g(),await u("/api/poligrafs/"+i.candId,{method:"POST",body:k}),t.add({icon:"i-heroicons-check-circle",title:"Успешно",description:"Информация обновлена",color:"green"}),f.value=!1,m()}async function h(k){g(),confirm("Вы действительно хотите удалить запись?")&&(await u("/api/poligrafs/"+k,{method:"DELETE"}),t.add({icon:"i-heroicons-information-circle",title:"Информация",description:`Запись с ID ${k} удалена`,color:"primary"}),m())}async function C(){g(),m()}function g(){y.value=!1,p.value=!1,r.value=""}return(k,E)=>{const q=R,F=ro,x=W,O=Y,V=Q,j=Z;return l(),_(B,null,[o.editable?(l(),$(q,{key:0,class:"py-3",label:e(y)?"Скрыть форму":"Добавить запись",variant:"link",onClick:E[0]||(E[0]=c=>y.value=!e(y))},null,8,["label"])):z("",!0),n(H,{name:"slide-fade"},{default:s(()=>[e(y)?(l(),_("div",co,[n(x,null,{default:s(()=>[n(F,{"cand-id":i.candId,onCancel:C,onUpdate:w},null,8,["cand-id"])]),_:1})])):z("",!0)]),_:1}),e(v)&&e(v).length?(l(),_("div",uo,[(l(!0),_(B,null,P(e(v),(c,A)=>(l(),_("div",{key:A,class:"text-sm text-gray-500 dark:text-gray-400 py-1"},[e(S)=="pending"||e(f)?(l(),$(O,{key:0,rows:4})):(l(),$(x,{key:1},X({header:s(()=>[se("div",po,U("Обследование на полиграфе ID #"+c.id),1)]),default:s(()=>[e(p)&&e(r)==c.id.toString()?(l(),$(F,{key:0,"cand-id":i.candId,poligraf:c,onCancel:C,onUpdate:w},null,8,["cand-id","poligraf"])):(l(),_("div",mo,[n(V,{label:"Тема проверки"},{default:s(()=>[I(U(c.theme),1)]),_:2},1024),n(V,{label:"Результат"},{default:s(()=>[I(U(c.results),1)]),_:2},1024),n(V,{label:"Сотрудник"},{default:s(()=>[I(U(c.username),1)]),_:2},1024),n(V,{label:"Дата записи"},{default:s(()=>[I(U(new Date(c.created+" UTC").toLocaleString("ru-RU")),1)]),_:2},1024)]))]),_:2},[i.editable&&(!e(p)||e(r)!=c.id.toString())?{name:"footer",fn:s(()=>[n(j,{"cand-id":i.candId,"input-id":"poligrafs-file",item:"poligrafs",onUpdate:T=>{b.value=c,r.value=c.id.toString(),p.value=!0},onDelete:T=>h(c.id)},null,8,["cand-id","onUpdate","onDelete"])]),key:"0"}:void 0]),1024))]))),128))])):(l(),_("div",fo,[e(S)=="pending"||e(f)?(l(),$(O,{key:0,rows:4})):(l(),_("p",_o,"Обследование на полиграфе не проводилось"))]))],64)}}}),yo=M({__name:"InvestigationForm",props:{investigation:{type:Object,default:{}},candId:{type:String,default:""}},emits:["cancel","update"],setup(o,{emit:a}){const d=a,t=L(o.investigation);function i(){d("update",t.value),f()}function p(){d("cancel"),f()}function f(){Object.assign(t.value,{theme:"",info:""})}return(y,r)=>{const b=te,v=ne,m=me,S=ae,w=le;return l(),$(w,{state:e(t),onSubmit:K(i,["prevent"])},{default:s(()=>[n(v,{class:"mb-3",label:"Тема проверки"},{default:s(()=>[n(b,{modelValue:e(t).theme,"onUpdate:modelValue":r[0]||(r[0]=h=>e(t).theme=h),modelModifiers:{trim:!0,lazy:!0},required:"",placeholder:"Тема проверки"},null,8,["modelValue"])]),_:1}),n(v,{class:"mb-3",label:"Информация"},{default:s(()=>[n(m,{modelValue:e(t).info,"onUpdate:modelValue":r[1]||(r[1]=h=>e(t).info=h),modelModifiers:{trim:!0,lazy:!0},required:"",placeholder:"Информация"},null,8,["modelValue"])]),_:1}),n(S,{onCancel:p})]),_:1},8,["state"])}}}),vo={key:0,class:"py-3"},bo={key:1},go={class:"tex-base text-red-800 font-medium"},ho={key:1},ko={key:2,class:"p-3"},wo={key:1,class:"text-red-800"},Zo=M({__name:"InvestigateTab",props:{candId:{type:String,default:""},editable:{type:Boolean,default:!1}},async setup(o){let a,d;const u=N(),t=G(),i=o,p=D(!1),f=D(!1),y=D(!1),r=D(""),b=D({}),{data:v,refresh:m,status:S}=([a,d]=J(async()=>oe("investigations",async()=>await u("/api/investigations/"+i.candId))),a=await a,d(),a);async function w(k){f.value=!0,g(),await u("/api/investigations/"+i.candId,{method:"POST",body:k}),t.add({icon:"i-heroicons-check-circle",title:"Успешно",description:"Информация обновлена",color:"green"}),f.value=!1,m()}async function h(k){g(),confirm("Вы действительно хотите удалить запись?")&&(await u(`/api/investigations/${k}`,{method:"DELETE"}),t.add({icon:"i-heroicons-information-circle",title:"Информация",description:`Запись с ID ${k} удалена`,color:"primary"}),m())}async function C(){g(),m()}function g(){y.value=!1,r.value="",p.value=!1}return(k,E)=>{const q=R,F=yo,x=W,O=Y,V=Q,j=Z;return l(),_(B,null,[i.editable?(l(),$(q,{key:0,class:"py-3",label:e(p)?"Скрыть форму":"Добавить запись",variant:"link",onClick:E[0]||(E[0]=c=>p.value=!e(p))},null,8,["label"])):z("",!0),n(H,{name:"slide-fade"},{default:s(()=>[e(p)?(l(),_("div",vo,[n(x,null,{default:s(()=>[n(F,{"cand-id":i.candId,onCancel:C,onUpdate:w},null,8,["cand-id"])]),_:1})])):z("",!0)]),_:1}),e(v)&&e(v).length?(l(),_("div",bo,[(l(!0),_(B,null,P(e(v),(c,A)=>(l(),_("div",{key:A,class:"text-sm text-gray-500 dark:text-gray-400 py-1"},[e(S)=="pending"||e(f)?(l(),$(O,{key:0,rows:4})):(l(),$(x,{key:1},X({header:s(()=>[se("div",go,U("Расследование/проверка ID #"+c.id),1)]),default:s(()=>[e(y)&&e(r)==c.id.toString()?(l(),$(F,{key:0,"cand-id":i.candId,investigation:c,onCancel:C,onUpdate:w},null,8,["cand-id","investigation"])):(l(),_("div",ho,[n(V,{label:"Тема проверки"},{default:s(()=>[I(U(c.theme),1)]),_:2},1024),n(V,{label:"Информация"},{default:s(()=>[I(U(c.info),1)]),_:2},1024),n(V,{label:"Сотрудник"},{default:s(()=>[I(U(c.username),1)]),_:2},1024),n(V,{label:"Дата записи"},{default:s(()=>[I(U(new Date(c.created+" UTC").toLocaleString("ru-RU")),1)]),_:2},1024)]))]),_:2},[i.editable&&(!e(y)||e(r)!=c.id.toString())?{name:"footer",fn:s(()=>[n(j,{"cand-id":i.candId,"input-id":"investigations-file",item:"investigations",onUpdate:T=>{b.value=c,r.value=c.id.toString(),y.value=!0},onDelete:T=>h(c.id)},null,8,["cand-id","onUpdate","onDelete"])]),key:"0"}:void 0]),1024))]))),128))])):(l(),_("div",ko,[e(S)=="pending"||e(f)?(l(),$(O,{key:0,rows:4})):(l(),_("p",wo,"Расследования/Проверки не проводились"))]))],64)}}}),$o=M({__name:"InquiryForm",props:{inquiry:{type:Object,default:{}},candId:{type:String,default:""}},emits:["cancel","update"],setup(o,{emit:a}){const d=a,t=L(o.inquiry);function i(){d("update",t.value),f()}function p(){d("cancel"),f()}function f(){Object.assign(t.value,{info:"",origins:"",initiator:""})}return(y,r)=>{const b=me,v=ne,m=te,S=ae,w=le;return l(),$(w,{state:e(t),onSubmit:K(i,["prevent"])},{default:s(()=>[n(v,{class:"mb-3",label:"Информация"},{default:s(()=>[n(b,{modelValue:e(t).info,"onUpdate:modelValue":r[0]||(r[0]=h=>e(t).info=h),modelModifiers:{trim:!0,lazy:!0},required:"",placeholder:"Информация"},null,8,["modelValue"])]),_:1}),n(v,{class:"mb-3",label:"Инициатор"},{default:s(()=>[n(m,{modelValue:e(t).initiator,"onUpdate:modelValue":r[1]||(r[1]=h=>e(t).initiator=h),modelModifiers:{trim:!0,lazy:!0},required:"",placeholder:"Инициатор"},null,8,["modelValue"])]),_:1}),n(v,{class:"mb-3",label:"Источники"},{default:s(()=>[n(m,{modelValue:e(t).origins,"onUpdate:modelValue":r[2]||(r[2]=h=>e(t).origins=h),modelModifiers:{trim:!0,lazy:!0},placeholder:"Источники"},null,8,["modelValue"])]),_:1}),n(S,{onCancel:p})]),_:1},8,["state"])}}}),So={key:0,class:"py-3"},Uo={key:1},Io={class:"tex-base text-red-800 font-medium"},Vo={key:1},Do={key:2,class:"p-3"},Eo={key:1,class:"text-red-800"},ea=M({__name:"InquiryTab",props:{candId:{type:String,default:""},editable:{type:Boolean,default:!1}},async setup(o){let a,d;const u=N(),t=G(),i=o,p=D(!1),f=D(!1),y=D(!1),r=D(""),b=D({}),{data:v,refresh:m,status:S}=([a,d]=J(async()=>oe("inquiries",async()=>await u(`/api/inquiries/${i.candId}`))),a=await a,d(),a);async function w(k){f.value=!0,C(),await u("/api/inquiries/"+i.candId,{method:"POST",body:k}),t.add({icon:"i-heroicons-check-circle",title:"Успешно",description:"Информация обновлена",color:"green"}),f.value=!1,m()}async function h(k){C(),confirm("Вы действительно хотите удалить запись?")&&(await u(`/api/inquiries/${k}`,{method:"DELETE"}),t.add({icon:"i-heroicons-information-circle",title:"Информация",description:`Запись с ID ${k} удалена`,color:"primary"}),m())}function C(){y.value=!1,r.value="",p.value=!1}function g(){C(),m()}return(k,E)=>{const q=R,F=$o,x=W,O=Y,V=Q,j=Z;return l(),_(B,null,[i.editable?(l(),$(q,{key:0,class:"py-3",label:e(p)?"Скрыть форму":"Добавить запись",variant:"link",onClick:E[0]||(E[0]=c=>p.value=!e(p))},null,8,["label"])):z("",!0),n(H,{name:"slide-fade"},{default:s(()=>[e(p)?(l(),_("div",So,[n(x,null,{default:s(()=>[n(F,{"cand-id":i.candId,onCancel:g,onUpdate:w},null,8,["cand-id"])]),_:1})])):z("",!0)]),_:1}),e(v)&&e(v).length?(l(),_("div",Uo,[(l(!0),_(B,null,P(e(v),(c,A)=>(l(),_("div",{key:A,class:"text-sm text-gray-500 dark:text-gray-400 py-1"},[e(S)=="pending"||e(f)?(l(),$(O,{key:0,rows:6})):(l(),$(x,{key:1},X({header:s(()=>[se("div",Io,U("Запрос о сотруднике ID #"+c.id),1)]),default:s(()=>[e(y)&&e(r)==c.id.toString()?(l(),$(F,{key:0,"cand-id":i.candId,inquiry:c,onCancel:g,onUpdate:w},null,8,["cand-id","inquiry"])):(l(),_("div",Vo,[n(V,{label:"Информация"},{default:s(()=>[I(U(c.info),1)]),_:2},1024),n(V,{label:"Иннициатор"},{default:s(()=>[I(U(c.initiator),1)]),_:2},1024),n(V,{label:"Источники"},{default:s(()=>[I(U(c.origins),1)]),_:2},1024),n(V,{label:"Сотрудник"},{default:s(()=>[I(U(c.username),1)]),_:2},1024),n(V,{label:"Дата записи"},{default:s(()=>[I(U(new Date(c.created+" UTC").toLocaleString("ru-RU")),1)]),_:2},1024)]))]),_:2},[i.editable&&(!e(y)||e(r)!=c.id.toString())?{name:"footer",fn:s(()=>[n(j,{"cand-id":i.candId,"input-id":"inquiries-file",item:"inquiries",onDelete:T=>h(c.id),onUpdate:T=>{b.value=c,r.value=c.id.toString(),y.value=!0}},null,8,["cand-id","onDelete","onUpdate"])]),key:"0"}:void 0]),1024))]))),128))])):(l(),_("div",Do,[e(S)=="pending"||e(f)?(l(),$(O,{key:0,rows:6})):(l(),_("p",Eo,"Запросы о сотруднике не поступали"))]))],64)}}});export{Lo as _,Po as a,No as b,Ro as c,Go as d,Wo as e,Ho as f,Jo as g,Ko as h,Xo as i,To as j,Yo as k,Qo as l,Zo as m,ea as n};
