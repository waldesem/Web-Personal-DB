import{b as Te,_ as Ce,a as Pe}from"./DvJ7HPBa.js";import{_ as Ae}from"./PDcmDzXE.js";import{r as $,a5 as he,d as N,k as C,a3 as Re,T as ye,a4 as Oe,af as H,a6 as Fe,m as oe,f as B,_ as re,j as se,t as K,l as _e,q as ue,o as w,c as P,s as q,A as z,B as O,z as V,ao as Ue,g as ke,h as we,N as Ne,a8 as ce,aa as Ee,ap as je,ac as G,v as j,e as h,a as _,x as A,b as D,ag as ze,V as Ie,y as L,F as te,C as ae,al as Be,a2 as Me,H as Ve,w as Le,u as y,D as pe,i as He}from"./B8dkklNN.js";import{_ as Ke}from"./CaecZw4b.js";import{g as qe,o as x,w as Ze,k as Je,t as We,a as Qe,b as X,A as Y,i as ie,s as Ge,l as Xe,N as me,c as S,v as Ye,h as fe,_ as Se,O as et,u as tt,j as at}from"./BXmCudNl.js";import{w as nt}from"./BaT7B4l5.js";import{_ as lt}from"./CXniYARz.js";import{_ as ot}from"./Bvc2gOdP.js";import{u as rt}from"./BiO4k2Z1.js";import{d as st}from"./DceBsjlI.js";import"./DuHKWUSG.js";const ut={wrapper:"relative inline-flex items-center justify-center flex-shrink-0",base:"absolute rounded-full ring-1 ring-white dark:ring-gray-900 flex items-center justify-center text-white dark:text-gray-900 font-medium whitespace-nowrap",background:"bg-{color}-500 dark:bg-{color}-400",position:{"top-right":"top-0 right-0","bottom-right":"bottom-0 right-0","top-left":"top-0 left-0","bottom-left":"bottom-0 left-0"},translate:{"top-right":"-translate-y-1/2 translate-x-1/2 transform","bottom-right":"translate-y-1/2 translate-x-1/2 transform","top-left":"-translate-y-1/2 -translate-x-1/2 transform","bottom-left":"translate-y-1/2 -translate-x-1/2 transform"},size:{"3xs":"h-[4px] min-w-[4px] text-[4px] p-px","2xs":"h-[5px] min-w-[5px] text-[5px] p-px",xs:"h-1.5 min-w-[0.375rem] text-[6px] p-px",sm:"h-2 min-w-[0.5rem] text-[7px] p-0.5",md:"h-2.5 min-w-[0.625rem] text-[8px] p-0.5",lg:"h-3 min-w-[0.75rem] text-[10px] p-0.5",xl:"h-3.5 min-w-[0.875rem] text-[11px] p-1","2xl":"h-4 min-w-[1rem] text-[12px] p-1","3xl":"h-5 min-w-[1.25rem] text-[14px] p-1"},default:{size:"sm",color:"primary",position:"top-right",inset:!1}},it={base:"inline-flex items-center justify-center text-gray-900 dark:text-white",padding:"px-1",size:{xs:"h-4 min-w-[16px] text-[10px]",sm:"h-5 min-w-[20px] text-[11px]",md:"h-6 min-w-[24px] text-[12px]"},rounded:"rounded",font:"font-medium font-sans",background:"bg-gray-100 dark:bg-gray-800",ring:"ring-1 ring-gray-300 dark:ring-gray-700 ring-inset",default:{size:"sm"}};function ve(e){return[e.screenX,e.screenY]}function dt(){let e=$([-1,-1]);return{wasMoved(l){let r=ve(l);return e.value[0]===r[0]&&e.value[1]===r[1]?!1:(e.value=r,!0)},update(l){e.value=ve(l)}}}function ct({container:e,accept:l,walk:r,enabled:i}){he(()=>{let c=e.value;if(!c||i!==void 0&&!i.value)return;let t=qe(e);if(!t)return;let a=Object.assign(m=>l(m),{acceptNode:l}),u=t.createTreeWalker(c,NodeFilter.SHOW_ELEMENT,a,!1);for(;u.nextNode();)r(u.currentNode)})}function pt(e){throw new Error("Unexpected object: "+e)}var T=(e=>(e[e.First=0]="First",e[e.Previous=1]="Previous",e[e.Next=2]="Next",e[e.Last=3]="Last",e[e.Specific=4]="Specific",e[e.Nothing=5]="Nothing",e))(T||{});function mt(e,l){let r=l.resolveItems();if(r.length<=0)return null;let i=l.resolveActiveIndex(),c=i??-1;switch(e.focus){case 0:{for(let t=0;t<r.length;++t)if(!l.resolveDisabled(r[t],t,r))return t;return i}case 1:{c===-1&&(c=r.length);for(let t=c-1;t>=0;--t)if(!l.resolveDisabled(r[t],t,r))return t;return i}case 2:{for(let t=c+1;t<r.length;++t)if(!l.resolveDisabled(r[t],t,r))return t;return i}case 3:{for(let t=r.length-1;t>=0;--t)if(!l.resolveDisabled(r[t],t,r))return t;return i}case 4:{for(let t=0;t<r.length;++t)if(l.resolveId(r[t],t,r)===e.id)return t;return i}case 5:return null;default:pt(e)}}let ge=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function be(e){var l,r;let i=(l=e.innerText)!=null?l:"",c=e.cloneNode(!0);if(!(c instanceof HTMLElement))return i;let t=!1;for(let u of c.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))u.remove(),t=!0;let a=t?(r=c.innerText)!=null?r:"":i;return ge.test(a)&&(a=a.replace(ge,"")),a}function ft(e){let l=e.getAttribute("aria-label");if(typeof l=="string")return l.trim();let r=e.getAttribute("aria-labelledby");if(r){let i=r.split(" ").map(c=>{let t=document.getElementById(c);if(t){let a=t.getAttribute("aria-label");return typeof a=="string"?a.trim():be(t).trim()}return null}).filter(Boolean);if(i.length>0)return i.join(", ")}return be(e).trim()}function vt(e){let l=$(""),r=$("");return()=>{let i=x(e);if(!i)return"";let c=i.innerText;if(l.value===c)return r.value;let t=ft(i).trim().toLowerCase();return l.value=c,r.value=t,t}}var gt=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(gt||{}),bt=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(bt||{});function ht(e){requestAnimationFrame(()=>requestAnimationFrame(e))}let xe=Symbol("MenuContext");function ee(e){let l=Fe(xe,null);if(l===null){let r=new Error(`<${e} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,ee),r}return l}let yt=N({name:"Menu",props:{as:{type:[Object,String],default:"template"}},setup(e,{slots:l,attrs:r}){let i=$(1),c=$(null),t=$(null),a=$([]),u=$(""),m=$(null),k=$(1);function M(n=d=>d){let d=m.value!==null?a.value[m.value]:null,o=et(n(a.value.slice()),p=>x(p.dataRef.domRef)),v=d?o.indexOf(d):null;return v===-1&&(v=null),{items:o,activeItemIndex:v}}let g={menuState:i,buttonRef:c,itemsRef:t,items:a,searchQuery:u,activeItemIndex:m,activationTrigger:k,closeMenu:()=>{i.value=1,m.value=null},openMenu:()=>i.value=0,goToItem(n,d,o){let v=M(),p=mt(n===T.Specific?{focus:T.Specific,id:d}:{focus:n},{resolveItems:()=>v.items,resolveActiveIndex:()=>v.activeItemIndex,resolveId:s=>s.id,resolveDisabled:s=>s.dataRef.disabled});u.value="",m.value=p,k.value=o??1,a.value=v.items},search(n){let d=u.value!==""?0:1;u.value+=n.toLowerCase();let o=(m.value!==null?a.value.slice(m.value+d).concat(a.value.slice(0,m.value+d)):a.value).find(p=>p.dataRef.textValue.startsWith(u.value)&&!p.dataRef.disabled),v=o?a.value.indexOf(o):-1;v===-1||v===m.value||(m.value=v,k.value=1)},clearSearch(){u.value=""},registerItem(n,d){let o=M(v=>[...v,{id:n,dataRef:d}]);a.value=o.items,m.value=o.activeItemIndex,k.value=1},unregisterItem(n){let d=M(o=>{let v=o.findIndex(p=>p.id===n);return v!==-1&&o.splice(v,1),o});a.value=d.items,m.value=d.activeItemIndex,k.value=1}};return nt([c,t],(n,d)=>{var o;g.closeMenu(),Ze(d,Je.Loose)||(n.preventDefault(),(o=x(c))==null||o.focus())},C(()=>i.value===0)),Re(xe,g),We(C(()=>Qe(i.value,{0:X.Open,1:X.Closed}))),()=>{let n={open:i.value===0,close:g.closeMenu};return Y({ourProps:{},theirProps:e,slot:n,slots:l,attrs:r,name:"Menu"})}}}),_t=N({name:"MenuButton",props:{disabled:{type:Boolean,default:!1},as:{type:[Object,String],default:"button"},id:{type:String,default:null}},setup(e,{attrs:l,slots:r,expose:i}){var c;let t=(c=e.id)!=null?c:`headlessui-menu-button-${ie()}`,a=ee("MenuButton");i({el:a.buttonRef,$el:a.buttonRef});function u(g){switch(g.key){case S.Space:case S.Enter:case S.ArrowDown:g.preventDefault(),g.stopPropagation(),a.openMenu(),H(()=>{var n;(n=x(a.itemsRef))==null||n.focus({preventScroll:!0}),a.goToItem(T.First)});break;case S.ArrowUp:g.preventDefault(),g.stopPropagation(),a.openMenu(),H(()=>{var n;(n=x(a.itemsRef))==null||n.focus({preventScroll:!0}),a.goToItem(T.Last)});break}}function m(g){switch(g.key){case S.Space:g.preventDefault();break}}function k(g){e.disabled||(a.menuState.value===0?(a.closeMenu(),H(()=>{var n;return(n=x(a.buttonRef))==null?void 0:n.focus({preventScroll:!0})})):(g.preventDefault(),a.openMenu(),ht(()=>{var n;return(n=x(a.itemsRef))==null?void 0:n.focus({preventScroll:!0})})))}let M=Ge(C(()=>({as:e.as,type:l.type})),a.buttonRef);return()=>{var g;let n={open:a.menuState.value===0},{...d}=e,o={ref:a.buttonRef,id:t,type:M.value,"aria-haspopup":"menu","aria-controls":(g=x(a.itemsRef))==null?void 0:g.id,"aria-expanded":a.menuState.value===0,onKeydown:u,onKeyup:m,onClick:k};return Y({ourProps:o,theirProps:d,slot:n,attrs:l,slots:r,name:"MenuButton"})}}}),kt=N({name:"MenuItems",props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},id:{type:String,default:null}},setup(e,{attrs:l,slots:r,expose:i}){var c;let t=(c=e.id)!=null?c:`headlessui-menu-items-${ie()}`,a=ee("MenuItems"),u=$(null);i({el:a.itemsRef,$el:a.itemsRef}),ct({container:C(()=>x(a.itemsRef)),enabled:C(()=>a.menuState.value===0),accept(n){return n.getAttribute("role")==="menuitem"?NodeFilter.FILTER_REJECT:n.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(n){n.setAttribute("role","none")}});function m(n){var d;switch(u.value&&clearTimeout(u.value),n.key){case S.Space:if(a.searchQuery.value!=="")return n.preventDefault(),n.stopPropagation(),a.search(n.key);case S.Enter:if(n.preventDefault(),n.stopPropagation(),a.activeItemIndex.value!==null){let o=a.items.value[a.activeItemIndex.value];(d=x(o.dataRef.domRef))==null||d.click()}a.closeMenu(),Se(x(a.buttonRef));break;case S.ArrowDown:return n.preventDefault(),n.stopPropagation(),a.goToItem(T.Next);case S.ArrowUp:return n.preventDefault(),n.stopPropagation(),a.goToItem(T.Previous);case S.Home:case S.PageUp:return n.preventDefault(),n.stopPropagation(),a.goToItem(T.First);case S.End:case S.PageDown:return n.preventDefault(),n.stopPropagation(),a.goToItem(T.Last);case S.Escape:n.preventDefault(),n.stopPropagation(),a.closeMenu(),H(()=>{var o;return(o=x(a.buttonRef))==null?void 0:o.focus({preventScroll:!0})});break;case S.Tab:n.preventDefault(),n.stopPropagation(),a.closeMenu(),H(()=>Ye(x(a.buttonRef),n.shiftKey?fe.Previous:fe.Next));break;default:n.key.length===1&&(a.search(n.key),u.value=setTimeout(()=>a.clearSearch(),350));break}}function k(n){switch(n.key){case S.Space:n.preventDefault();break}}let M=Xe(),g=C(()=>M!==null?(M.value&X.Open)===X.Open:a.menuState.value===0);return()=>{var n,d;let o={open:a.menuState.value===0},{...v}=e,p={"aria-activedescendant":a.activeItemIndex.value===null||(n=a.items.value[a.activeItemIndex.value])==null?void 0:n.id,"aria-labelledby":(d=x(a.buttonRef))==null?void 0:d.id,id:t,onKeydown:m,onKeyup:k,role:"menu",tabIndex:0,ref:a.itemsRef};return Y({ourProps:p,theirProps:v,slot:o,attrs:l,slots:r,features:me.RenderStrategy|me.Static,visible:g.value,name:"MenuItems"})}}}),wt=N({name:"MenuItem",inheritAttrs:!1,props:{as:{type:[Object,String],default:"template"},disabled:{type:Boolean,default:!1},id:{type:String,default:null}},setup(e,{slots:l,attrs:r,expose:i}){var c;let t=(c=e.id)!=null?c:`headlessui-menu-item-${ie()}`,a=ee("MenuItem"),u=$(null);i({el:u,$el:u});let m=C(()=>a.activeItemIndex.value!==null?a.items.value[a.activeItemIndex.value].id===t:!1),k=vt(u),M=C(()=>({disabled:e.disabled,get textValue(){return k()},domRef:u}));ye(()=>a.registerItem(t,M)),Oe(()=>a.unregisterItem(t)),he(()=>{a.menuState.value===0&&m.value&&a.activationTrigger.value!==0&&H(()=>{var s,b;return(b=(s=x(u))==null?void 0:s.scrollIntoView)==null?void 0:b.call(s,{block:"nearest"})})});function g(s){if(e.disabled)return s.preventDefault();a.closeMenu(),Se(x(a.buttonRef))}function n(){if(e.disabled)return a.goToItem(T.Nothing);a.goToItem(T.Specific,t)}let d=dt();function o(s){d.update(s)}function v(s){d.wasMoved(s)&&(e.disabled||m.value||a.goToItem(T.Specific,t,0))}function p(s){d.wasMoved(s)&&(e.disabled||m.value&&a.goToItem(T.Nothing))}return()=>{let{disabled:s,...b}=e,I={active:m.value,disabled:s,close:a.closeMenu};return Y({ourProps:{id:t,ref:u,role:"menuitem",tabIndex:s===!0?void 0:-1,"aria-disabled":s===!0?!0:void 0,onClick:g,onFocus:n,onPointerenter:o,onMouseenter:o,onPointermove:v,onMousemove:v,onPointerleave:p,onMouseleave:p},theirProps:{...r,...b},slot:I,attrs:r,slots:l,name:"MenuItem"})}}});const ne=oe(B.ui.strategy,B.ui.kbd,it),It=N({inheritAttrs:!1,props:{value:{type:String,default:null},size:{type:String,default:()=>ne.default.size,validator(e){return Object.keys(ne.size).includes(e)}},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},setup(e){const{ui:l,attrs:r}=se("kbd",K(e,"ui"),ne),i=C(()=>_e(ue(l.value.base,l.value.size[e.size],l.value.padding,l.value.rounded,l.value.font,l.value.background,l.value.ring),e.class));return{ui:l,attrs:r,kbdClass:i}}});function Mt(e,l,r,i,c,t){return w(),P("kbd",V({class:e.kbdClass},e.attrs),[q(e.$slots,"default",{},()=>[z(O(e.value),1)])],16)}const $e=re(It,[["render",Mt]]),le=oe(B.ui.strategy,B.ui.dropdown,Ue),St=N({components:{HMenu:yt,HMenuButton:_t,HMenuItems:kt,HMenuItem:wt,UIcon:ke,UAvatar:we,UKbd:$e},inheritAttrs:!1,props:{items:{type:Array,default:()=>[]},mode:{type:String,default:"click",validator:e=>["click","hover"].includes(e)},open:{type:Boolean,default:void 0},disabled:{type:Boolean,default:!1},popper:{type:Object,default:()=>({})},openDelay:{type:Number,default:()=>le.default.openDelay},closeDelay:{type:Number,default:()=>le.default.closeDelay},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},emits:["update:open"],setup(e,{emit:l}){const{ui:r,attrs:i}=se("dropdown",K(e,"ui"),le,K(e,"class")),c=C(()=>Ne(e.mode==="hover"?{offsetDistance:0}:{},e.popper,r.value.popper)),[t,a]=tt(c.value),u=$(null);let m=null,k=null;ye(()=>{var b,I;const p=(b=t.value)==null?void 0:b.$.provides;if(!p)return;const s=Object.getOwnPropertySymbols(p);u.value=s.length&&p[s[0]],e.open&&((I=u.value)==null||I.openMenu())});const M=C(()=>{var I,F,U;if(e.mode!=="hover")return{};const p=((I=e.popper)==null?void 0:I.offsetDistance)||((F=r.value.popper)==null?void 0:F.offsetDistance)||8,s=(U=c.value.placement)==null?void 0:U.split("-")[0],b=`${p}px`;return s==="top"||s==="bottom"?{paddingTop:b,paddingBottom:b}:s==="left"||s==="right"?{paddingLeft:b,paddingRight:b}:{paddingTop:b,paddingBottom:b,paddingLeft:b,paddingRight:b}});function g(p){!p.cancelable||!u.value||(u.value.menuState===0?u.value.closeMenu():u.value.openMenu())}function n(){e.mode!=="hover"||!u.value||(k&&(clearTimeout(k),k=null),u.value.menuState!==0&&(m=m||setTimeout(()=>{u.value.openMenu&&u.value.openMenu(),m=null},e.openDelay)))}function d(){e.mode!=="hover"||!u.value||(m&&(clearTimeout(m),m=null),u.value.menuState!==1&&(k=k||setTimeout(()=>{u.value.closeMenu&&u.value.closeMenu(),k=null},e.closeDelay)))}function o(p,s,{href:b,navigate:I,close:F,isExternal:U}){s.click&&s.click(p),b&&!U&&(I(p),F())}ce(()=>e.open,(p,s)=>{u.value&&(s===void 0||p===s||(p?u.value.openMenu():u.value.closeMenu()))}),ce(()=>{var p;return(p=u.value)==null?void 0:p.menuState},(p,s)=>{s===void 0||p===s||l("update:open",p===0)});const v=Me;return at(()=>Ee()),{ui:r,attrs:i,popper:c,trigger:t,container:a,containerStyle:M,onTouchStart:g,onMouseEnter:n,onMouseLeave:d,onClick:o,getNuxtLinkProps:je,twMerge:_e,twJoin:ue,NuxtLink:v}}}),xt=["disabled"];function $t(e,l,r,i,c,t){const a=G("HMenuButton"),u=ke,m=we,k=$e,M=G("HMenuItem"),g=Me,n=G("HMenuItems"),d=G("HMenu");return w(),j(d,V({as:"div",class:e.ui.wrapper},e.attrs,{onMouseleave:e.onMouseLeave}),{default:h(({open:o})=>[_(a,{ref:"trigger",as:"div",disabled:e.disabled,class:A(e.ui.trigger),role:"button",onMouseenter:e.onMouseEnter,onTouchstartPassive:e.onTouchStart},{default:h(()=>[q(e.$slots,"default",{open:o,disabled:e.disabled},()=>[D("button",{disabled:e.disabled}," Open ",8,xt)])]),_:2},1032,["disabled","class","onMouseenter","onTouchstartPassive"]),o&&e.items.length?(w(),P("div",{key:0,ref:"container",class:A([e.ui.container,e.ui.width]),style:ze(e.containerStyle),onMouseenter:l[0]||(l[0]=(...v)=>e.onMouseEnter&&e.onMouseEnter(...v))},[_(Ie,V({appear:""},e.ui.transition),{default:h(()=>[D("div",null,[e.popper.arrow?(w(),P("div",{key:0,"data-popper-arrow":"",class:A(Object.values(e.ui.arrow))},null,2)):L("",!0),_(n,{class:A([e.ui.base,e.ui.divide,e.ui.ring,e.ui.rounded,e.ui.shadow,e.ui.background,e.ui.height]),static:""},{default:h(()=>[(w(!0),P(te,null,ae(e.items,(v,p)=>(w(),P("div",{key:p,class:A(e.ui.padding)},[(w(!0),P(te,null,ae(v,(s,b)=>(w(),j(g,V({key:b,ref_for:!0},e.getNuxtLinkProps(s),{custom:""}),{default:h(({href:I,target:F,rel:U,navigate:Z,isExternal:J,isActive:W})=>[_(M,{disabled:s.disabled},{default:h(({active:f,disabled:R,close:De})=>[(w(),j(Be(I?"a":"button"),{href:R?void 0:I,rel:U,target:F,class:A(e.twMerge(e.twJoin(e.ui.item.base,e.ui.item.padding,e.ui.item.size,e.ui.item.rounded,f||W?e.ui.item.active:e.ui.item.inactive,R&&e.ui.item.disabled),s.class)),onClick:Q=>e.onClick(Q,s,{href:I,navigate:Z,close:De,isExternal:J})},{default:h(()=>[q(e.$slots,s.slot||"item",{item:s},()=>{var Q;return[s.icon?(w(),j(u,{key:0,name:s.icon,class:A(e.twMerge(e.twJoin(e.ui.item.icon.base,f||W?e.ui.item.icon.active:e.ui.item.icon.inactive),s.iconClass))},null,8,["name","class"])):s.avatar?(w(),j(m,V({key:1,ref_for:!0},{size:e.ui.item.avatar.size,...s.avatar},{class:e.ui.item.avatar.base}),null,16,["class"])):L("",!0),D("span",{class:A(e.twMerge(e.ui.item.label,s.labelClass))},O(s.label),3),(Q=s.shortcuts)!=null&&Q.length?(w(),P("span",{key:2,class:A(e.ui.item.shortcuts)},[(w(!0),P(te,null,ae(s.shortcuts,de=>(w(),j(k,{key:de},{default:h(()=>[z(O(de),1)]),_:2},1024))),128))],2)):L("",!0)]})]),_:2},1032,["href","rel","target","class","onClick"]))]),_:2},1032,["disabled"])]),_:2},1040))),128))],2))),128))]),_:3},8,["class"])])]),_:3},16)],38)):L("",!0)]),_:3},16,["class","onMouseleave"])}const Dt=re(St,[["render",$t]]),E=oe(B.ui.strategy,B.ui.chip,ut),Tt=N({inheritAttrs:!1,props:{size:{type:String,default:()=>E.default.size,validator(e){return Object.keys(E.size).includes(e)}},color:{type:String,default:()=>E.default.color,validator(e){return["gray",...B.ui.colors].includes(e)}},position:{type:String,default:()=>E.default.position,validator(e){return Object.keys(E.position).includes(e)}},text:{type:[String,Number],default:null},inset:{type:Boolean,default:()=>E.default.inset},show:{type:Boolean,default:!0},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},setup(e){const{ui:l,attrs:r}=se("chip",K(e,"ui"),E,K(e,"class")),i=C(()=>ue(l.value.base,l.value.size[e.size],l.value.position[e.position],e.inset?null:l.value.translate[e.position],l.value.background.replaceAll("{color}",e.color)));return{ui:l,attrs:r,chipClass:i}}});function Ct(e,l,r,i,c,t){return w(),P("div",V({class:e.ui.wrapper},e.attrs),[q(e.$slots,"default"),e.show?(w(),P("span",{key:0,class:A(e.chipClass)},[q(e.$slots,"content",{},()=>[z(O(e.text),1)])],2)):L("",!0)],16)}const Pt=re(Tt,[["render",Ct]]),At={class:"my-6"},Rt={class:"flex items-center justify-between mb-4"},Ot={class:"flex grid grid-cols-7 gap-3 border rounded p-3"},Ft={class:"col-span-2"},Ut={class:"col-span-2"},Nt={class:"col-span-2"},Et={class:"col-span-1"},jt={class:"text-center"},zt={class:"text-center"},Bt={class:"text-center"},Yt=N({__name:"users",async setup(e){let l,r;const i=Ve(),c=rt(),t=$({search:"",userId:"",region:"",role:"",users:[],form:{},collapsed:!1,viewDeleted:!1}),a=C(()=>t.value.users.filter(d=>d.deleted==t.value.viewDeleted));async function u(){t.value.users=await c("/api/users",{params:{search:t.value.search}})}async function m(d,o=t.value.userId){confirm("Подтвердите действие!")&&(await c("/api/users/"+o,{params:{item:d}}),Object.assign(t.value,{userId:"",region:"",role:""}),await u(),i.add({icon:"i-heroicons-check-circle",title:"Информация",description:"Действие успешно выполнено",color:"green"}))}async function k(){await c("/api/users",{method:"POST",body:t.value.form}),t.value.collapsed=!1,Object.assign(t.value.form,{fullname:"",username:""}),await u(),i.add({icon:"i-heroicons-check-circle",title:"Информация",description:"Пользователь успешно добавлен",color:"green"})}const M=d=>{const o=[];return d.fullname&&!d.fullname.match(/^[а-яёЁА-Я-\s]+$/)&&o.push({path:"surname",message:"Поле должно содержать только русские буквы"}),d.username&&!d.username.match(/^[a-zA-Z_\s]+$/)&&o.push({path:"username",message:"Поле должно содержать только латинские буквы и знаки подчеркивания"}),d.email&&!d.email.match(/^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+\.[a-zA-Z0-9-.]+$/)&&o.push({path:"email",message:"Поле должно содержать корректную почту"}),o},g=st(async()=>{await u()},500),n=[[{label:"Сбросить пароль",click:()=>m("drop")}],[{label:"Заблокировать/разблокировать",click:()=>m("block")}],[{label:"Удалить/восстановить",click:()=>m("delete")}]];return[l,r]=Le(()=>u()),await l,r(),(d,o)=>{const v=Ce,p=Te,s=Ae,b=He,I=Pe,F=Ke,U=Dt,Z=lt,J=Pt,W=ot;return w(),P("div",null,[_(v,{div:"py-1",cls:"text-2xl text-gray-500",header:"ПОЛЬЗОВАТЕЛИ"}),D("div",At,[_(p,{modelValue:y(t).search,"onUpdate:modelValue":o[0]||(o[0]=f=>y(t).search=f),size:"lg",placeholder:"Поиск по имени пользователя",onInput:pe(y(g),["prevent"])},null,8,["modelValue","onInput"])]),D("div",Rt,[_(s,{modelValue:y(t).viewDeleted,"onUpdate:modelValue":o[1]||(o[1]=f=>y(t).viewDeleted=f),label:"Показать удаленные"},null,8,["modelValue"]),_(b,{variant:"link",label:"Добавить пользователя",onClick:o[2]||(o[2]=f=>y(t).collapsed=!y(t).collapsed)})]),_(Ie,{name:"slide-fade"},{default:h(()=>[y(t).collapsed?(w(),j(F,{key:0,state:y(t).form,validate:M,onSubmit:pe(k,["prevent"])},{default:h(()=>[D("div",Ot,[D("div",Ft,[_(I,{required:"",class:"mb-3",name:"fullname"},{default:h(()=>[_(p,{modelValue:y(t).form.fullname,"onUpdate:modelValue":o[3]||(o[3]=f=>y(t).form.fullname=f),placeholder:"Имя пользователя"},null,8,["modelValue"])]),_:1})]),D("div",Ut,[_(I,{required:"",class:"mb-3",name:"username"},{default:h(()=>[_(p,{modelValue:y(t).form.username,"onUpdate:modelValue":o[4]||(o[4]=f=>y(t).form.username=f),placeholder:"Логин"},null,8,["modelValue"])]),_:1})]),D("div",Nt,[_(I,{required:"",class:"mb-3",name:"email"},{default:h(()=>[_(p,{modelValue:y(t).form.email,"onUpdate:modelValue":o[5]||(o[5]=f=>y(t).form.email=f),placeholder:"Email"},null,8,["modelValue"])]),_:1})]),D("div",Et,[_(b,{block:"",variant:"outline",color:"gray",label:"Создать",type:"submit"})])])]),_:1},8,["state"])):L("",!0)]),_:1}),_(W,{columns:[{key:"id",label:"#"},{key:"fullname",label:"Пользователь"},{key:"username",label:"Логин"},{key:"email",label:"Email"},{key:"region",label:"Регион"},{key:"role",label:"Роль"},{key:"created",label:"Создан"},{key:"attempt",label:"Попытка"},{key:"blocked",label:"Блок"},{key:"pswd_create",label:"Обновлен"},{key:"change_pswd",label:"Изм.пароля"}],rows:y(a)},{"id-data":h(({row:f})=>[z(O(f.id),1)]),"fullname-data":h(({row:f})=>[z(O(f.fullname),1)]),"username-data":h(({row:f})=>[_(U,{items:n},{default:h(()=>[_(b,{variant:"link",label:f.username,onClick:R=>y(t).userId=f.id},null,8,["label","onClick"])]),_:2},1024)]),"region-data":h(({row:f})=>[_(Z,{modelValue:y(t).region,"onUpdate:modelValue":o[6]||(o[6]=R=>y(t).region=R),placeholder:f.region,options:["Главный офис","РЦ Юг","РЦ Запад","РЦ Урал","РЦ Восток"],onChange:R=>m(y(t).region,f.id)},null,8,["modelValue","placeholder","onChange"])]),"role-data":h(({row:f})=>[_(Z,{modelValue:y(t).role,"onUpdate:modelValue":o[7]||(o[7]=R=>y(t).role=R),placeholder:f.role,options:["admin","user","guest"],onChange:R=>m(y(t).role,f.id)},null,8,["modelValue","placeholder","onChange"])]),"created-data":h(({row:f})=>[z(O(new Date(f.created).toLocaleDateString()),1)]),"attempt-data":h(({row:f})=>[D("div",jt,O(f.attempt),1)]),"blocked-data":h(({row:f})=>[D("div",zt,[_(J,{size:"2xl",color:f.blocked?"red":"green"},null,8,["color"])])]),"pswd_create-data":h(({row:f})=>[z(O(new Date(f.pswd_create).toLocaleDateString()),1)]),"change_pswd-data":h(({row:f})=>[D("div",Bt,[_(J,{size:"2xl",color:f.change_pswd?"red":"green"},null,8,["color"])])]),_:1},8,["rows"])])}}});export{Yt as default};
