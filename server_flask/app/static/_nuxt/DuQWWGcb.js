import{_ as V,a as A,b as F}from"./B8ZzhQbn.js";import{m as L,j as k,_ as O,g as y,k as j,l as z,q as B,r as I,s as E,o as u,i as m,v as M,x as N,c as h,y as q,F as G,a,b as l,z as H,h as J,w as p,A as e}from"./B_4c7bjE.js";import{_ as P}from"./C6Jsogy6.js";import{_ as R}from"./UIKXIBFg.js";import{_ as T}from"./B_ysnhc0.js";import{u as Y}from"./Cias7xHV.js";import{s as K,a as Q,b as W,c as X}from"./DupJrylg.js";import"./CyEoj2gn.js";import"./B-pH45DD.js";import"./HQhQkk_r.js";const Z={base:"animate-pulse",background:"bg-gray-100 dark:bg-gray-800",rounded:"rounded-md"},ee=L(k.ui.strategy,k.ui.skeleton,Z),te=y({inheritAttrs:!1,props:{as:{type:String,default:"div"},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},setup(n){const{ui:t,attrs:i}=j("skeleton",z(n,"ui"),ee),d=B(()=>I(E(t.value.base,t.value.background,t.value.rounded),n.class));return{ui:t,attrs:i,skeletonClass:d}}});function se(n,t,i,d,c,_){return u(),m(N(n.as),M({class:n.skeletonClass},n.attrs),null,16,["class"])}const oe=O(te,[["render",se]]),ne={class:"col-span-1"},ae={class:"col-span-5"},le=y({__name:"SkeletonDiv",props:{rows:{type:Number,default:3}},setup(n){const t=n;return(i,d)=>{const c=oe;return u(!0),h(G,null,q(t.rows,_=>(u(),h("div",{key:_,class:"flex grid grid-cols-6 gap-3 mb-3"},[a("div",ne,[l(c,{class:"h-4"})]),a("div",ae,[l(c,{class:"h-4 w-[300px]"})])]))),128)}}}),re={class:"my-8"},ie={class:"flex grid grid-cols-12 gap-3 mt-8"},ce={class:"col-span-2"},ue={class:"col-span-2"},de={class:"px-3"},_e={class:"col-span-2"},pe={class:"px-3"},Se=y({__name:"info",async setup(n){let t,i;const d=X(),c=K(),_=Q(),g=new Date,s=H({region:_.value.region,start:new Date(g.getFullYear(),g.getMonth(),1).toISOString().slice(0,10),end:g.toISOString().slice(0,10)}),{refresh:f,data:w,status:$}=([t,i]=J(async()=>Y("statistics",async()=>{await d(`${W}/information`,{params:{start:s.value.start,end:s.value.end,region:s.value.region}})})),t=await t,i(),t);return(me,o)=>{const x=V,S=le,C=P,D=R,v=A,b=F,U=T;return u(),m(U,null,{default:p(()=>[l(x,{div:"py-1",header:`Информация по региону ${e(s).region.toLocaleUpperCase()} за период с ${new Date(e(s).start).toLocaleDateString()} г. по ${new Date(e(s).end).toLocaleDateString()} г.`},null,8,["header"]),a("div",re,[e($)==="pending"?(u(),m(S,{key:0,rows:4})):(u(),m(C,{key:1,rows:e(w),columns:[{key:"conclusion",label:"Решение"},{key:"count",label:"Количество"}]},null,8,["rows"])),a("div",ie,[a("div",ce,[l(v,{class:"mb-3",size:"md",label:"Регион"},{default:p(()=>[l(D,{modelValue:e(s).region,"onUpdate:modelValue":o[0]||(o[0]=r=>e(s).region=r),disable:e(_).region!=e(c).classes.value.regions.main,options:Object.values(e(c).classes.value.regions),onChange:o[1]||(o[1]=r=>e(f)())},null,8,["modelValue","disable","options"])]),_:1})]),a("div",ue,[a("div",de,[l(v,{size:"md",label:"Начало периода"},{default:p(()=>[l(b,{modelValue:e(s).start,"onUpdate:modelValue":o[2]||(o[2]=r=>e(s).start=r),type:"date",onChange:o[3]||(o[3]=r=>e(f)())},null,8,["modelValue"])]),_:1})])]),a("div",_e,[a("div",pe,[l(v,{size:"md",label:"Конец периода"},{default:p(()=>[l(b,{modelValue:e(s).end,"onUpdate:modelValue":o[4]||(o[4]=r=>e(s).end=r),type:"date",onChange:o[5]||(o[5]=r=>e(f)())},null,8,["modelValue"])]),_:1})])])])])]),_:1})}}});export{Se as default};
