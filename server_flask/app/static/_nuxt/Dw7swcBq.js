import{u as P,b as Z,a as K}from"./DvJ7HPBa.js";import{m as I,aj as Q,f as V,_ as F,d as w,j as N,t as B,r as x,N as W,T as O,a8 as X,af as Y,k as q,l as D,q as T,o as _,c as S,b as j,z as A,s as ee,x as ae,ak as te,v as C,e as p,a as l,i as le,u as n,D as oe,al as ne,F as se,C as re}from"./B8dkklNN.js";import{_ as ue}from"./CxDeDL45.js";import{_ as ie}from"./CaecZw4b.js";import{a as de}from"./wK6jobyL.js";const me={base:"animate-pulse",background:"bg-gray-100 dark:bg-gray-800",rounded:"rounded-md"},g=I(V.ui.strategy,V.ui.textarea,Q),pe=w({inheritAttrs:!1,props:{modelValue:{type:[String,Number],default:""},id:{type:String,default:null},name:{type:String,default:null},placeholder:{type:String,default:null},required:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},rows:{type:Number,default:3},maxrows:{type:Number,default:0},autoresize:{type:Boolean,default:!1},autofocus:{type:Boolean,default:!1},autofocusDelay:{type:Number,default:100},resize:{type:Boolean,default:!1},padded:{type:Boolean,default:!0},size:{type:String,default:null,validator(e){return Object.keys(g.size).includes(e)}},color:{type:String,default:()=>g.default.color,validator(e){return[...V.ui.colors,...Object.keys(g.color)].includes(e)}},variant:{type:String,default:()=>g.default.variant,validator(e){return[...Object.keys(g.variant),...Object.values(g.color).flatMap(s=>Object.keys(s))].includes(e)}},textareaClass:{type:String,default:null},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})},modelModifiers:{type:Object,default:()=>({})}},emits:["update:modelValue","blur","change"],setup(e,{emit:s}){const{ui:i,attrs:y}=N("textarea",B(e,"ui"),g,B(e,"class")),{emitFormBlur:a,emitFormInput:f,inputId:c,color:h,size:z,name:d}=P(e,g),t=x(W({},e.modelModifiers,{trim:!1,lazy:!1,number:!1})),u=x(null),m=()=>{var r;e.autofocus&&((r=u.value)==null||r.focus())},v=()=>{if(e.autoresize){if(!u.value)return;u.value.rows=e.rows;const r=u.value.style.overflow;u.value.style.overflow="hidden";const b=window.getComputedStyle(u.value),k=parseInt(b.paddingTop),E=parseInt(b.paddingBottom),H=k+E,J=parseInt(b.lineHeight),{scrollHeight:L}=u.value,M=(L-H)/J;M>e.rows&&(u.value.rows=e.maxrows?Math.min(M,e.maxrows):M),u.value.style.overflow=r}},$=r=>{t.value.trim&&(r=r.trim()),t.value.number&&(r=te(r)),s("update:modelValue",r),f()},U=r=>{v(),t.value.lazy||$(r.target.value)},o=r=>{const b=r.target.value;s("change",b),t.value.lazy&&$(b),t.value.trim&&(r.target.value=b.trim())},G=r=>{s("blur",r),a()};O(()=>{setTimeout(()=>{m()},e.autofocusDelay)}),X(()=>e.modelValue,()=>{Y(v)}),O(()=>{setTimeout(()=>{m(),v()},100)});const R=q(()=>{var b,k;const r=((k=(b=i.value.color)==null?void 0:b[h.value])==null?void 0:k[e.variant])||i.value.variant[e.variant];return D(T(i.value.base,i.value.form,i.value.rounded,i.value.placeholder,i.value.size[z.value],e.padded?i.value.padding[z.value]:"p-0",r==null?void 0:r.replaceAll("{color}",h.value),!e.resize&&"resize-none"),e.textareaClass)});return{ui:i,attrs:y,name:d,inputId:c,textarea:u,textareaClass:R,onInput:U,onChange:o,onBlur:G}}}),ce=["id","value","name","rows","required","disabled","placeholder"];function fe(e,s,i,y,a,f){return _(),S("div",{class:ae(e.ui.wrapper)},[j("textarea",A({id:e.inputId,ref:"textarea",value:e.modelValue,name:e.name,rows:e.rows,required:e.required,disabled:e.disabled,placeholder:e.placeholder,class:e.textareaClass},e.attrs,{onInput:s[0]||(s[0]=(...c)=>e.onInput&&e.onInput(...c)),onBlur:s[1]||(s[1]=(...c)=>e.onBlur&&e.onBlur(...c)),onChange:s[2]||(s[2]=(...c)=>e.onChange&&e.onChange(...c))}),null,16,ce),ee(e.$slots,"default")],2)}const be=F(pe,[["render",fe]]),ye=w({__name:"BtnGroup",emits:["cancel"],setup(e,{emit:s}){const i=s;return(y,a)=>{const f=le,c=ue;return _(),C(c,{class:"mt-3",size:"md",orientation:"horizontal"},{default:p(()=>[l(f,{label:"Принять",color:"green",variant:"outline",type:"submit"}),l(f,{label:"Отмена",color:"red",variant:"outline",onClick:a[0]||(a[0]=h=>i("cancel"))})]),_:1})}}}),Ue=w({__name:"ResumeForm",props:{resume:{type:Object,default:{}}},emits:["cancel","update"],setup(e,{emit:s}){const i=s,a=B(e.resume);a.value.birthday=a.value.birthday?new Date(a.value.birthday).toISOString().slice(0,10):"";function f(){i("cancel"),c()}function c(){Object.assign(a.value,{surname:"",firstname:"",patronymic:"",birthday:"",birthplace:"",citizenship:"",dual:"",inn:"",snils:"",marital:"",addition:""})}const h=d=>{const t=[];return d.surname&&!d.surname.match(/^[а-яёЁА-Я-\s]+$/)&&t.push({path:"surname",message:"Поле должно содержать только русские буквы"}),d.firstname&&!d.firstname.match(/^[а-яёЁА-Я-\s]+$/)&&t.push({path:"firstname",message:"Поле должно содержать только русские буквы"}),d.patronymic&&!d.patronymic.match(/^[а-яёЁА-Я-\s]+$/)&&t.push({path:"patronymic",message:"Поле должно содержать только русские буквы"}),Object.prototype.toString.call(d.birthday)||(console.log(d.birthday),t.push({path:"birthday",message:"Поле должно содержать дату"})),new Date(d.birthday)>new Date&&(console.log(d.birthday),t.push({path:"birthday",message:"Поле должно содержать корректную дату"})),d.snils&&!d.snils.match(/^[0-9]{11}$/)&&t.push({path:"snils",message:"Поле должно содержать 11 цифр"}),d.inn&&!d.inn.match(/^[0-9]{12}$/)&&t.push({path:"inn",message:"Поле должно содержать 12 цифр"}),d.designation&&!d.designation.match(/^([a-zA-Z]:)?[/\\][\w.-]+(\/|\\)[\w.-]+$/)&&t.push({path:"designation",message:"Поле должно содержать корректный путь"}),t};async function z(){i("update",a.value),c()}return(d,t)=>{const u=Z,m=K,v=be,$=ye,U=ie;return _(),C(U,{state:n(a),validate:h,onSubmit:oe(z,["prevent"])},{default:p(()=>[l(m,{class:"mb-3",label:"Фамилия",name:"surname"},{default:p(()=>[l(u,{modelValue:n(a).surname,"onUpdate:modelValue":t[0]||(t[0]=o=>n(a).surname=o),modelModifiers:{trim:!0},required:"",placeholder:"Фамилия"},null,8,["modelValue"])]),_:1}),l(m,{class:"mb-3",label:"Имя",name:"firstname"},{default:p(()=>[l(u,{modelValue:n(a).firstname,"onUpdate:modelValue":t[1]||(t[1]=o=>n(a).firstname=o),modelModifiers:{trim:!0},required:"",placeholder:"Имя"},null,8,["modelValue"])]),_:1}),l(m,{class:"mb-3",label:"Отчество",name:"patronymic"},{default:p(()=>[l(u,{modelValue:n(a).patronymic,"onUpdate:modelValue":t[2]||(t[2]=o=>n(a).patronymic=o),modelModifiers:{trim:!0},placeholder:"Отчество"},null,8,["modelValue"])]),_:1}),l(m,{class:"mb-3",label:"Дата рождения",name:"birthday"},{default:p(()=>[l(u,{modelValue:n(a).birthday,"onUpdate:modelValue":t[3]||(t[3]=o=>n(a).birthday=o),required:"",type:"date"},null,8,["modelValue"])]),_:1}),l(m,{class:"mb-3",label:"Место рождения"},{default:p(()=>[l(v,{modelValue:n(a).birthplace,"onUpdate:modelValue":t[4]||(t[4]=o=>n(a).birthplace=o),modelModifiers:{trim:!0,lazy:!0},placeholder:"Место рождения"},null,8,["modelValue"])]),_:1}),l(m,{class:"mb-3",label:"Гражданство",name:"citizenship"},{default:p(()=>[l(u,{modelValue:n(a).citizenship,"onUpdate:modelValue":t[5]||(t[5]=o=>n(a).citizenship=o),modelModifiers:{trim:!0},placeholder:"Гражданство"},null,8,["modelValue"])]),_:1}),l(m,{class:"mb-3",label:"Двойное гражданство",name:"dual"},{default:p(()=>[l(u,{modelValue:n(a).dual,"onUpdate:modelValue":t[6]||(t[6]=o=>n(a).dual=o),modelModifiers:{trim:!0},placeholder:"Двойное гражданство"},null,8,["modelValue"])]),_:1}),l(m,{class:"mb-3",label:"СНИЛС",name:"snils"},{default:p(()=>[l(u,{modelValue:n(a).snils,"onUpdate:modelValue":t[7]||(t[7]=o=>n(a).snils=o),modelModifiers:{trim:!0,lazy:!0},placeholder:"СНИЛС"},null,8,["modelValue"])]),_:1}),l(m,{class:"mb-3",label:"ИНН",name:"inn"},{default:p(()=>[l(u,{modelValue:n(a).inn,"onUpdate:modelValue":t[8]||(t[8]=o=>n(a).inn=o),modelModifiers:{trim:!0,lazy:!0},placeholder:"ИНН"},null,8,["modelValue"])]),_:1}),l(m,{class:"mb-3",label:"Семейное положение",name:"marital"},{default:p(()=>[l(v,{modelValue:n(a).marital,"onUpdate:modelValue":t[9]||(t[9]=o=>n(a).marital=o),modelModifiers:{trim:!0,lazy:!0},placeholder:"Семейное положение"},null,8,["modelValue"])]),_:1}),l(m,{class:"mb-3",label:"Дополнительно"},{default:p(()=>[l(v,{modelValue:n(a).addition,"onUpdate:modelValue":t[10]||(t[10]=o=>n(a).addition=o),modelModifiers:{trim:!0,lazy:!0},placeholder:"Дополнительно"},null,8,["modelValue"])]),_:1}),l(m,{help:"Следует использовать только в режиме редактирования иначе данные будут перезаписаны",class:"mb-3",label:"Материалы",name:"destination"},{default:p(()=>[l(u,{modelValue:n(a).destination,"onUpdate:modelValue":t[11]||(t[11]=o=>n(a).destination=o),modelModifiers:{trim:!0,lazy:!0},placeholder:"Материалы"},null,8,["modelValue"])]),_:1}),l($,{onCancel:f})]),_:1},8,["state"])}}}),ge=I(V.ui.strategy,V.ui.skeleton,me),ve=w({inheritAttrs:!1,props:{as:{type:String,default:"div"},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},setup(e){const{ui:s,attrs:i}=N("skeleton",B(e,"ui"),ge),y=q(()=>D(T(s.value.base,s.value.background,s.value.rounded),e.class));return{ui:s,attrs:i,skeletonClass:y}}});function _e(e,s,i,y,a,f){return _(),C(ne(e.as),A({class:e.skeletonClass},e.attrs),null,16,["class"])}const he=F(ve,[["render",_e]]),Ve={class:"col-span-1"},we={class:"col-span-5"},Me=w({__name:"SkeletonDiv",props:{rows:{type:Number,default:3}},setup(e){const s=e;return(i,y)=>{const a=he,f=de;return _(),C(f,null,{default:p(()=>[(_(!0),S(se,null,re(s.rows,c=>(_(),S("div",{key:c,class:"flex grid grid-cols-6 gap-3 mb-3"},[j("div",Ve,[l(a,{class:"h-4"})]),j("div",we,[l(a,{class:"h-4 w-[300px]"})])]))),128))]),_:1})}}});export{Ue as _,Me as a,ye as b,be as c};
