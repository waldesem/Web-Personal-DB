import{m as A,k as w,_ as N,g as S,s as G,v as C,x as D,y as R,z as E,o as V,i as F,w as i,c as _,B as $,A as B,C as j,D as H,ao as X,ap as x,r as q,a4 as K,L as T,Q as W,X as Y,a as Z,aq as ee,b as o,q as ae,J as te,j as s,G as le}from"./IZgRZ49_.js";import{c as oe,b as re,a as ne}from"./Dx6l17WP.js";import{_ as se}from"./BxiBspJ_.js";import{_ as ue}from"./CsOuIby2.js";import{d as de,b as ie,u as me}from"./BGhzAh6M.js";const pe={base:"",background:"bg-white dark:bg-gray-900",divide:"divide-y divide-gray-200 dark:divide-gray-800",ring:"ring-1 ring-gray-200 dark:ring-gray-800",rounded:"rounded-lg",shadow:"shadow",body:{base:"",background:"",padding:"px-4 py-5 sm:p-6"},header:{base:"",background:"",padding:"px-4 py-5 sm:px-6"},footer:{base:"",background:"",padding:"px-4 py-4 sm:px-6"}},ce=A(w.ui.strategy,w.ui.card,pe),fe=S({inheritAttrs:!1,props:{as:{type:String,default:"div"},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},setup(e){const{ui:l,attrs:u}=G("card",C(e,"ui"),ce),c=D(()=>R(E(l.value.base,l.value.rounded,l.value.divide,l.value.ring,l.value.shadow,l.value.background),e.class));return{ui:l,attrs:u,cardClass:c}}});function be(e,l,u,c,f,b){return V(),F(X(e.$attrs.onSubmit?"form":e.as),H({class:e.cardClass},e.attrs),{default:i(()=>[e.$slots.header?(V(),_("div",{key:0,class:$([e.ui.header.base,e.ui.header.padding,e.ui.header.background])},[B(e.$slots,"header")],2)):j("",!0),e.$slots.default?(V(),_("div",{key:1,class:$([e.ui.body.base,e.ui.body.padding,e.ui.body.background])},[B(e.$slots,"default")],2)):j("",!0),e.$slots.footer?(V(),_("div",{key:2,class:$([e.ui.footer.base,e.ui.footer.padding,e.ui.footer.background])},[B(e.$slots,"footer")],2)):j("",!0)]),_:3},16,["class"])}const Be=N(fe,[["render",be]]),v=A(w.ui.strategy,w.ui.textarea,x),ye=S({inheritAttrs:!1,props:{modelValue:{type:[String,Number],default:""},id:{type:String,default:null},name:{type:String,default:null},placeholder:{type:String,default:null},required:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},rows:{type:Number,default:3},maxrows:{type:Number,default:0},autoresize:{type:Boolean,default:!1},autofocus:{type:Boolean,default:!1},autofocusDelay:{type:Number,default:100},resize:{type:Boolean,default:!1},padded:{type:Boolean,default:!0},size:{type:String,default:null,validator(e){return Object.keys(v.size).includes(e)}},color:{type:String,default:()=>v.default.color,validator(e){return[...w.ui.colors,...Object.keys(v.color)].includes(e)}},variant:{type:String,default:()=>v.default.variant,validator(e){return[...Object.keys(v.variant),...Object.values(v.color).flatMap(l=>Object.keys(l))].includes(e)}},textareaClass:{type:String,default:null},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})},modelModifiers:{type:Object,default:()=>({})}},emits:["update:modelValue","blur","change"],setup(e,{emit:l}){const{ui:u,attrs:c}=G("textarea",C(e,"ui"),v,C(e,"class")),{emitFormBlur:f,emitFormInput:b,inputId:m,color:a,size:z,name:M}=oe(e,v),y=q(K({},e.modelModifiers,{trim:!1,lazy:!1,number:!1})),t=q(null),p=()=>{var n;e.autofocus&&((n=t.value)==null||n.focus())},d=()=>{if(e.autoresize){if(!t.value)return;t.value.rows=e.rows;const n=window.getComputedStyle(t.value),g=parseInt(n.paddingTop),k=parseInt(n.paddingBottom),P=g+k,L=parseInt(n.lineHeight),{scrollHeight:Q}=t.value,O=(Q-P)/L;O>e.rows&&(t.value.rows=e.maxrows?Math.min(O,e.maxrows):O)}},h=n=>{y.value.trim&&(n=n.trim()),y.value.number&&(n=ee(n)),l("update:modelValue",n),b()},U=n=>{d(),y.value.lazy||h(n.target.value)},I=n=>{const g=n.target.value;l("change",g),y.value.lazy&&h(g),y.value.trim&&(n.target.value=g.trim())},r=n=>{l("blur",n),f()};T(()=>{setTimeout(()=>{p()},e.autofocusDelay)}),W(()=>e.modelValue,()=>{Y(d)}),T(()=>{setTimeout(()=>{p(),d()},100)});const J=D(()=>{var g,k;const n=((k=(g=u.value.color)==null?void 0:g[a.value])==null?void 0:k[e.variant])||u.value.variant[e.variant];return R(E(u.value.base,u.value.form,u.value.rounded,u.value.placeholder,u.value.size[z.value],e.padded?u.value.padding[z.value]:"p-0",n==null?void 0:n.replaceAll("{color}",a.value),!e.resize&&"resize-none"),e.textareaClass)});return{ui:u,attrs:c,name:M,inputId:m,textarea:t,textareaClass:J,onInput:U,onChange:I,onBlur:r}}}),ge=["id","value","name","rows","required","disabled","placeholder"];function ve(e,l,u,c,f,b){return V(),_("div",{class:$(e.ui.wrapper)},[Z("textarea",H({id:e.inputId,ref:"textarea",value:e.modelValue,name:e.name,rows:e.rows,required:e.required,disabled:e.disabled,placeholder:e.placeholder,class:e.textareaClass},e.attrs,{onInput:l[0]||(l[0]=(...m)=>e.onInput&&e.onInput(...m)),onBlur:l[1]||(l[1]=(...m)=>e.onBlur&&e.onBlur(...m)),onChange:l[2]||(l[2]=(...m)=>e.onChange&&e.onChange(...m))}),null,16,ge),B(e.$slots,"default")],2)}const Ve=N(ye,[["render",ve]]),he=S({__name:"BtnGroup",emits:["cancel"],setup(e,{emit:l}){const u=l;return(c,f)=>{const b=ae,m=se;return V(),F(m,{class:"mt-3",size:"md",orientation:"horizontal"},{default:i(()=>[o(b,{label:"Принять",color:"green",variant:"outline",type:"submit"}),o(b,{label:"Отмена",color:"red",variant:"outline",onClick:f[0]||(f[0]=a=>u("cancel"))})]),_:1})}}}),Ce=S({__name:"ResumeForm",props:{action:{type:String,default:"create"},resume:{type:Object,default:{}}},emits:["cancel"],setup(e,{emit:l}){const u=me(),c=de(),f=te(),b=l,m=e,a=C(m.resume);a.value.birthday=a.value.birthday?new Date(a.value.birthday).toISOString().slice(0,10):"";function z(){Object.assign(a.value,{surname:"",firstname:"",patronymic:"",birthday:"",birthplace:"",citizenship:"",dual:"",inn:"",snils:"",marital:"",addition:""}),b("cancel")}async function M(){if(m.action=="create"){const y=await u(`${ie}/resume`,{method:"POST",body:a.value});console.log(y),f.add({icon:"i-heroicons-check-circle",title:"Информация",description:"Данные успешно добавлены",color:"green"})}else c.updateItem("persons",a.value);z()}return(y,t)=>{const p=re,d=ne,h=Ve,U=he,I=ue;return V(),F(I,{state:s(a),onSubmit:le(M,["prevent"])},{default:i(()=>[o(d,{class:"mb-3",label:"Фамилия"},{default:i(()=>[o(p,{modelValue:s(a).surname,"onUpdate:modelValue":t[0]||(t[0]=r=>s(a).surname=r),modelModifiers:{trim:!0,lazy:!0},required:"",placeholder:"Фамилия"},null,8,["modelValue"])]),_:1}),o(d,{class:"mb-3",label:"Имя"},{default:i(()=>[o(p,{modelValue:s(a).firstname,"onUpdate:modelValue":t[1]||(t[1]=r=>s(a).firstname=r),modelModifiers:{trim:!0,lazy:!0},required:"",placeholder:"Имя"},null,8,["modelValue"])]),_:1}),o(d,{class:"mb-3",label:"Отчество"},{default:i(()=>[o(p,{modelValue:s(a).patronymic,"onUpdate:modelValue":t[2]||(t[2]=r=>s(a).patronymic=r),modelModifiers:{trim:!0,lazy:!0},placeholder:"Отчество"},null,8,["modelValue"])]),_:1}),o(d,{class:"mb-3",label:"Дата рождения"},{default:i(()=>[o(p,{modelValue:s(a).birthday,"onUpdate:modelValue":t[3]||(t[3]=r=>s(a).birthday=r),required:"",type:"date"},null,8,["modelValue"])]),_:1}),o(d,{class:"mb-3",label:"Место рождения"},{default:i(()=>[o(h,{modelValue:s(a).birthplace,"onUpdate:modelValue":t[4]||(t[4]=r=>s(a).birthplace=r),modelModifiers:{trim:!0,lazy:!0},placeholder:"Место рождения"},null,8,["modelValue"])]),_:1}),o(d,{class:"mb-3",label:"Гражданство"},{default:i(()=>[o(p,{modelValue:s(a).citizenship,"onUpdate:modelValue":t[5]||(t[5]=r=>s(a).citizenship=r),modelModifiers:{trim:!0,lazy:!0},placeholder:"Гражданство"},null,8,["modelValue"])]),_:1}),o(d,{class:"mb-3",label:"Двойное гражданство"},{default:i(()=>[o(p,{modelValue:s(a).dual,"onUpdate:modelValue":t[6]||(t[6]=r=>s(a).dual=r),modelModifiers:{trim:!0,lazy:!0},placeholder:"Двойное гражданство"},null,8,["modelValue"])]),_:1}),o(d,{class:"mb-3",label:"СНИЛС"},{default:i(()=>[o(p,{modelValue:s(a).snils,"onUpdate:modelValue":t[7]||(t[7]=r=>s(a).snils=r),modelModifiers:{trim:!0,lazy:!0},placeholder:"СНИЛС"},null,8,["modelValue"])]),_:1}),o(d,{class:"mb-3",label:"ИНН"},{default:i(()=>[o(p,{modelValue:s(a).inn,"onUpdate:modelValue":t[8]||(t[8]=r=>s(a).inn=r),modelModifiers:{trim:!0,lazy:!0},placeholder:"ИНН"},null,8,["modelValue"])]),_:1}),o(d,{class:"mb-3",label:"Семейное положение"},{default:i(()=>[o(h,{modelValue:s(a).marital,"onUpdate:modelValue":t[9]||(t[9]=r=>s(a).marital=r),modelModifiers:{trim:!0,lazy:!0},placeholder:"Семейное положение"},null,8,["modelValue"])]),_:1}),o(d,{class:"mb-3",label:"Дополнительно"},{default:i(()=>[o(h,{modelValue:s(a).addition,"onUpdate:modelValue":t[10]||(t[10]=r=>s(a).addition=r),modelModifiers:{trim:!0,lazy:!0},placeholder:"Дополнительно"},null,8,["modelValue"])]),_:1}),o(U,{onCancel:z})]),_:1},8,["state"])}}});export{Be as _,Ce as a,he as b,Ve as c};
