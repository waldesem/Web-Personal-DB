import{u as Fe,_ as Le,b as Oe,a as Ne}from"./CX3kPmFP.js";import{o as I,t as xe,a as Ue,i as W,A as Q,I as se,s as je,d as Be,N as de,b as S,c as Ve,l as ze,_ as He}from"./BSOACscD.js";import{N as X,r as D,x as P,g as x,K as Ke,L as be,O as qe,R as j,P as Je,m as he,k as G,_ as ye,s as _e,v as re,y as we,z as ke,o as M,c as L,A as ue,d as U,t as N,D as B,aj as We,l as Ie,n as Me,$ as Ge,M as ce,ak as Qe,S as q,i as O,w,b as k,B as R,a as E,T as Xe,a5 as Se,C as V,F as ee,E as te,al as Ye,e as $e,am as Ze,h as et,j as _,G as pe,q as tt}from"./-i46ahqV.js";import{_ as nt}from"./Dwy2aisJ.js";import{c as De,w as Te,h as Pe,i as at,v as lt,N as fe,_ as Ce,O as ot}from"./yC3XuBp2.js";import{_ as rt}from"./BdOqOSkm.js";import{_ as ut}from"./Y0SGDarw.js";import{_ as st}from"./Ci3NLuw9.js";import{_ as it}from"./Ch2U0aYy.js";import{a as dt,b as ne,u as ae}from"./DwuX9ns-.js";import"./DtOPAnGk.js";import"./DX8-RwSb.js";import"./B44f1S5t.js";const ct={base:"inline-flex items-center justify-center text-gray-900 dark:text-white",padding:"px-1",size:{xs:"h-4 min-w-[16px] text-[10px]",sm:"h-5 min-w-[20px] text-[11px]",md:"h-6 min-w-[24px] text-[12px]"},rounded:"rounded",font:"font-medium font-sans",background:"bg-gray-100 dark:bg-gray-800",ring:"ring-1 ring-gray-300 dark:ring-gray-700 ring-inset",default:{size:"sm"}};function pt(e,r){let l;return function(...s){l&&clearTimeout(l),l=setTimeout(()=>{e.apply(this,s),l=void 0},r)}}function ft(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function mt(){return/Android/gi.test(window.navigator.userAgent)}function vt(){return ft()||mt()}function J(e,r,l){De.isServer||X(s=>{document.addEventListener(e,r,l),s(()=>document.removeEventListener(e,r,l))})}function gt(e,r,l){De.isServer||X(s=>{window.addEventListener(e,r,l),s(()=>window.removeEventListener(e,r,l))})}function bt(e,r,l=P(()=>!0)){function s(t,n){if(!l.value||t.defaultPrevented)return;let o=n(t);if(o===null||!o.getRootNode().contains(o))return;let c=function g(b){return typeof b=="function"?g(b()):Array.isArray(b)||b instanceof Set?b:[b]}(e);for(let g of c){if(g===null)continue;let b=g instanceof HTMLElement?g:I(g);if(b!=null&&b.contains(o)||t.composed&&t.composedPath().includes(b))return}return!Te(o,Pe.Loose)&&o.tabIndex!==-1&&t.preventDefault(),r(t,o)}let d=D(null);J("pointerdown",t=>{var n,o;l.value&&(d.value=((o=(n=t.composedPath)==null?void 0:n.call(t))==null?void 0:o[0])||t.target)},!0),J("mousedown",t=>{var n,o;l.value&&(d.value=((o=(n=t.composedPath)==null?void 0:n.call(t))==null?void 0:o[0])||t.target)},!0),J("click",t=>{vt()||d.value&&(s(t,()=>d.value),d.value=null)},!0),J("touchend",t=>s(t,()=>t.target instanceof HTMLElement?t.target:null),!0),gt("blur",t=>s(t,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}function me(e){return[e.screenX,e.screenY]}function ht(){let e=D([-1,-1]);return{wasMoved(r){let l=me(r);return e.value[0]===l[0]&&e.value[1]===l[1]?!1:(e.value=l,!0)},update(r){e.value=me(r)}}}function yt({container:e,accept:r,walk:l,enabled:s}){X(()=>{let d=e.value;if(!d||s!==void 0&&!s.value)return;let t=at(e);if(!t)return;let n=Object.assign(c=>r(c),{acceptNode:r}),o=t.createTreeWalker(d,NodeFilter.SHOW_ELEMENT,n,!1);for(;o.nextNode();)l(o.currentNode)})}function _t(e){throw new Error("Unexpected object: "+e)}var T=(e=>(e[e.First=0]="First",e[e.Previous=1]="Previous",e[e.Next=2]="Next",e[e.Last=3]="Last",e[e.Specific=4]="Specific",e[e.Nothing=5]="Nothing",e))(T||{});function wt(e,r){let l=r.resolveItems();if(l.length<=0)return null;let s=r.resolveActiveIndex(),d=s??-1;switch(e.focus){case 0:{for(let t=0;t<l.length;++t)if(!r.resolveDisabled(l[t],t,l))return t;return s}case 1:{d===-1&&(d=l.length);for(let t=d-1;t>=0;--t)if(!r.resolveDisabled(l[t],t,l))return t;return s}case 2:{for(let t=d+1;t<l.length;++t)if(!r.resolveDisabled(l[t],t,l))return t;return s}case 3:{for(let t=l.length-1;t>=0;--t)if(!r.resolveDisabled(l[t],t,l))return t;return s}case 4:{for(let t=0;t<l.length;++t)if(r.resolveId(l[t],t,l)===e.id)return t;return s}case 5:return null;default:_t(e)}}let ve=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function ge(e){var r,l;let s=(r=e.innerText)!=null?r:"",d=e.cloneNode(!0);if(!(d instanceof HTMLElement))return s;let t=!1;for(let o of d.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))o.remove(),t=!0;let n=t?(l=d.innerText)!=null?l:"":s;return ve.test(n)&&(n=n.replace(ve,"")),n}function kt(e){let r=e.getAttribute("aria-label");if(typeof r=="string")return r.trim();let l=e.getAttribute("aria-labelledby");if(l){let s=l.split(" ").map(d=>{let t=document.getElementById(d);if(t){let n=t.getAttribute("aria-label");return typeof n=="string"?n.trim():ge(t).trim()}return null}).filter(Boolean);if(s.length>0)return s.join(", ")}return ge(e).trim()}function It(e){let r=D(""),l=D("");return()=>{let s=I(e);if(!s)return"";let d=s.innerText;if(r.value===d)return l.value;let t=kt(s).trim().toLowerCase();return r.value=d,l.value=t,t}}var Mt=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(Mt||{}),St=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(St||{});function $t(e){requestAnimationFrame(()=>requestAnimationFrame(e))}let Ae=Symbol("MenuContext");function Y(e){let r=Je(Ae,null);if(r===null){let l=new Error(`<${e} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(l,Y),l}return r}let Dt=x({name:"Menu",props:{as:{type:[Object,String],default:"template"}},setup(e,{slots:r,attrs:l}){let s=D(1),d=D(null),t=D(null),n=D([]),o=D(""),c=D(null),g=D(1);function b(a=i=>i){let i=c.value!==null?n.value[c.value]:null,p=ot(a(n.value.slice()),f=>I(f.dataRef.domRef)),v=i?p.indexOf(i):null;return v===-1&&(v=null),{items:p,activeItemIndex:v}}let h={menuState:s,buttonRef:d,itemsRef:t,items:n,searchQuery:o,activeItemIndex:c,activationTrigger:g,closeMenu:()=>{s.value=1,c.value=null},openMenu:()=>s.value=0,goToItem(a,i,p){let v=b(),f=wt(a===T.Specific?{focus:T.Specific,id:i}:{focus:a},{resolveItems:()=>v.items,resolveActiveIndex:()=>v.activeItemIndex,resolveId:u=>u.id,resolveDisabled:u=>u.dataRef.disabled});o.value="",c.value=f,g.value=p??1,n.value=v.items},search(a){let i=o.value!==""?0:1;o.value+=a.toLowerCase();let p=(c.value!==null?n.value.slice(c.value+i).concat(n.value.slice(0,c.value+i)):n.value).find(f=>f.dataRef.textValue.startsWith(o.value)&&!f.dataRef.disabled),v=p?n.value.indexOf(p):-1;v===-1||v===c.value||(c.value=v,g.value=1)},clearSearch(){o.value=""},registerItem(a,i){let p=b(v=>[...v,{id:a,dataRef:i}]);n.value=p.items,c.value=p.activeItemIndex,g.value=1},unregisterItem(a){let i=b(p=>{let v=p.findIndex(f=>f.id===a);return v!==-1&&p.splice(v,1),p});n.value=i.items,c.value=i.activeItemIndex,g.value=1}};return bt([d,t],(a,i)=>{var p;h.closeMenu(),Te(i,Pe.Loose)||(a.preventDefault(),(p=I(d))==null||p.focus())},P(()=>s.value===0)),Ke(Ae,h),xe(P(()=>Ue(s.value,{0:W.Open,1:W.Closed}))),()=>{let a={open:s.value===0,close:h.closeMenu};return Q({ourProps:{},theirProps:e,slot:a,slots:r,attrs:l,name:"Menu"})}}}),Tt=x({name:"MenuButton",props:{disabled:{type:Boolean,default:!1},as:{type:[Object,String],default:"button"},id:{type:String,default:null}},setup(e,{attrs:r,slots:l,expose:s}){var d;let t=(d=e.id)!=null?d:`headlessui-menu-button-${se()}`,n=Y("MenuButton");s({el:n.buttonRef,$el:n.buttonRef});function o(h){switch(h.key){case S.Space:case S.Enter:case S.ArrowDown:h.preventDefault(),h.stopPropagation(),n.openMenu(),j(()=>{var a;(a=I(n.itemsRef))==null||a.focus({preventScroll:!0}),n.goToItem(T.First)});break;case S.ArrowUp:h.preventDefault(),h.stopPropagation(),n.openMenu(),j(()=>{var a;(a=I(n.itemsRef))==null||a.focus({preventScroll:!0}),n.goToItem(T.Last)});break}}function c(h){switch(h.key){case S.Space:h.preventDefault();break}}function g(h){e.disabled||(n.menuState.value===0?(n.closeMenu(),j(()=>{var a;return(a=I(n.buttonRef))==null?void 0:a.focus({preventScroll:!0})})):(h.preventDefault(),n.openMenu(),$t(()=>{var a;return(a=I(n.itemsRef))==null?void 0:a.focus({preventScroll:!0})})))}let b=je(P(()=>({as:e.as,type:r.type})),n.buttonRef);return()=>{var h;let a={open:n.menuState.value===0},{...i}=e,p={ref:n.buttonRef,id:t,type:b.value,"aria-haspopup":"menu","aria-controls":(h=I(n.itemsRef))==null?void 0:h.id,"aria-expanded":n.menuState.value===0,onKeydown:o,onKeyup:c,onClick:g};return Q({ourProps:p,theirProps:i,slot:a,attrs:r,slots:l,name:"MenuButton"})}}}),Pt=x({name:"MenuItems",props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},id:{type:String,default:null}},setup(e,{attrs:r,slots:l,expose:s}){var d;let t=(d=e.id)!=null?d:`headlessui-menu-items-${se()}`,n=Y("MenuItems"),o=D(null);s({el:n.itemsRef,$el:n.itemsRef}),yt({container:P(()=>I(n.itemsRef)),enabled:P(()=>n.menuState.value===0),accept(a){return a.getAttribute("role")==="menuitem"?NodeFilter.FILTER_REJECT:a.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(a){a.setAttribute("role","none")}});function c(a){var i;switch(o.value&&clearTimeout(o.value),a.key){case S.Space:if(n.searchQuery.value!=="")return a.preventDefault(),a.stopPropagation(),n.search(a.key);case S.Enter:if(a.preventDefault(),a.stopPropagation(),n.activeItemIndex.value!==null){let p=n.items.value[n.activeItemIndex.value];(i=I(p.dataRef.domRef))==null||i.click()}n.closeMenu(),Ce(I(n.buttonRef));break;case S.ArrowDown:return a.preventDefault(),a.stopPropagation(),n.goToItem(T.Next);case S.ArrowUp:return a.preventDefault(),a.stopPropagation(),n.goToItem(T.Previous);case S.Home:case S.PageUp:return a.preventDefault(),a.stopPropagation(),n.goToItem(T.First);case S.End:case S.PageDown:return a.preventDefault(),a.stopPropagation(),n.goToItem(T.Last);case S.Escape:a.preventDefault(),a.stopPropagation(),n.closeMenu(),j(()=>{var p;return(p=I(n.buttonRef))==null?void 0:p.focus({preventScroll:!0})});break;case S.Tab:a.preventDefault(),a.stopPropagation(),n.closeMenu(),j(()=>lt(I(n.buttonRef),a.shiftKey?fe.Previous:fe.Next));break;default:a.key.length===1&&(n.search(a.key),o.value=setTimeout(()=>n.clearSearch(),350));break}}function g(a){switch(a.key){case S.Space:a.preventDefault();break}}let b=Be(),h=P(()=>b!==null?(b.value&W.Open)===W.Open:n.menuState.value===0);return()=>{var a,i;let p={open:n.menuState.value===0},{...v}=e,f={"aria-activedescendant":n.activeItemIndex.value===null||(a=n.items.value[n.activeItemIndex.value])==null?void 0:a.id,"aria-labelledby":(i=I(n.buttonRef))==null?void 0:i.id,id:t,onKeydown:c,onKeyup:g,role:"menu",tabIndex:0,ref:n.itemsRef};return Q({ourProps:f,theirProps:v,slot:p,attrs:r,slots:l,features:de.RenderStrategy|de.Static,visible:h.value,name:"MenuItems"})}}}),Ct=x({name:"MenuItem",inheritAttrs:!1,props:{as:{type:[Object,String],default:"template"},disabled:{type:Boolean,default:!1},id:{type:String,default:null}},setup(e,{slots:r,attrs:l,expose:s}){var d;let t=(d=e.id)!=null?d:`headlessui-menu-item-${se()}`,n=Y("MenuItem"),o=D(null);s({el:o,$el:o});let c=P(()=>n.activeItemIndex.value!==null?n.items.value[n.activeItemIndex.value].id===t:!1),g=It(o),b=P(()=>({disabled:e.disabled,get textValue(){return g()},domRef:o}));be(()=>n.registerItem(t,b)),qe(()=>n.unregisterItem(t)),X(()=>{n.menuState.value===0&&c.value&&n.activationTrigger.value!==0&&j(()=>{var u,y;return(y=(u=I(o))==null?void 0:u.scrollIntoView)==null?void 0:y.call(u,{block:"nearest"})})});function h(u){if(e.disabled)return u.preventDefault();n.closeMenu(),Ce(I(n.buttonRef))}function a(){if(e.disabled)return n.goToItem(T.Nothing);n.goToItem(T.Specific,t)}let i=ht();function p(u){i.update(u)}function v(u){i.wasMoved(u)&&(e.disabled||c.value||n.goToItem(T.Specific,t,0))}function f(u){i.wasMoved(u)&&(e.disabled||c.value&&n.goToItem(T.Nothing))}return()=>{let{disabled:u,...y}=e,$={active:c.value,disabled:u,close:n.closeMenu};return Q({ourProps:{id:t,ref:o,role:"menuitem",tabIndex:u===!0?void 0:-1,"aria-disabled":u===!0?!0:void 0,onClick:h,onFocus:a,onPointerenter:p,onMouseenter:p,onPointermove:v,onMousemove:v,onPointerleave:f,onMouseleave:f},theirProps:{...l,...y},slot:$,attrs:l,slots:r,name:"MenuItem"})}}});const le=he(G.ui.strategy,G.ui.kbd,ct),At=x({inheritAttrs:!1,props:{value:{type:String,default:null},size:{type:String,default:()=>le.default.size,validator(e){return Object.keys(le.size).includes(e)}},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},setup(e){const{ui:r,attrs:l}=_e("kbd",re(e,"ui"),le),s=P(()=>we(ke(r.value.base,r.value.size[e.size],r.value.padding,r.value.rounded,r.value.font,r.value.background,r.value.ring),e.class));return{ui:r,attrs:l,kbdClass:s}}});function Rt(e,r,l,s,d,t){return M(),L("kbd",B({class:e.kbdClass},e.attrs),[ue(e.$slots,"default",{},()=>[U(N(e.value),1)])],16)}const Re=ye(At,[["render",Rt]]),oe=he(G.ui.strategy,G.ui.dropdown,We),Et=x({components:{HMenu:Dt,HMenuButton:Tt,HMenuItems:Pt,HMenuItem:Ct,UIcon:Ie,UAvatar:Me,UKbd:Re},inheritAttrs:!1,props:{items:{type:Array,default:()=>[]},mode:{type:String,default:"click",validator:e=>["click","hover"].includes(e)},open:{type:Boolean,default:void 0},disabled:{type:Boolean,default:!1},popper:{type:Object,default:()=>({})},openDelay:{type:Number,default:()=>oe.default.openDelay},closeDelay:{type:Number,default:()=>oe.default.closeDelay},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},emits:["update:open"],setup(e,{emit:r}){const{ui:l,attrs:s}=_e("dropdown",re(e,"ui"),oe,re(e,"class")),d=P(()=>Ge(e.mode==="hover"?{offsetDistance:0}:{},e.popper,l.value.popper)),[t,n]=Ve(d.value),o=D(null);let c=null,g=null;be(()=>{var y,$;const f=(y=t.value)==null?void 0:y.$.provides;if(!f)return;const u=Object.getOwnPropertySymbols(f);o.value=u.length&&f[u[0]],e.open&&(($=o.value)==null||$.openMenu())});const b=P(()=>{var $,F,C;if(e.mode!=="hover")return{};const f=(($=e.popper)==null?void 0:$.offsetDistance)||((F=l.value.popper)==null?void 0:F.offsetDistance)||8,u=(C=d.value.placement)==null?void 0:C.split("-")[0],y=`${f}px`;return u==="top"||u==="bottom"?{paddingTop:y,paddingBottom:y}:u==="left"||u==="right"?{paddingLeft:y,paddingRight:y}:{paddingTop:y,paddingBottom:y,paddingLeft:y,paddingRight:y}});function h(f){!f.cancelable||!o.value||(o.value.menuState===0?o.value.closeMenu():o.value.openMenu())}function a(){e.mode!=="hover"||!o.value||(g&&(clearTimeout(g),g=null),o.value.menuState!==0&&(c=c||setTimeout(()=>{o.value.openMenu&&o.value.openMenu(),c=null},e.openDelay)))}function i(){e.mode!=="hover"||!o.value||(c&&(clearTimeout(c),c=null),o.value.menuState!==1&&(g=g||setTimeout(()=>{o.value.closeMenu&&o.value.closeMenu(),g=null},e.closeDelay)))}function p(f,u,{href:y,navigate:$,close:F,isExternal:C}){u.click&&u.click(f),y&&!C&&($(f),F())}ce(()=>e.open,(f,u)=>{o.value&&(u===void 0||f===u||(f?o.value.openMenu():o.value.closeMenu()))}),ce(()=>{var f;return(f=o.value)==null?void 0:f.menuState},(f,u)=>{u===void 0||f===u||r("update:open",f===0)});const v=$e;return ze(()=>Fe("$ctlRmIk4j0")),{ui:l,attrs:s,popper:d,trigger:t,container:n,containerStyle:b,onTouchStart:h,onMouseEnter:a,onMouseLeave:i,onClick:p,getNuxtLinkProps:Qe,twMerge:we,twJoin:ke,NuxtLink:v}}}),Ft=["disabled"];function Lt(e,r,l,s,d,t){const n=q("HMenuButton"),o=Ie,c=Me,g=Re,b=q("HMenuItem"),h=$e,a=q("HMenuItems"),i=q("HMenu");return M(),O(i,B({as:"div",class:e.ui.wrapper},e.attrs,{onMouseleave:e.onMouseLeave}),{default:w(({open:p})=>[k(n,{ref:"trigger",as:"div",disabled:e.disabled,class:R(e.ui.trigger),role:"button",onMouseenter:e.onMouseEnter,onTouchstartPassive:e.onTouchStart},{default:w(()=>[ue(e.$slots,"default",{open:p,disabled:e.disabled},()=>[E("button",{disabled:e.disabled}," Open ",8,Ft)])]),_:2},1032,["disabled","class","onMouseenter","onTouchstartPassive"]),p&&e.items.length?(M(),L("div",{key:0,ref:"container",class:R([e.ui.container,e.ui.width]),style:Xe(e.containerStyle),onMouseenter:r[0]||(r[0]=(...v)=>e.onMouseEnter&&e.onMouseEnter(...v))},[k(Se,B({appear:""},e.ui.transition),{default:w(()=>[E("div",null,[e.popper.arrow?(M(),L("div",{key:0,"data-popper-arrow":"",class:R(Object.values(e.ui.arrow))},null,2)):V("",!0),k(a,{class:R([e.ui.base,e.ui.divide,e.ui.ring,e.ui.rounded,e.ui.shadow,e.ui.background,e.ui.height]),static:""},{default:w(()=>[(M(!0),L(ee,null,te(e.items,(v,f)=>(M(),L("div",{key:f,class:R(e.ui.padding)},[(M(!0),L(ee,null,te(v,(u,y)=>(M(),O(h,B({key:y,ref_for:!0},e.getNuxtLinkProps(u),{custom:""}),{default:w(({href:$,target:F,rel:C,navigate:z,isExternal:Z,isActive:H})=>[k(b,{disabled:u.disabled},{default:w(({active:m,disabled:A,close:Ee})=>[(M(),O(Ye($?"a":"button"),{href:A?void 0:$,rel:C,target:F,class:R(e.twMerge(e.twJoin(e.ui.item.base,e.ui.item.padding,e.ui.item.size,e.ui.item.rounded,m||H?e.ui.item.active:e.ui.item.inactive,A&&e.ui.item.disabled),u.class)),onClick:K=>e.onClick(K,u,{href:$,navigate:z,close:Ee,isExternal:Z})},{default:w(()=>[ue(e.$slots,u.slot||"item",{item:u},()=>{var K;return[u.icon?(M(),O(o,{key:0,name:u.icon,class:R(e.twMerge(e.twJoin(e.ui.item.icon.base,m||H?e.ui.item.icon.active:e.ui.item.icon.inactive),u.iconClass))},null,8,["name","class"])):u.avatar?(M(),O(c,B({key:1,ref_for:!0},{size:e.ui.item.avatar.size,...u.avatar},{class:e.ui.item.avatar.base}),null,16,["class"])):V("",!0),E("span",{class:R(e.twMerge(e.ui.item.label,u.labelClass))},N(u.label),3),(K=u.shortcuts)!=null&&K.length?(M(),L("span",{key:2,class:R(e.ui.item.shortcuts)},[(M(!0),L(ee,null,te(u.shortcuts,ie=>(M(),O(g,{key:ie},{default:w(()=>[U(N(ie),1)]),_:2},1024))),128))],2)):V("",!0)]})]),_:2},1032,["href","rel","target","class","onClick"]))]),_:2},1032,["disabled"])]),_:2},1040))),128))],2))),128))]),_:3},8,["class"])])]),_:3},16)],38)):V("",!0)]),_:3},16,["class","onMouseleave"])}const Ot=ye(Et,[["render",Lt]]),Nt={class:"my-6"},xt={class:"flex items-center justify-between mb-4"},Ut={class:"flex grid grid-cols-5 gap-3 border rounded p-3"},jt={class:"col-span-2"},Bt={class:"col-span-2"},Vt={class:"col-span-1"},nn=x({__name:"users",async setup(e){let r,l;const s=Ze(),d=dt(),t=D({search:"",userId:"",region:"",role:"",users:[],form:{},collapsed:!1,viewDeleted:!1}),n=P(()=>t.value.users.filter(a=>a.deleted==t.value.viewDeleted));async function o(){const a=ae();t.value.users=await a(`${ne}/users`,{params:{search:t.value.search}})}async function c(a,i=t.value.userId){if(!confirm("Подтвердите действие!"))return;await ae()(`${ne}/users/${i}`,{params:{item:a}}),Object.assign(t.value,{userId:"",region:"",role:""}),await o(),s.add({icon:"i-heroicons-check-circle",title:"Информация",description:"Действие успешно выполнено",color:"green"})}async function g(){await ae()(`${ne}/users`,{method:"POST",body:t.value.form}),t.value.collapsed=!1,await o(),s.add({icon:"i-heroicons-check-circle",title:"Информация",description:"Пользователь успешно добавлен",color:"green"})}const b=pt(async()=>{await o()},500),h=[[{label:"Сбросить пароль",click:()=>c("drop")}],[{label:"Заблокировать/разблокировать",click:()=>c("block")}],[{label:"Удалить/восстановить",click:()=>c("delete")}]];return[r,l]=et(()=>o()),await r,l(),(a,i)=>{const p=Le,v=Oe,f=He,u=tt,y=Ne,$=nt,F=Ot,C=rt,z=ut,Z=st,H=it;return M(),O(H,null,{default:w(()=>[k(p,{div:"py-1",cls:"text-2xl text-gray-500",header:"ПОЛЬЗОВАТЕЛИ"}),E("div",Nt,[k(v,{modelValue:_(t).search,"onUpdate:modelValue":i[0]||(i[0]=m=>_(t).search=m),size:"lg",placeholder:"Поиск по имени пользователя",onInput:pe(_(b),["prevent"])},null,8,["modelValue","onInput"])]),E("div",xt,[k(f,{modelValue:_(t).viewDeleted,"onUpdate:modelValue":i[1]||(i[1]=m=>_(t).viewDeleted=m),label:"Показать удаленные"},null,8,["modelValue"]),k(u,{variant:"link",label:"Добавить пользователя",onClick:i[2]||(i[2]=m=>_(t).collapsed=!_(t).collapsed)})]),k(Se,{name:"slide-fade"},{default:w(()=>[_(t).collapsed?(M(),O($,{key:0,state:_(t).form,onSubmit:pe(g,["prevent"])},{default:w(()=>[E("div",Ut,[E("div",jt,[k(y,{required:"",class:"mb-3"},{default:w(()=>[k(v,{modelValue:_(t).form.fullname,"onUpdate:modelValue":i[3]||(i[3]=m=>_(t).form.fullname=m),placeholder:"Имя пользователя",size:"lg"},null,8,["modelValue"])]),_:1})]),E("div",Bt,[k(y,{required:"",class:"mb-3"},{default:w(()=>[k(v,{modelValue:_(t).form.username,"onUpdate:modelValue":i[4]||(i[4]=m=>_(t).form.username=m),placeholder:"Логин",size:"lg"},null,8,["modelValue"])]),_:1})]),E("div",Vt,[k(u,{block:"",variant:"outline",color:"gray",label:"Создать",type:"submit",size:"lg"})])])]),_:1},8,["state"])):V("",!0)]),_:1}),k(Z,{columns:[{key:"id",label:"#"},{key:"fullname",label:"Пользователь"},{key:"username",label:"Логин"},{key:"region",label:"Регион"},{key:"role",label:"Роль"},{key:"created",label:"Создан"},{key:"attempt",label:"Попытки"},{key:"blocked",label:"Блокировка"},{key:"pswd_create",label:"Обновлено"},{key:"change_pswd",label:"Изменение"}],rows:_(n)},{"id-data":w(({row:m})=>[U(N(m.id),1)]),"fullname-data":w(({row:m})=>[U(N(m.fullname),1)]),"username-data":w(({row:m})=>[k(F,{items:h},{default:w(()=>[k(u,{variant:"link",label:m.username,onClick:A=>_(t).userId=m.id},null,8,["label","onClick"])]),_:2},1024)]),"region-data":w(({row:m})=>[k(C,{modelValue:_(t).region,"onUpdate:modelValue":i[5]||(i[5]=A=>_(t).region=A),placeholder:m.region,options:Object.values(_(d).classes.value.regions),onChange:A=>c(_(t).region,m.id)},null,8,["modelValue","placeholder","options","onChange"])]),"role-data":w(({row:m})=>[k(C,{modelValue:_(t).role,"onUpdate:modelValue":i[6]||(i[6]=A=>_(t).role=A),placeholder:m.role,options:Object.values(_(d).classes.value.roles),onChange:A=>c(_(t).role,m.id)},null,8,["modelValue","placeholder","options","onChange"])]),"created-data":w(({row:m})=>[U(N(new Date(m.created).toLocaleDateString()),1)]),"blocked-data":w(({row:m})=>[k(z,{size:"2xl",color:m.blocked?"red":"green"},null,8,["color"])]),"pswd_create-data":w(({row:m})=>[U(N(new Date(m.pswd_create).toLocaleDateString()),1)]),"change_pswd-data":w(({row:m})=>[k(z,{size:"2xl",color:m.change_pswd?"red":"green"},null,8,["color"])]),_:1},8,["rows"])]),_:1})}}});export{nn as default};
