import{P as gt,Q as Ge,R as ht,S as qe,U as kt,K as Le,V as wt,W as We,X as Ze,Y as $t,q as A,d as T,Z as St,r as D,$ as ge,o as i,c as $,B as fe,e as t,m as De,h as ve,_ as Te,l as Me,t as H,s as et,v as tt,a0 as It,b as a,g as s,f as K,z as N,A as M,x as ue,T as J,w as Q,a1 as Dt,a2 as Ut,H as nt,y as I,a3 as He,G as ee,k as R,I as at,D as U,i as $e,j as ot,a4 as lt,a5 as Vt,F as q,E as Y,C as V,a6 as je,L as X,O as Et,a7 as te,a8 as ne,u as ce,n as Ft,a9 as Ct,aa as Fe,ab as Ae,ac as st,ad as Ue,ae as Ce,N as Ie,af as zt,ag as it,ah as xt,ai as ye,aj as Ot,ak as Ke,al as Tt,am as Mt,an as At}from"./lgINOUnl.js";import{a as pe,_ as Bt}from"./B0poOYeU.js";import{u as Pt}from"./Cl7nKP5_.js";import{_ as Z}from"./sZSTzJ3f.js";import{u as G}from"./Cx_alqFP.js";import{u as rt,a as se,c as qt}from"./C4qOVT1x.js";import{_ as Ne}from"./DeDKiuNp.js";import{_ as jt,a as ae,b as ie,c as Be}from"./DVKUP34U.js";import{_ as be}from"./DhNX-qHN.js";import{_ as re}from"./8sbBbPEZ.js";import{_ as de}from"./4cJSv5k2.js";import{_ as Lt}from"./DibbOkmJ.js";import{i as ze,u as we,o as L,t as Ht,a as xe,A as he,s as dt,l as Nt,N as Oe,b as W,c as Yt,f as ut,O as Se,T as Rt,d as Ee,e as Gt,P as ke,g as me,h as ct}from"./BB-zBTUB.js";import{_ as Wt}from"./DFqDBo_N.js";import{u as Kt}from"./CDg8Vv1Q.js";import"./BbT3jp1P.js";import"./C10ojqVm.js";const Jt={wrapper:"w-full flex flex-col",container:"w-full flex flex-col",item:{base:"",size:"text-sm",color:"text-gray-500 dark:text-gray-400",padding:"pt-1.5 pb-3",icon:"ms-auto transform transition-transform duration-200 flex-shrink-0"},transition:{enterActiveClass:"overflow-hidden transition-[height] duration-200 ease-out",leaveActiveClass:"overflow-hidden transition-[height] duration-200 ease-out"},default:{openIcon:"i-heroicons-chevron-down-20-solid",closeIcon:"",class:"mb-1.5 w-full",variant:"soft",truncate:!0}},Qt={wrapper:"relative w-full flex items-center justify-between",container:"flex items-center min-w-0",inner:"min-w-0",base:"group relative w-full flex items-center gap-1.5 px-2.5 py-3.5 rounded-md font-medium text-sm focus:outline-none focus-visible:outline-none dark:focus-visible:outline-none focus-visible:ring-inset focus-visible:ring-2 focus-visible:ring-primary-500 dark:focus-visible:ring-primary-400 disabled:cursor-not-allowed disabled:opacity-75",before:"before:absolute before:inset-x-0 before:inset-y-2 before:inset-px before:rounded-md hover:before:bg-gray-50 dark:hover:before:bg-gray-800/50",after:"after:absolute after:bottom-0 after:inset-x-2.5 after:block after:h-[2px] after:mt-2",active:"text-gray-900 dark:text-white after:bg-primary-500 dark:after:bg-primary-400 after:rounded-full",inactive:"text-gray-500 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white",label:"truncate relative",icon:{base:"flex-shrink-0 w-5 h-5 relative",active:"text-gray-700 dark:text-gray-200",inactive:"text-gray-400 dark:text-gray-500 group-hover:text-gray-700 dark:group-hover:text-gray-200"},avatar:{base:"flex-shrink-0",size:"2xs"},badge:{base:"flex-shrink-0 ml-auto relative rounded",color:"gray",variant:"solid",size:"xs"}},Xt={wrapper:"relative space-y-2",container:"relative w-full",base:"focus:outline-none",list:{base:"relative",background:"bg-gray-100 dark:bg-gray-800",rounded:"rounded-lg",shadow:"",padding:"p-1",height:"h-10",width:"w-full",marker:{wrapper:"absolute top-[4px] left-[4px] duration-200 ease-out focus:outline-none",base:"w-full h-full",background:"bg-white dark:bg-gray-900",rounded:"rounded-md",shadow:"shadow-sm"},tab:{base:"relative inline-flex items-center justify-center flex-shrink-0 w-full ui-focus-visible:outline-0 ui-focus-visible:ring-2 ui-focus-visible:ring-primary-500 dark:ui-focus-visible:ring-primary-400 ui-not-focus-visible:outline-none focus:outline-none disabled:cursor-not-allowed disabled:opacity-75 transition-colors duration-200 ease-out",background:"",active:"text-gray-900 dark:text-white",inactive:"text-gray-500 dark:text-gray-400",height:"h-8",padding:"px-3",size:"text-sm",font:"font-medium",rounded:"rounded-md",shadow:"",icon:"w-4 h-4 flex-shrink-0 mr-2"}}},Zt={wrapper:"relative",container:"z-20 group",width:"",background:"bg-white dark:bg-gray-900",shadow:"shadow-lg",rounded:"rounded-md",ring:"ring-1 ring-gray-200 dark:ring-gray-800",base:"overflow-hidden focus:outline-none relative",transition:{enterActiveClass:"transition ease-out duration-200",enterFromClass:"opacity-0 translate-y-1",enterToClass:"opacity-100 translate-y-0",leaveActiveClass:"transition ease-in duration-150",leaveFromClass:"opacity-100 translate-y-0",leaveToClass:"opacity-0 translate-y-1"},popper:{placement:"bottom-start",scroll:!1},arrow:gt};async function en(e,o){return await tn(o).catch(m=>(console.error("Failed to get image meta for "+o,m+""),{width:0,height:0,ratio:0}))}async function tn(e){if(typeof Image>"u")throw new TypeError("Image not supported");return new Promise((o,d)=>{const m=new Image;m.onload=()=>{const n={width:m.width,height:m.height,ratio:m.width/m.height};o(n)},m.onerror=n=>d(n),m.src=e})}function Je(e){return o=>o?e[o]||o:e.missingValue}function nn({formatter:e,keyMap:o,joinWith:d="/",valueMap:m}={}){e||(e=(l,u)=>`${l}=${u}`),o&&typeof o!="function"&&(o=Je(o));const n=m||{};return Object.keys(n).forEach(l=>{typeof n[l]!="function"&&(n[l]=Je(n[l]))}),(l={})=>Object.entries(l).filter(([c,_])=>typeof _<"u").map(([c,_])=>{const p=n[c];return typeof p=="function"&&(_=p(l[c])),c=typeof o=="function"?o(c):c,e(c,_)}).join(d)}function _e(e=""){if(typeof e=="number")return e;if(typeof e=="string"&&e.replace("px","").match(/^\d+$/g))return Number.parseInt(e,10)}function an(e=""){if(e===void 0||!e.length)return[];const o=new Set;for(const d of e.split(" ")){const m=Number.parseInt(d.replace("x",""));m&&o.add(m)}return Array.from(o)}function on(e){if(e.length===0)throw new Error("`densities` must not be empty, configure to `1` to render regular size only (DPR 1.0)")}function ln(e){const o={};if(typeof e=="string")for(const d of e.split(/[\s,]+/).filter(m=>m)){const m=d.split(":");m.length!==2?o["1px"]=m[0].trim():o[m[0].trim()]=m[1].trim()}else Object.assign(o,e);return o}function sn(e){const o={options:e},d=(n,l={})=>pt(o,n,l),m=(n,l={},u={})=>d(n,{...u,modifiers:Le(l,u.modifiers||{})}).url;for(const n in e.presets)m[n]=(l,u,c)=>m(l,u,{...e.presets[n],...c});return m.options=e,m.getImage=d,m.getMeta=(n,l)=>rn(o,n,l),m.getSizes=(n,l)=>cn(o,n,l),o.$img=m,m}async function rn(e,o,d){const m=pt(e,o,{...d});return typeof m.getMeta=="function"?await m.getMeta():await en(e,m.url)}function pt(e,o,d){var p,b;if(o&&typeof o!="string")throw new TypeError(`input must be a string (received ${typeof o}: ${JSON.stringify(o)})`);if(!o||o.startsWith("data:"))return{url:o};const{provider:m,defaults:n}=dn(e,d.provider||e.options.provider),l=un(e,d.preset);if(o=Ge(o)?o:ht(o),!m.supportsAlias){for(const f in e.options.alias)if(o.startsWith(f)){const r=e.options.alias[f];r&&(o=qe(r,o.slice(f.length)))}}if(m.validateDomains&&Ge(o)){const f=kt(o).host;if(!e.options.domains.find(r=>r===f))return{url:o}}const u=Le(d,l,n);u.modifiers={...u.modifiers};const c=u.modifiers.format;(p=u.modifiers)!=null&&p.width&&(u.modifiers.width=_e(u.modifiers.width)),(b=u.modifiers)!=null&&b.height&&(u.modifiers.height=_e(u.modifiers.height));const _=m.getImage(o,u,e);return _.format=_.format||c||"",_}function dn(e,o){const d=e.options.providers[o];if(!d)throw new Error("Unknown provider: "+o);return d}function un(e,o){if(!o)return{};if(!e.options.presets[o])throw new Error("Unknown preset: "+o);return e.options.presets[o]}function cn(e,o,d){var w,v,S,g,h;const m=_e((w=d.modifiers)==null?void 0:w.width),n=_e((v=d.modifiers)==null?void 0:v.height),l=ln(d.sizes),u=(S=d.densities)!=null&&S.trim()?an(d.densities.trim()):e.options.densities;on(u);const c=m&&n?n/m:0,_=[],p=[];if(Object.keys(l).length>=1){for(const F in l){const C=Qe(F,String(l[F]),n,c,e);if(C!==void 0){_.push({size:C.size,screenMaxWidth:C.screenMaxWidth,media:`(max-width: ${C.screenMaxWidth}px)`});for(const z of u)p.push({width:C._cWidth*z,src:Xe(e,o,d,C,z)})}}pn(_)}else for(const F of u){const C=Object.keys(l)[0];let z=C?Qe(C,String(l[C]),n,c,e):void 0;z===void 0&&(z={size:"",screenMaxWidth:0,_cWidth:(g=d.modifiers)==null?void 0:g.width,_cHeight:(h=d.modifiers)==null?void 0:h.height}),p.push({width:F,src:Xe(e,o,d,z,F)})}mn(p);const b=p[p.length-1],f=_.length?_.map(F=>`${F.media?F.media+" ":""}${F.size}`).join(", "):void 0,r=f?"w":"x",k=p.map(F=>`${F.src} ${F.width}${r}`).join(", ");return{sizes:f,srcset:k,src:b==null?void 0:b.src}}function Qe(e,o,d,m,n){const l=n.options.screens&&n.options.screens[e]||Number.parseInt(e),u=o.endsWith("vw");if(!u&&/^\d+$/.test(o)&&(o=o+"px"),!u&&!o.endsWith("px"))return;let c=Number.parseInt(o);if(!l||!c)return;u&&(c=Math.round(c/100*l));const _=m?Math.round(c*m):d;return{size:o,screenMaxWidth:l,_cWidth:c,_cHeight:_}}function Xe(e,o,d,m,n){return e.$img(o,{...d.modifiers,width:m._cWidth?m._cWidth*n:void 0,height:m._cHeight?m._cHeight*n:void 0},d)}function pn(e){var d;e.sort((m,n)=>m.screenMaxWidth-n.screenMaxWidth);let o=null;for(let m=e.length-1;m>=0;m--){const n=e[m];n.media===o&&e.splice(m,1),o=n.media}for(let m=0;m<e.length;m++)e[m].media=((d=e[m+1])==null?void 0:d.media)||""}function mn(e){e.sort((d,m)=>d.width-m.width);let o=null;for(let d=e.length-1;d>=0;d--){const m=e[d];m.width===o&&e.splice(d,1),o=m.width}}const fn=nn({keyMap:{format:"f",fit:"fit",width:"w",height:"h",resize:"s",quality:"q",background:"b"},joinWith:"&",formatter:(e,o)=>We(e)+"_"+We(o)}),_n=(e,{modifiers:o={},baseURL:d}={},m)=>{o.width&&o.height&&(o.resize=`${o.width}x${o.height}`,delete o.width,delete o.height);const n=fn(o)||"_";return d||(d=qe(m.options.nuxt.baseURL,"/_ipx")),{url:qe(d,n,wt(e))}},vn=!0,bn=!0,yn=Object.freeze(Object.defineProperty({__proto__:null,getImage:_n,supportsAlias:bn,validateDomains:vn},Symbol.toStringTag,{value:"Module"})),mt={screens:{xs:320,sm:640,md:768,lg:1024,xl:1280,xxl:1536,"2xl":1536},presets:{},provider:"ipxStatic",domains:[],alias:{},densities:[1,2],format:["webp"]};mt.providers={ipxStatic:{provider:yn,defaults:{}}};const ft=()=>{const e=$t(),o=Ze();return o.$img||o._img||(o._img=sn({...mt,nuxt:{baseURL:e.app.baseURL},runtimeConfig:e}))};function gn(e){var o;(o=performance==null?void 0:performance.mark)==null||o.call(performance,"mark_feature_usage",{detail:{feature:e}})}const hn={src:{type:String,required:!1},format:{type:String,required:!1},quality:{type:[Number,String],required:!1},background:{type:String,required:!1},fit:{type:String,required:!1},modifiers:{type:Object,required:!1},preset:{type:String,required:!1},provider:{type:String,required:!1},sizes:{type:[Object,String],required:!1},densities:{type:String,required:!1},preload:{type:[Boolean,Object],required:!1},width:{type:[String,Number],required:!1},height:{type:[String,Number],required:!1},alt:{type:String,required:!1},referrerpolicy:{type:String,required:!1},usemap:{type:String,required:!1},longdesc:{type:String,required:!1},ismap:{type:Boolean,required:!1},loading:{type:String,required:!1,validator:e=>["lazy","eager"].includes(e)},crossorigin:{type:[Boolean,String],required:!1,validator:e=>["anonymous","use-credentials","",!0,!1].includes(e)},decoding:{type:String,required:!1,validator:e=>["async","auto","sync"].includes(e)},nonce:{type:[String],required:!1}},kn=e=>{const o=A(()=>({provider:e.provider,preset:e.preset})),d=A(()=>({width:_e(e.width),height:_e(e.height),alt:e.alt,referrerpolicy:e.referrerpolicy,usemap:e.usemap,longdesc:e.longdesc,ismap:e.ismap,crossorigin:e.crossorigin===!0?"anonymous":e.crossorigin||void 0,loading:e.loading,decoding:e.decoding,nonce:e.nonce})),m=ft(),n=A(()=>({...e.modifiers,width:_e(e.width),height:_e(e.height),format:e.format,quality:e.quality||m.options.quality,background:e.background,fit:e.fit}));return{options:o,attrs:d,modifiers:n}},wn={...hn,placeholder:{type:[Boolean,String,Number,Array],required:!1},placeholderClass:{type:String,required:!1}},$n=["src"],Sn=T({__name:"NuxtImg",props:wn,emits:["load","error"],setup(e,{emit:o}){const d=e,m=St(),n=o,l=!1,u=ft(),c=kn(d),_=D(!1),p=D(),b=A(()=>u.getSizes(d.src,{...c.options.value,sizes:d.sizes,densities:d.densities,modifiers:{...c.modifiers.value,width:_e(d.width),height:_e(d.height)}})),f=A(()=>{const g={...c.attrs.value,"data-nuxt-img":""};return(!d.placeholder||_.value)&&(g.sizes=b.value.sizes,g.srcset=b.value.srcset),g}),r=A(()=>{let g=d.placeholder;if(g===""&&(g=!0),!g||_.value)return!1;if(typeof g=="string")return g;const h=Array.isArray(g)?g:typeof g=="number"?[g,g]:[10,10];return u(d.src,{...c.modifiers.value,width:h[0],height:h[1],quality:h[2]||50,blur:h[3]||3},c.options.value)}),k=A(()=>d.sizes?b.value.src:u(d.src,c.modifiers.value,c.options.value)),w=A(()=>r.value?r.value:k.value),S=Ze().isHydrating;return ge(()=>{if(r.value){const g=new Image;k.value&&(g.src=k.value),d.sizes&&(g.sizes=b.value.sizes||"",g.srcset=b.value.srcset),g.onload=h=>{_.value=!0,n("load",h)},gn("nuxt-image");return}p.value&&(p.value.complete&&S&&(p.value.getAttribute("data-error")?n("error",new Event("error")):n("load",new Event("load"))),p.value.onload=g=>{n("load",g)},p.value.onerror=g=>{n("error",g)})}),(g,h)=>(i(),$("img",fe({ref_key:"imgEl",ref:p,class:d.placeholder&&!_.value?d.placeholderClass:void 0},{...t(l)?{onerror:"this.setAttribute('data-error', 1)"}:{},...f.value,...t(m)},{src:w.value}),null,16,$n))}}),In=De(ve.ui.strategy,ve.ui.contextMenu,Zt),Dn=T({inheritAttrs:!1,props:{modelValue:{type:Boolean,default:!1},virtualElement:{type:Object,required:!0},popper:{type:Object,default:()=>({})},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},emits:["update:modelValue","close"],setup(e,{emit:o}){const{ui:d,attrs:m}=Me("contextMenu",H(e,"ui"),In),n=A(()=>Le({},e.popper,d.value.popper)),l=A({get(){return e.modelValue},set(p){o("update:modelValue",p)}}),u=H(e,"virtualElement"),[,c]=Pt(n.value,u),_=A(()=>et(tt(d.value.container,d.value.width),e.class));return It(c,()=>{l.value=!1}),{ui:d,attrs:m,isOpen:l,wrapperClass:_,popper:n,container:c}}});function Un(e,o,d,m,n,l){return e.isOpen?(i(),$("div",fe({key:0,ref:"container",class:e.wrapperClass},e.attrs),[a(J,fe({appear:""},e.ui.transition),{default:s(()=>[K("div",null,[e.popper.arrow?(i(),$("div",{key:0,"data-popper-arrow":"",class:N(Object.values(e.ui.arrow))},null,2)):M("",!0),K("div",{class:N([e.ui.base,e.ui.ring,e.ui.rounded,e.ui.shadow,e.ui.background])},[ue(e.$slots,"default")],2)])]),_:3},16)],16)):M("",!0)}const Vn=Te(Dn,[["render",Un]]),En={class:"flex justify-left"},Fn={class:"p-4"},Cn=T({__name:"PhotoCard",props:{candId:{type:String,default:""},destination:{type:String,default:""},editable:{type:Boolean,default:!1}},async setup(e){let o,d;const m=G(),n=e,l=D(""),{refresh:u}=([o,d]=Q(async()=>rt("image",async()=>{const v=await $fetch("/api/image",{params:{image:n.destination},responseType:"blob"});l.value=window.URL.createObjectURL(new Blob([v]))})),o=await o,d(),o);async function c(v){if(!v)return;const S=new FormData,g=v[0];S.append("file",g),await m("/api/file/image/"+n.candId,{method:"POST",body:S}),await u()}function _(v){var S;(S=document.getElementById(v))==null||S.click()}const{x:p,y:b}=Dt(),{y:f}=Ut(),r=D(!1),k=D({getBoundingClientRect:()=>({})});function w(){const v=t(b)-t(f),S=t(p);k.value.getBoundingClientRect=()=>({width:0,height:0,top:v,left:S}),r.value=!0}return(v,S)=>{const g=Sn,h=pe,F=R,C=Vn,z=Z;return i(),$("div",En,[a(z,{ui:{body:{padding:"p-1 sm:p-1"}},onContextmenu:ee(w,["prevent"])},{default:s(()=>[a(g,{src:t(l),width:"180",height:"180"},null,8,["src"]),nt(a(h,{id:"image-file",type:"file",accept:"image/*",multiple:"",onChange:S[0]||(S[0]=x=>c(x))},null,512),[[at,!1]]),n.editable?(i(),I(C,{key:0,modelValue:t(r),"onUpdate:modelValue":S[2]||(S[2]=x=>He(r)?r.value=x:null),"virtual-element":t(k)},{default:s(()=>[K("div",Fn,[a(F,{label:"Загрузить",variant:"link",onClick:S[1]||(S[1]=x=>_("image-file"))})])]),_:1},8,["modelValue","virtual-element"])):M("",!0)]),_:1})])}}}),zn={class:"flex grid grid-cols-6 gap-3 mb-3"},oe=T({__name:"LabelSlot",props:{label:{type:String,default:""},labelClass:{type:String,default:"col-span-1"},inputClass:{type:String,default:"col-span-5 break-words"}},setup(e){const o=e;return(d,m)=>(i(),$("div",zn,[K("div",{class:N(o.labelClass)},U(o.label),3),K("div",{class:N(o.inputClass)},[ue(d.$slots,"default")],2)]))}}),xn=De(ve.ui.strategy,ve.ui.horizontalNavigation,Qt),On=T({components:{UIcon:$e,UAvatar:ot,UBadge:Ne,ULink:lt},inheritAttrs:!1,props:{links:{type:Array,default:()=>[]},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},setup(e){const{ui:o,attrs:d}=Me("horizontalNavigation",H(e,"ui"),xn,H(e,"class")),m=A(()=>Array.isArray(e.links[0])?e.links:[e.links]);return{ui:o,attrs:d,sections:m,getULinkProps:Vt,twMerge:et,twJoin:tt}}}),Tn={key:0,class:"sr-only"};function Mn(e,o,d,m,n,l){const u=ot,c=$e,_=Ne,p=lt;return i(),$("nav",fe({class:e.ui.wrapper},e.attrs),[(i(!0),$(q,null,Y(e.sections,(b,f)=>(i(),$("ul",{key:`section${f}`,class:N(e.ui.container)},[(i(!0),$(q,null,Y(b,(r,k)=>(i(),$("li",{key:`section${f}-${k}`,class:N(e.ui.inner)},[a(p,fe({ref_for:!0},e.getULinkProps(r),{class:[e.ui.base,e.ui.before,e.ui.after],"active-class":e.ui.active,"inactive-class":e.ui.inactive,onClick:r.click,onKeyup:o[0]||(o[0]=je(w=>w.target.blur(),["enter"]))}),{default:s(({isActive:w})=>[ue(e.$slots,"avatar",{link:r,isActive:w},()=>[r.avatar?(i(),I(u,fe({key:0,ref_for:!0},{size:e.ui.avatar.size,...r.avatar},{class:[e.ui.avatar.base]}),null,16,["class"])):M("",!0)]),ue(e.$slots,"icon",{link:r,isActive:w},()=>[r.icon?(i(),I(c,{key:0,name:r.icon,class:N(e.twMerge(e.twJoin(e.ui.icon.base,w?e.ui.icon.active:e.ui.icon.inactive),r.iconClass))},null,8,["name","class"])):M("",!0)]),ue(e.$slots,"default",{link:r,isActive:w},()=>[r.label?(i(),$("span",{key:0,class:N(e.twMerge(e.ui.label,r.labelClass))},[w?(i(),$("span",Tn," Current page: ")):M("",!0),V(" "+U(r.label),1)],2)):M("",!0)]),ue(e.$slots,"badge",{link:r,isActive:w},()=>[r.badge?(i(),I(_,fe({key:0,ref_for:!0},{size:e.ui.badge.size,color:e.ui.badge.color,variant:e.ui.badge.variant,...typeof r.badge=="string"||typeof r.badge=="number"?{label:r.badge}:r.badge},{class:e.ui.badge.base}),null,16,["class"])):M("",!0)])]),_:2},1040,["class","active-class","inactive-class","onClick"])],2))),128))],2))),128))],16)}const An=Te(On,[["render",Mn]]),le=T({__name:"NaviHorizont",props:{navlen:{type:Number,default:3},candId:{type:String,default:""},inputId:{type:String,default:""},item:{type:String,default:""}},emits:["delete","update"],setup(e,{emit:o}){const d=X(),m=G(),n=o,l=e,{open:u,reset:c,onCancel:_,onChange:p}=Et({multiple:!0});p(async f=>{if(!f)return;const r=new FormData;if(f){for(const k of f)r.append("file",k);await m(`/api/file/${l.item}/${l.candId}`,{method:"POST",body:r}),d.add({icon:"i-heroicons-check-circle",title:"Информация",description:"Файлы успешно загружены",color:"green"})}c()}),_(()=>{c()});const b=[{label:"Изменить",icon:"i-heroicons-pencil-square",click:()=>n("update")},{label:"Удалить",icon:"i-heroicons-trash",click:()=>n("delete")},{label:"Загрузить",icon:"i-heroicons-cloud-arrow-up",slot:"upload",click:()=>u()}];return(f,r)=>{const k=An;return i(),I(k,{links:b.slice(0,l.navlen)},null,8,["links"])}}}),Bn={key:0},Pn={key:1},qn={key:1},jn=T({__name:"ResumeDiv",props:{editable:{type:Boolean,default:!1},candId:{type:String,default:""},person:{type:Object,default:{}}},emits:["update"],setup(e,{emit:o}){te(["FormsResumeForm","ElementsSkeletonDiv"]);const d=o,m=X(),n=G(),l=e,u=D(!1),c=D(""),_=D(!1),p=D(!1);async function b(){confirm("Вы действительно хотите изменить регион?")&&(await n(`/api/region/${l.candId}`,{params:{region:c.value}}),d("update"),m.add({icon:"i-heroicons-check-circle",title:"Информация",description:"Изменение региона успешно",color:"green"}))}async function f(){l.person.destination&&(p.value=!0,await n("/api/folder",{params:{folder:l.person.destination}}),p.value=!1)}async function r(v){_.value=!0,u.value=!1,await n("/api/persons/"+l.candId,{method:"POST",body:v}),m.add({icon:"i-heroicons-check-circle",title:"Успешно",description:"Информация обновлена",color:"green"}),_.value=!1,d("update")}async function k(){confirm("Вы действительно хотите удалить запись?")&&(_.value=!0,await n(`/api/persons/${l.candId}`,{method:"DELETE"}),await Ft("/persons"),m.add({icon:"i-heroicons-information-circle",title:"Информация",description:`Запись с ID ${l.candId} удалена`,color:"primary"}),_.value=!1)}async function w(){u.value=!1,d("update")}return(v,S)=>{const g=jt,h=ae,F=be,C=oe,z=R,x=le,O=Z;return i(),I(O,null,ne({default:s(()=>[t(u)?(i(),$("div",Bn,[a(g,{resume:l.person,onCancel:w,onUpdate:r},null,8,["resume"])])):(i(),$("div",Pn,[t(_)?(i(),I(h,{key:0,rows:14})):(i(),$("div",qn,[a(C,{label:"Регион"},{default:s(()=>[a(F,{modelValue:t(c),"onUpdate:modelValue":S[0]||(S[0]=E=>He(c)?c.value=E:null),style:{width:"20%"},options:["Главный офис","РЦ Юг","РЦ Запад","РЦ Урал","РЦ Восток"],disabled:!l.editable,placeholder:l.person.region,onChange:b},null,8,["modelValue","disabled","placeholder"])]),_:1}),a(C,{label:"Фамилия"},{default:s(()=>[V(U(l.person.surname),1)]),_:1}),a(C,{label:"Имя"},{default:s(()=>[V(U(l.person.firstname),1)]),_:1}),a(C,{label:"Отчество"},{default:s(()=>[V(U(l.person.patronymic),1)]),_:1}),a(C,{label:"Дата рождения"},{default:s(()=>[V(U(t(ce)(l.person.birthday,"DD.MM.YYYY")),1)]),_:1}),a(C,{label:"Место рождения"},{default:s(()=>[V(U(l.person.birthplace),1)]),_:1}),a(C,{label:"Гражданство"},{default:s(()=>[V(U(l.person.citizenship),1)]),_:1}),l.person.dual?(i(),I(C,{key:0,label:"Двойное гражданство"},{default:s(()=>[V(U(l.person.dual),1)]),_:1})):M("",!0),a(C,{label:"СНИЛС"},{default:s(()=>[V(U(l.person.snils),1)]),_:1}),a(C,{label:"ИНН"},{default:s(()=>[V(U(l.person.inn),1)]),_:1}),a(C,{label:"Семейное положение"},{default:s(()=>[V(U(l.person.marital),1)]),_:1}),a(C,{label:"Дата записи"},{default:s(()=>[V(U(t(ce)(l.person.created,"DD.MM.YYYY HH:mm")),1)]),_:1}),a(C,{label:"Пользователь"},{default:s(()=>[V(U(l.person.username?l.person.username:""),1)]),_:1}),l.person.addition?(i(),I(C,{key:1,label:"Дополнительная информация"},{default:s(()=>[V(U(l.person.addition),1)]),_:1})):M("",!0),a(C,{label:"Материалы"},{default:s(()=>[a(z,{loading:t(p),label:"Открыть",variant:"link",onClick:f},null,8,["loading"])]),_:1})]))]))]),_:2},[l.editable&&!t(u)?{name:"footer",fn:s(()=>[a(x,{"cand-id":l.candId,item:"persons",onDelete:k,onUpdate:S[1]||(S[1]=E=>u.value=!0)},null,8,["cand-id"])]),key:"0"}:void 0]),1024)}}}),Ln=T({__name:"StaffForm",props:{staff:{type:Object,default:{}},candId:{type:String,default:""}},emits:["cancel","update"],setup(e,{emit:o}){const d=o,n=H(e.staff);function l(){d("update",n.value),c()}function u(){d("cancel"),c()}function c(){Object.assign(n.value,{position:"",department:""})}return(_,p)=>{const b=pe,f=re,r=ie,k=de;return i(),I(k,{state:t(n),onSubmit:ee(l,["prevent"])},{default:s(()=>[a(f,{class:"mb-3",label:"Должность"},{default:s(()=>[a(b,{modelValue:t(n).position,"onUpdate:modelValue":p[0]||(p[0]=w=>t(n).position=w),modelModifiers:{trim:!0,lazy:!0},required:"",placeholder:"Должность"},null,8,["modelValue"])]),_:1}),a(f,{class:"mb-3",label:"Подразделение"},{default:s(()=>[a(b,{modelValue:t(n).department,"onUpdate:modelValue":p[1]||(p[1]=w=>t(n).department=w),modelModifiers:{trim:!0,lazy:!0},placeholder:"Подразделение"},null,8,["modelValue"])]),_:1}),a(r,{onCancel:u})]),_:1},8,["state"])}}}),Hn={key:0,class:"py-3"},Nn={key:1},Yn={key:1},Rn={key:2,class:"p-3"},Gn={key:1,class:"text-primary"},Wn=T({__name:"StaffDiv",props:{candId:{type:String,default:""},editable:{type:Boolean,default:!1}},async setup(e){let o,d;te(["FormsStaffForm","ElementsSkeletonDiv"]);const m=G(),n=X(),l=e,u=D(!1),c=D(!1),_=D(!1),p=D(""),b=D({}),{data:f,refresh:r,status:k}=([o,d]=Q(async()=>se("staffs",async()=>await m("/api/staffs/"+l.candId))),o=await o,d(),o);async function w(h){c.value=!0,g(),await m("/api/staffs/"+l.candId,{method:"POST",body:h}),n.add({icon:"i-heroicons-check-circle",title:"Успешно",description:"Информация обновлена",color:"green"}),c.value=!1,r()}async function v(h){g(),confirm("Вы действительно хотите удалить запись?")&&(await m("/api/staffs/"+h,{method:"DELETE"}),n.add({icon:"i-heroicons-information-circle",title:"Информация",description:`Запись с ID ${h} удалена`,color:"primary"}),r())}function S(){g(),r()}function g(){_.value=!1,p.value="",u.value=!1}return(h,F)=>{const C=R,z=Ln,x=Z,O=ae,E=oe,B=le;return i(),$(q,null,[l.editable?(i(),I(C,{key:0,label:t(u)?"Скрыть форму":"Добавить запись",variant:"link",onClick:F[0]||(F[0]=y=>u.value=!t(u))},null,8,["label"])):M("",!0),a(J,{name:"slide-fade"},{default:s(()=>[t(u)?(i(),$("div",Hn,[a(x,null,{default:s(()=>[a(z,{"cand-id":l.candId,onCancel:S,onUpdate:w},null,8,["cand-id"])]),_:1})])):M("",!0)]),_:1}),t(f)&&t(f).length?(i(),$("div",Nn,[(i(!0),$(q,null,Y(t(f),(y,P)=>(i(),$("div",{key:P,class:"p-1"},[t(k)=="pending"||t(c)?(i(),I(O,{key:0,rows:2})):(i(),I(x,{key:1},ne({default:s(()=>[t(_)&&t(p)==y.id.toString()?(i(),I(z,{key:0,"cand-id":l.candId,staff:t(b),onCancel:S,onUpdate:w},null,8,["cand-id","staff"])):(i(),$("div",Yn,[a(E,{label:"Должность"},{default:s(()=>[V(U(y.position),1)]),_:2},1024),a(E,{label:"Департамент"},{default:s(()=>[V(U(y.department),1)]),_:2},1024)]))]),_:2},[l.editable&&(!t(_)||t(p)!=y.id.toString())?{name:"footer",fn:s(()=>[a(B,{navlen:2,onDelete:j=>v(y.id),onUpdate:j=>{b.value=y,p.value=y.id.toString(),_.value=!0}},null,8,["onDelete","onUpdate"])]),key:"0"}:void 0]),1024))]))),128))])):(i(),$("div",Rn,[t(k)=="pending"||t(c)?(i(),I(O,{key:0,rows:2})):(i(),$("p",Gn,"Данные о должностях отсутствуют"))]))],64)}}}),Kn=T({__name:"EducationForm",props:{education:{type:Object,default:{}},candId:{type:String,default:""}},emits:["cancel","update"],setup(e,{emit:o}){const d=o,n=H(e.education);function l(){d("update",n.value),c()}function u(){d("cancel"),c()}function c(){Object.assign(n.value,{view:"",institution:"",finished:"",specialty:""})}return(_,p)=>{const b=be,f=re,r=pe,k=ie,w=de;return i(),I(w,{state:t(n),onSubmit:ee(l,["prevent"])},{default:s(()=>[a(f,{class:"mb-3",label:"Вид образования"},{default:s(()=>[a(b,{modelValue:t(n).view,"onUpdate:modelValue":p[0]||(p[0]=v=>t(n).view=v),required:"",options:["Основное общее","Среднее общее","Среднее профессиональное","Высшее","Неоконченное высшее образование","Другое образование"]},null,8,["modelValue"])]),_:1}),a(f,{class:"mb-3",label:"Название учебного заведения"},{default:s(()=>[a(r,{modelValue:t(n).institution,"onUpdate:modelValue":p[1]||(p[1]=v=>t(n).institution=v),modelModifiers:{trim:!0,lazy:!0},required:"",placeholder:"Название учебного заведения"},null,8,["modelValue"])]),_:1}),a(f,{class:"mb-3",label:"Год окончания"},{default:s(()=>[a(r,{modelValue:t(n).finished,"onUpdate:modelValue":p[2]||(p[2]=v=>t(n).finished=v),modelModifiers:{trim:!0,lazy:!0},placeholder:"Год окончания"},null,8,["modelValue"])]),_:1}),a(f,{class:"mb-3",label:"Специальность"},{default:s(()=>[a(r,{modelValue:t(n).specialty,"onUpdate:modelValue":p[3]||(p[3]=v=>t(n).specialty=v),modelModifiers:{trim:!0,lazy:!0},placeholder:"Специальность"},null,8,["modelValue"])]),_:1}),a(k,{onCancel:u})]),_:1},8,["state"])}}}),Jn={key:0,class:"py-3"},Qn={key:1},Xn={key:1},Zn={key:2,class:"p-3"},ea={key:1,class:"text-primary"},ta=T({__name:"EducateDiv",props:{candId:{type:String,default:""},editable:{type:Boolean,default:!1}},async setup(e){let o,d;te(["FormsEducationForm","ElementsSkeletonDiv"]);const m=G(),n=X(),l=e,u=D(!1),c=D(!1),_=D(""),p=D(!1),b=D({}),{data:f,refresh:r,status:k}=([o,d]=Q(async()=>se("educations",async()=>await m("/api/educations/"+l.candId))),o=await o,d(),o);async function w(h){c.value=!0,g(),await m("/api/educations/"+l.candId,{method:"POST",body:h}),n.add({icon:"i-heroicons-check-circle",title:"Успешно",description:"Информация обновлена",color:"green"}),c.value=!1,r()}async function v(h){g(),confirm("Вы действительно хотите удалить запись?")&&(await m("/api/educations/"+h,{method:"DELETE"}),n.add({icon:"i-heroicons-information-circle",title:"Информация",description:`Запись с ID ${h} удалена`,color:"primary"}),r())}async function S(){g(),r()}function g(){p.value=!1,_.value="",u.value=!1}return(h,F)=>{const C=R,z=Kn,x=Z,O=ae,E=oe,B=le;return i(),$(q,null,[l.editable?(i(),I(C,{key:0,label:t(u)?"Скрыть форму":"Добавить запись",variant:"link",onClick:F[0]||(F[0]=y=>u.value=!t(u))},null,8,["label"])):M("",!0),a(J,{name:"slide-fade"},{default:s(()=>[t(u)?(i(),$("div",Jn,[a(x,null,{default:s(()=>[a(z,{"cand-id":l.candId,onCancel:S,onUpdate:w},null,8,["cand-id"])]),_:1})])):M("",!0)]),_:1}),t(f)&&t(f).length?(i(),$("div",Qn,[(i(!0),$(q,null,Y(t(f),(y,P)=>(i(),$("div",{key:P,class:"p-1"},[t(k)=="pending"||t(c)?(i(),I(O,{key:0,rows:8})):(i(),I(x,{key:1},ne({default:s(()=>[t(p)&&t(_)==y.id.toString()?(i(),I(z,{key:0,"cand-id":l.candId,education:t(b),onCancel:S,onUpdate:w},null,8,["cand-id","education"])):(i(),$("div",Xn,[a(E,{label:"Уровень образования"},{default:s(()=>[V(U(y.view),1)]),_:2},1024),a(E,{label:"Название учебного заведения"},{default:s(()=>[V(U(y.institution),1)]),_:2},1024),a(E,{label:"Год окончания"},{default:s(()=>[V(U(y.finished),1)]),_:2},1024),a(E,{label:"Специальность"},{default:s(()=>[V(U(y.specialty),1)]),_:2},1024)]))]),_:2},[l.editable&&(!t(p)||t(_)!=y.id.toString())?{name:"footer",fn:s(()=>[a(B,{navlen:2,onDelete:j=>v(y.id),onUpdate:j=>{b.value=y,_.value=y.id.toString(),p.value=!0}},null,8,["onDelete","onUpdate"])]),key:"0"}:void 0]),1024))]))),128))])):(i(),$("div",Zn,[t(k)=="pending"||t(c)?(i(),I(O,{key:0,rows:8})):(i(),$("p",ea,"Данные отсутствуют"))]))],64)}}}),na=T({__name:"WorkplaceForm",props:{work:{type:Object,default:{}},candId:{type:String,default:""}},emits:["cancel","update"],setup(e,{emit:o}){const d=o,n=H(e.work);n.value.starts=n.value.starts?ce(n.value.starts,"YYYY-MM-DD").value:"",n.value.finished=n.value.finished?ce(n.value.finished,"YYYY-MM-DD").value:"";function l(){d("update",n.value),c()}function u(){d("cancel"),c()}function c(){Object.assign(n.value,{now_work:!1,starts:"",finished:"",workplace:"",position:"",addresses:"",reason:""})}return(_,p)=>{const b=Lt,f=re,r=pe,k=ie,w=de;return i(),I(w,{state:t(n),onSubmit:ee(l,["prevent"])},{default:s(()=>[a(f,{class:"mb-3",label:"Текущая работа"},{default:s(()=>[a(b,{modelValue:t(n).now_work,"onUpdate:modelValue":p[0]||(p[0]=v=>t(n).now_work=v)},null,8,["modelValue"])]),_:1}),a(f,{class:"mb-3",label:"Начало работы"},{default:s(()=>[a(r,{modelValue:t(n).starts,"onUpdate:modelValue":p[1]||(p[1]=v=>t(n).starts=v),required:"",placeholder:"Начало работы",type:"date"},null,8,["modelValue"])]),_:1}),a(f,{class:"mb-3",label:"Окончание работы"},{default:s(()=>[a(r,{modelValue:t(n).finished,"onUpdate:modelValue":p[2]||(p[2]=v=>t(n).finished=v),required:"",placeholder:"Окончание работы",type:"date"},null,8,["modelValue"])]),_:1}),a(f,{class:"mb-3",label:"Место работы"},{default:s(()=>[a(r,{modelValue:t(n).workplace,"onUpdate:modelValue":p[3]||(p[3]=v=>t(n).workplace=v),modelModifiers:{trim:!0,lazy:!0},required:"",placeholder:"Место работы"},null,8,["modelValue"])]),_:1}),a(f,{class:"mb-3",label:"Должность"},{default:s(()=>[a(r,{modelValue:t(n).position,"onUpdate:modelValue":p[4]||(p[4]=v=>t(n).position=v),modelModifiers:{trim:!0,lazy:!0},required:"",placeholder:"Должность"},null,8,["modelValue"])]),_:1}),a(f,{class:"mb-3",label:"Адрес организации"},{default:s(()=>[a(r,{modelValue:t(n).addresses,"onUpdate:modelValue":p[5]||(p[5]=v=>t(n).addresses=v),modelModifiers:{trim:!0,lazy:!0},placeholder:"Адрес организации"},null,8,["modelValue"])]),_:1}),a(f,{class:"mb-3",label:"Причина увольнения"},{default:s(()=>[a(r,{modelValue:t(n).reason,"onUpdate:modelValue":p[6]||(p[6]=v=>t(n).reason=v),modelModifiers:{trim:!0,lazy:!0},placeholder:"Причина увольнения"},null,8,["modelValue"])]),_:1}),a(k,{onCancel:u})]),_:1},8,["state"])}}}),aa={key:0,class:"py-3"},oa={key:1},la={key:1},sa={key:2,class:"p-3"},ia={key:1,class:"text-primary"},ra=T({__name:"WorkDiv",props:{candId:{type:String,default:""},editable:{type:Boolean,default:!1}},async setup(e){let o,d;te(["FormsWorkForm","ElementsSkeletonDiv"]);const m=G(),n=X(),l=e,u=D(!1),c=D(!1),_=D(!1),p=D(""),b=D({}),{data:f,refresh:r,status:k}=([o,d]=Q(async()=>se("workplaces",async()=>await m("/api/workplaces/"+l.candId))),o=await o,d(),o);async function w(h){c.value=!1,g(),await m("/api/workplaces/"+l.candId,{method:"POST",body:h}),n.add({icon:"i-heroicons-check-circle",title:"Успешно",description:"Информация обновлена",color:"green"}),c.value=!1,r()}async function v(h){g(),confirm("Вы действительно хотите удалить запись?")&&(await m("/api/workplaces/"+h,{method:"DELETE"}),n.add({icon:"i-heroicons-information-circle",title:"Информация",description:`Запись с ID ${h} удалена`,color:"primary"}),r())}async function S(){g(),r()}function g(){_.value=!1,p.value="",u.value=!1}return(h,F)=>{const C=R,z=na,x=Z,O=ae,E=oe,B=le;return i(),$(q,null,[l.editable?(i(),I(C,{key:0,label:t(u)?"Скрыть форму":"Добавить запись",variant:"link",onClick:F[0]||(F[0]=y=>u.value=!t(u))},null,8,["label"])):M("",!0),a(J,{name:"slide-fade"},{default:s(()=>[t(u)?(i(),$("div",aa,[a(x,null,{default:s(()=>[a(z,{"cand-id":l.candId,onCancel:S,onUpdate:w},null,8,["cand-id"])]),_:1})])):M("",!0)]),_:1}),t(f)&&t(f).length?(i(),$("div",oa,[(i(!0),$(q,null,Y(t(f),(y,P)=>(i(),$("div",{key:P,class:"p-1"},[t(k)=="pending"||t(c)?(i(),I(O,{key:0,rows:8})):(i(),I(x,{key:1},ne({default:s(()=>[t(_)&&t(p)==y.id.toString()?(i(),I(z,{key:0,"cand-id":l.candId,work:t(b),onCancel:S,onUpdate:w},null,8,["cand-id","work"])):(i(),$("div",la,[y.now_work?(i(),I(E,{key:0,label:"Текущая работа"},{default:s(()=>[V(U(y.now_work?"Да":"Нет"),1)]),_:2},1024)):M("",!0),a(E,{label:"Начало работы"},{default:s(()=>[V(U(t(ce)(y.starts,"DD.MM.YYYY")),1)]),_:2},1024),y.now_work?M("",!0):(i(),I(E,{key:1,label:"Окончание работы"},{default:s(()=>[V(U(t(ce)(y.finished,"DD.MM.YYYY")),1)]),_:2},1024)),a(E,{label:"Место работы"},{default:s(()=>[V(U(y.workplace),1)]),_:2},1024),a(E,{label:"Адрес"},{default:s(()=>[V(U(y.addresses),1)]),_:2},1024),a(E,{label:"Должность"},{default:s(()=>[V(U(y.position),1)]),_:2},1024),y.reason?(i(),I(E,{key:2,label:"Причина увольнения"},{default:s(()=>[V(U(y.reason),1)]),_:2},1024)):M("",!0)]))]),_:2},[l.editable&&(!t(_)||t(p)!=y.id.toString())?{name:"footer",fn:s(()=>[a(B,{navlen:2,onDelete:j=>v(y.id),onUpdate:j=>{b.value=y,p.value=y.id.toString(),_.value=!0}},null,8,["onDelete","onUpdate"])]),key:"0"}:void 0]),1024))]))),128))])):(i(),$("div",sa,[t(k)=="pending"||t(c)?(i(),I(O,{key:0,rows:8})):(i(),$("p",ia,"Данные о работе отсутствуют"))]))],64)}}}),da=T({__name:"DocumentForm",props:{docs:{type:Object,default:{}},candId:{type:String,default:""}},emits:["cancel","update"],setup(e,{emit:o}){const d=o,n=H(e.docs);n.value.issue=n.value.issue?ce(n.value.issue,"YYYY-MM-DD").value:"";function l(){d("update",n.value),c()}function u(){d("cancel"),c()}function c(){Object.assign(n.value,{view:"",series:"",digits:"",agency:"",issue:""})}return(_,p)=>{const b=be,f=re,r=pe,k=ie,w=de;return i(),I(w,{state:t(n),onSubmit:ee(l,["prevent"])},{default:s(()=>[a(f,{class:"mb-3",label:"Вид документа"},{default:s(()=>[a(b,{modelValue:t(n).view,"onUpdate:modelValue":p[0]||(p[0]=v=>t(n).view=v),required:"",options:["Паспорт","Иностарнный паспорт","Другое"]},null,8,["modelValue"])]),_:1}),a(f,{class:"mb-3",label:"Серия документа"},{default:s(()=>[a(r,{modelValue:t(n).series,"onUpdate:modelValue":p[1]||(p[1]=v=>t(n).series=v),modelModifiers:{trim:!0,lazy:!0},placeholder:"Серия документа"},null,8,["modelValue"])]),_:1}),a(f,{class:"mb-3",label:"Номер документа"},{default:s(()=>[a(r,{modelValue:t(n).digits,"onUpdate:modelValue":p[2]||(p[2]=v=>t(n).digits=v),modelModifiers:{trim:!0,lazy:!0},required:"",placeholder:"Номер документа"},null,8,["modelValue"])]),_:1}),a(f,{class:"mb-3",label:"Кем выдан"},{default:s(()=>[a(r,{modelValue:t(n).agency,"onUpdate:modelValue":p[3]||(p[3]=v=>t(n).agency=v),modelModifiers:{trim:!0},placeholder:"Кем выдан"},null,8,["modelValue"])]),_:1}),a(f,{class:"mb-3",label:"Дата выдачи"},{default:s(()=>[a(r,{modelValue:t(n).issue,"onUpdate:modelValue":p[4]||(p[4]=v=>t(n).issue=v),modelModifiers:{trim:!0,lazy:!0},required:"",type:"date"},null,8,["modelValue"])]),_:1}),a(k,{onCancel:u})]),_:1},8,["state"])}}}),ua={key:0,class:"py-3"},ca={key:1},pa={key:1},ma={key:2,class:"p-3"},fa={key:1,class:"text-primary"},_a=T({__name:"DocumDiv",props:{candId:{type:String,default:""},editable:{type:Boolean,default:!1}},async setup(e){let o,d;te(["FormsDocumentForm","ElementsSkeletonDiv"]);const m=G(),n=X(),l=e,u=D(!1),c=D(!1),_=D(""),p=D(!1),b=D({}),{data:f,refresh:r,status:k}=([o,d]=Q(async()=>se("documents",async()=>await m("/api/documents/"+l.candId))),o=await o,d(),o);async function w(h){c.value=!0,g(),await m("/api/documents/"+l.candId,{method:"POST",body:h}),n.add({icon:"i-heroicons-check-circle",title:"Успешно",description:"Информация обновлена",color:"green"}),c.value=!1,r()}async function v(h){g(),confirm("Вы действительно хотите удалить запись?")&&(await m("/api/documents/"+h,{method:"DELETE"}),n.add({icon:"i-heroicons-information-circle",title:"Информация",description:`Запись с ID ${h} удалена`,color:"primary"}),r())}async function S(){g(),r()}function g(){p.value=!1,_.value="",u.value=!1}return(h,F)=>{const C=R,z=da,x=Z,O=ae,E=oe,B=le;return i(),$(q,null,[l.editable?(i(),I(C,{key:0,label:t(u)?"Скрыть форму":"Добавить запись",variant:"link",onClick:F[0]||(F[0]=y=>u.value=!t(u))},null,8,["label"])):M("",!0),a(J,{name:"slide-fade"},{default:s(()=>[t(u)?(i(),$("div",ua,[a(x,null,{default:s(()=>[a(z,{"cand-id":l.candId,onCancel:S,onUpdate:w},null,8,["cand-id"])]),_:1})])):M("",!0)]),_:1}),t(f)&&t(f).length?(i(),$("div",ca,[(i(!0),$(q,null,Y(t(f),(y,P)=>(i(),$("div",{key:P,class:"p-1"},[t(k)=="pending"||t(c)?(i(),I(O,{key:0,rows:8})):(i(),I(x,{key:1},ne({default:s(()=>[t(p)&&t(_)==y.id.toString()?(i(),I(z,{key:0,"cand-id":l.candId,docs:t(b),onCancel:S,onUpdate:w},null,8,["cand-id","docs"])):(i(),$("div",pa,[a(E,{label:"Вид документа"},{default:s(()=>[V(U(y.view),1)]),_:2},1024),a(E,{label:"Номер документа"},{default:s(()=>[V(U(y.digits),1)]),_:2},1024),a(E,{label:"Серия документа"},{default:s(()=>[V(U(y.series),1)]),_:2},1024),a(E,{label:"Дата выдачи"},{default:s(()=>[V(U(t(ce)(y.issue,"DD.MM.YYYY")),1)]),_:2},1024),a(E,{label:"Кем выдан"},{default:s(()=>[V(U(y.agency),1)]),_:2},1024)]))]),_:2},[l.editable&&(!t(p)||t(_)!=y.id.toString())?{name:"footer",fn:s(()=>[a(B,{navlen:2,onDelete:j=>v(y.id),onUpdate:j=>{b.value=y,_.value=y.id.toString(),p.value=!0}},null,8,["onDelete","onUpdate"])]),key:"0"}:void 0]),1024))]))),128))])):(i(),$("div",ma,[t(k)=="pending"||t(c)?(i(),I(O,{key:0,rows:8})):(i(),$("p",fa,"Данные отсутствуют"))]))],64)}}}),va=T({__name:"AddressForm",props:{addrs:{type:Object,default:{}},candId:{type:String,default:""}},emits:["cancel","update"],setup(e,{emit:o}){const d=o,n=H(e.addrs);function l(){d("update",n.value),c()}function u(){d("cancel"),c()}function c(){Object.assign(n.value,{view:"",addresses:""})}return(_,p)=>{const b=be,f=re,r=pe,k=ie,w=de;return i(),I(w,{state:t(n),onSubmit:ee(l,["prevent"])},{default:s(()=>[a(f,{class:"mb-3",label:"Вид адреса"},{default:s(()=>[a(b,{modelValue:t(n).view,"onUpdate:modelValue":p[0]||(p[0]=v=>t(n).view=v),modelModifiers:{trim:!0,lazy:!0},required:"",options:["Адрес регистрации","Адрес проживания","Другое"]},null,8,["modelValue"])]),_:1}),a(f,{class:"mb-3",label:"Адрес"},{default:s(()=>[a(r,{modelValue:t(n).addresses,"onUpdate:modelValue":p[1]||(p[1]=v=>t(n).addresses=v),modelModifiers:{trim:!0,lazy:!0},required:"",placeholder:"Адрес"},null,8,["modelValue"])]),_:1}),a(k,{onCancel:u})]),_:1},8,["state"])}}}),ba={key:0,class:"p-1"},ya={key:1},ga={key:1},ha={key:2,class:"p-3"},ka={key:1,class:"text-primary"},wa=T({__name:"AddressDiv",props:{candId:{type:String,default:""},editable:{type:Boolean,default:!1}},async setup(e){let o,d;te(["FormsAddressForm","ElementsSkeletonDiv"]);const m=X(),n=e,l=D(!1),u=D(!1),c=D(!1),_=D(""),p=D({}),{data:b,refresh:f,status:r}=([o,d]=Q(async()=>se("addresses",async()=>await authFetch("/api/addresses/"+n.candId))),o=await o,d(),o);async function k(g){u.value=!0,S(),await authFetch("/api/addresses/"+n.candId,{method:"POST",body:g}),m.add({icon:"i-heroicons-check-circle",title:"Успешно",description:"Информация обновлена",color:"green"}),u.value=!1,f()}async function w(g){S(),confirm("Вы действительно хотите удалить запись?")&&(await authFetch("/api/addresses/"+g,{method:"DELETE"}),m.add({icon:"i-heroicons-information-circle",title:"Информация",description:`Запись с ID ${g} удалена`,color:"primary"}),f())}async function v(){S(),f()}function S(){c.value=!1,l.value=!1,_.value=""}return(g,h)=>{const F=R,C=va,z=Z,x=ae,O=oe,E=le;return i(),$(q,null,[n.editable?(i(),I(F,{key:0,label:t(l)?"Скрыть форму":"Добавить запись",variant:"link",onClick:h[0]||(h[0]=B=>l.value=!t(l))},null,8,["label"])):M("",!0),a(J,{name:"slide-fade"},{default:s(()=>[t(l)?(i(),$("div",ba,[a(z,null,{default:s(()=>[a(C,{"cand-id":n.candId,onCancel:v,onUpdate:k},null,8,["cand-id"])]),_:1})])):M("",!0)]),_:1}),t(b)&&t(b).length?(i(),$("div",ya,[(i(!0),$(q,null,Y(t(b),(B,y)=>(i(),$("div",{key:y,class:"py-3"},[t(r)=="pending"||t(u)?(i(),I(x,{key:0,rows:8})):(i(),I(z,{key:1},ne({default:s(()=>[t(c)&&t(_)==B.id.toString()?(i(),I(C,{key:0,"cand-id":n.candId,addrs:t(p),onCancel:v,onUpdate:k},null,8,["cand-id","addrs"])):(i(),$("div",ga,[a(O,{label:"Тип"},{default:s(()=>[V(U(B.view),1)]),_:2},1024),a(O,{label:"Адрес"},{default:s(()=>[V(U(B.addresses),1)]),_:2},1024)]))]),_:2},[n.editable&&(!t(c)||t(_)!=B.id.toString())?{name:"footer",fn:s(()=>[a(E,{navlen:2,onDelete:P=>w(B.id),onUpdate:P=>{p.value=B,_.value=B.id.toString(),c.value=!0}},null,8,["onDelete","onUpdate"])]),key:"0"}:void 0]),1024))]))),128))])):(i(),$("div",ha,[t(r)=="pending"||t(u)?(i(),I(x,{key:0,rows:8})):(i(),$("p",ka,"Адреса отсутствуют"))]))],64)}}}),$a=T({__name:"ContactForm",props:{contact:{type:Object,default:{}},candId:{type:String,default:""}},emits:["cancel","update"],setup(e,{emit:o}){const d=o,n=H(e.contact);function l(){d("update",n.value),c()}function u(){d("cancel"),c()}function c(){Object.assign(n.value,{view:"",contact:""})}return(_,p)=>{const b=be,f=re,r=pe,k=ie,w=de;return i(),I(w,{state:t(n),onSubmit:ee(l,["prevent"])},{default:s(()=>[a(f,{class:"mb-3",label:"Вид контакта"},{default:s(()=>[a(b,{modelValue:t(n).view,"onUpdate:modelValue":p[0]||(p[0]=v=>t(n).view=v),modelModifiers:{trim:!0,lazy:!0},required:"",options:["Телефон","Электронная почта","Другое"]},null,8,["modelValue"])]),_:1}),a(f,{class:"mb-3",label:"Контакт"},{default:s(()=>[a(r,{modelValue:t(n).contact,"onUpdate:modelValue":p[1]||(p[1]=v=>t(n).contact=v),modelModifiers:{trim:!0,lazy:!0},required:"",placeholder:"Контакт"},null,8,["modelValue"])]),_:1}),a(k,{onCancel:u})]),_:1},8,["state"])}}}),Sa={key:0,class:"py-3"},Ia={key:1},Da={key:1},Ua={key:2,class:"p-3"},Va={key:1,class:"text-primary"},Ea=T({__name:"ContactDiv",props:{candId:{type:String,default:""},editable:{type:Boolean,default:!1}},async setup(e){let o,d;te(["FormsContactForm","ElementsSkeletonDiv"]);const m=G(),n=X(),l=e,u=D(!1),c=D(!1),_=D(""),p=D(!1),b=D({}),{data:f,refresh:r,status:k}=([o,d]=Q(async()=>se("contacts",async()=>await m("/api/contacts/"+l.candId))),o=await o,d(),o);async function w(h){c.value=!0,g(),await m("/api/contacts/"+l.candId,{method:"POST",body:h}),n.add({icon:"i-heroicons-check-circle",title:"Успешно",description:"Информация обновлена",color:"green"}),c.value=!1,r()}async function v(h){g(),confirm("Вы действительно хотите удалить запись?")&&(await m("/api/contacts/"+h,{method:"DELETE"}),n.add({icon:"i-heroicons-information-circle",title:"Информация",description:`Запись с ID ${h} удалена`,color:"primary"}),r())}async function S(){g(),r()}function g(){p.value=!1,_.value="",u.value=!1}return(h,F)=>{const C=R,z=$a,x=Z,O=ae,E=oe,B=le;return i(),$(q,null,[l.editable?(i(),I(C,{key:0,label:t(u)?"Скрыть форму":"Добавить запись",variant:"link",onClick:F[0]||(F[0]=y=>u.value=!t(u))},null,8,["label"])):M("",!0),a(J,{name:"slide-fade"},{default:s(()=>[t(u)?(i(),$("div",Sa,[a(x,null,{default:s(()=>[a(z,{"cand-id":l.candId,onCancel:S,onUpdate:w},null,8,["cand-id"])]),_:1})])):M("",!0)]),_:1}),t(f)&&t(f).length?(i(),$("div",Ia,[(i(!0),$(q,null,Y(t(f),(y,P)=>(i(),$("div",{key:P,class:"p-1"},[t(k)=="pending"||t(c)?(i(),I(O,{key:0,rows:8})):(i(),I(x,{key:1},ne({default:s(()=>[t(p)&&t(_)==y.id.toString()?(i(),I(z,{key:0,"cand-id":l.candId,contact:t(b),onCancel:S,onUpdate:w},null,8,["cand-id","contact"])):(i(),$("div",Da,[a(E,{label:"Вид"},{default:s(()=>[V(U(y.view),1)]),_:2},1024),a(E,{label:"Контакт"},{default:s(()=>[V(U(y.contact),1)]),_:2},1024)]))]),_:2},[l.editable&&(!t(p)||t(_)!=y.id.toString())?{name:"footer",fn:s(()=>[a(B,{navlen:2,onDelete:j=>v(y.id),onUpdate:j=>{b.value=y,_.value=y.id.toString(),p.value=!0}},null,8,["onDelete","onUpdate"])]),key:"0"}:void 0]),1024))]))),128))])):(i(),$("div",Ua,[t(k)=="pending"||t(c)?(i(),I(O,{key:0,rows:2})):(i(),$("p",Va,"Данные отсутствуют"))]))],64)}}}),Fa=T({__name:"AffilationForm",props:{affils:{type:Object,default:{}},candId:{type:String,default:""}},emits:["cancel","update"],setup(e,{emit:o}){const d=o,n=H(e.affils);function l(){d("update",n.value),c()}function u(){d("cancel"),c()}function c(){Object.assign(n.value,{view:"",organization:"",inn:""})}return(_,p)=>{const b=be,f=re,r=pe,k=ie,w=de;return i(),I(w,{state:t(n),onSubmit:ee(l,["prevent"])},{default:s(()=>[a(f,{class:"mb-3",label:"Тип участия"},{default:s(()=>[a(b,{modelValue:t(n).view,"onUpdate:modelValue":p[0]||(p[0]=v=>t(n).view=v),modelModifiers:{trim:!0,lazy:!0},required:"",options:["Являлся государственным/муниципальным служащим","Являлся государственным должностным лицом","Связанные лица работают в государственных организациях","Участвует в деятельности коммерческих организаций"]},null,8,["modelValue"])]),_:1}),a(f,{class:"mb-3",label:"Организация"},{default:s(()=>[a(r,{modelValue:t(n).organization,"onUpdate:modelValue":p[1]||(p[1]=v=>t(n).organization=v),modelModifiers:{trim:!0,lazy:!0},required:"",placeholder:"Организация"},null,8,["modelValue"])]),_:1}),a(f,{class:"mb-3",label:"ИНН"},{default:s(()=>[a(r,{modelValue:t(n).inn,"onUpdate:modelValue":p[2]||(p[2]=v=>t(n).inn=v),modelModifiers:{trim:!0,lazy:!0},placeholder:"ИНН"},null,8,["modelValue"])]),_:1}),a(k,{onCancel:u})]),_:1},8,["state"])}}}),Ca={key:0,class:"py-3"},za={key:1},xa={key:1},Oa={key:2,class:"p-3"},Ta={key:1,class:"text-primary"},Ma=T({__name:"AffilDiv",props:{candId:{type:String,default:""},editable:{type:Boolean,default:!1}},async setup(e){let o,d;te(["FormsAffilationForm","ElementsSkeletonDiv"]);const m=G(),n=X(),l=e,u=D(!1),c=D(!1),_=D(!1),p=D(""),b=D({}),{data:f,refresh:r,status:k}=([o,d]=Q(async()=>se("affilations",async()=>await m("/api/affilations/"+l.candId))),o=await o,d(),o);async function w(h){c.value=!0,g(),await m("/api/affilations/"+l.candId,{method:"POST",body:h}),n.add({icon:"i-heroicons-check-circle",title:"Успешно",description:"Информация обновлена",color:"green"}),c.value=!1,r()}async function v(h){g(),confirm("Вы действительно хотите удалить запись?")&&(await m("/api/affilations/"+h,{method:"DELETE"}),n.add({icon:"i-heroicons-information-circle",title:"Информация",description:`Запись с ID ${h} удалена`,color:"primary"}),r())}async function S(){g(),r()}function g(){_.value=!1,p.value="",u.value=!1}return(h,F)=>{const C=R,z=Fa,x=Z,O=ae,E=oe,B=le;return i(),$(q,null,[l.editable?(i(),I(C,{key:0,label:t(u)?"Скрыть форму":"Добавить запись",variant:"link",onClick:F[0]||(F[0]=y=>u.value=!t(u))},null,8,["label"])):M("",!0),a(J,{name:"slide-fade"},{default:s(()=>[t(u)?(i(),$("div",Ca,[a(x,null,{default:s(()=>[a(z,{"cand-id":l.candId,onCancel:S,onUpdate:w},null,8,["cand-id"])]),_:1})])):M("",!0)]),_:1}),t(f)&&t(f).length?(i(),$("div",za,[(i(!0),$(q,null,Y(t(f),(y,P)=>(i(),$("div",{key:P,class:"p-1"},[t(k)=="pending"||t(c)?(i(),I(O,{key:0,rows:8})):(i(),I(x,{key:1},ne({default:s(()=>[t(_)&&t(p)==y.id.toString()?(i(),I(z,{key:0,"cand-id":l.candId,affils:t(b),onCancel:S,onUpdate:w},null,8,["cand-id","affils"])):(i(),$("div",xa,[a(E,{label:"Тип участия"},{default:s(()=>[V(U(y.view),1)]),_:2},1024),a(E,{label:"Организация"},{default:s(()=>[V(U(y.organization),1)]),_:2},1024),a(E,{label:"ИНН"},{default:s(()=>[V(U(y.inn),1)]),_:2},1024)]))]),_:2},[l.editable&&(!t(_)||t(p)!=y.id.toString())?{name:"footer",fn:s(()=>[a(B,{navlen:2,onDelete:j=>v(y.id),onUpdate:j=>{b.value=y,p.value=y.id.toString(),_.value=!0}},null,8,["onDelete","onUpdate"])]),key:"0"}:void 0]),1024))]))),128))])):(i(),$("div",Oa,[t(k)=="pending"||t(c)?(i(),I(O,{key:0,rows:8})):(i(),$("p",Ta,"Данные отсутствуют"))]))],64)}}}),Aa=T({__name:"PreviousForm",props:{previous:{type:Object,default:{}},candId:{type:String,default:""}},emits:["cancel","update"],setup(e,{emit:o}){const d=o,n=H(e.previous);function l(){d("update",n.value),c()}function u(){d("cancel"),c()}function c(){Object.assign(n.value,{surname:"",firstname:"",patronymic:"",changed:"",reason:""})}return(_,p)=>{const b=pe,f=re,r=ie,k=de;return i(),I(k,{state:t(n),onSubmit:ee(l,["prevent"])},{default:s(()=>[a(f,{class:"mb-3",label:"Фамилия"},{default:s(()=>[a(b,{modelValue:t(n).surname,"onUpdate:modelValue":p[0]||(p[0]=w=>t(n).surname=w),modelModifiers:{trim:!0,lazy:!0},required:"",placeholder:"Фамилия"},null,8,["modelValue"])]),_:1}),a(f,{class:"mb-3",label:"Имя"},{default:s(()=>[a(b,{modelValue:t(n).firstname,"onUpdate:modelValue":p[1]||(p[1]=w=>t(n).firstname=w),modelModifiers:{trim:!0,lazy:!0},required:"",placeholder:"Имя"},null,8,["modelValue"])]),_:1}),a(f,{class:"mb-3",label:"Отчество"},{default:s(()=>[a(b,{modelValue:t(n).patronymic,"onUpdate:modelValue":p[2]||(p[2]=w=>t(n).patronymic=w),modelModifiers:{trim:!0,lazy:!0},placeholder:"Отчество"},null,8,["modelValue"])]),_:1}),a(f,{class:"mb-3",label:"Год изменения"},{default:s(()=>[a(b,{modelValue:t(n).changed,"onUpdate:modelValue":p[3]||(p[3]=w=>t(n).changed=w),modelModifiers:{trim:!0,lazy:!0},placeholder:"Год изменения"},null,8,["modelValue"])]),_:1}),a(f,{class:"mb-3",label:"Причина изменения"},{default:s(()=>[a(b,{modelValue:t(n).reason,"onUpdate:modelValue":p[4]||(p[4]=w=>t(n).reason=w),modelModifiers:{trim:!0,lazy:!0},placeholder:"Причина изменения"},null,8,["modelValue"])]),_:1}),a(r,{onCancel:u})]),_:1},8,["state"])}}}),Ba={key:0,class:"py-3"},Pa={key:1},qa={key:1},ja={key:2,class:"p-3"},La={key:1,class:"text-primary"},Ha=T({__name:"PrevDiv",props:{candId:{type:String,default:""},editable:{type:Boolean,default:!1}},async setup(e){let o,d;te(["FormsPreviousForm","ElementsSkeletonDiv"]);const m=G(),n=X(),l=e,u=D(!1),c=D(!1),_=D(!1),p=D(""),b=D({}),{data:f,refresh:r,status:k}=([o,d]=Q(async()=>se("previous",async()=>await m("/api/previous/"+l.candId))),o=await o,d(),o);async function w(h){c.value=!0,g(),await m("/api/previous/"+l.candId,{method:"POST",body:h}),n.add({icon:"i-heroicons-check-circle",title:"Успешно",description:"Информация обновлена",color:"green"}),c.value=!1,r()}async function v(h){g(),confirm("Вы действительно хотите удалить запись?")&&(await m("/api/previous/"+h,{method:"DELETE"}),n.add({icon:"i-heroicons-information-circle",title:"Информация",description:`Запись с ID ${h} удалена`,color:"primary"}),r())}async function S(){g(),r()}function g(){_.value=!1,p.value="",u.value=!1}return(h,F)=>{const C=R,z=Aa,x=Z,O=ae,E=oe,B=le;return i(),$(q,null,[l.editable?(i(),I(C,{key:0,label:t(u)?"Скрыть форму":"Добавить запись",variant:"link",onClick:F[0]||(F[0]=y=>u.value=!t(u))},null,8,["label"])):M("",!0),a(J,{name:"slide-fade"},{default:s(()=>[t(u)?(i(),$("div",Ba,[a(x,null,{default:s(()=>[a(z,{"cand-id":l.candId,onCancel:S,onUpdate:w},null,8,["cand-id"])]),_:1})])):M("",!0)]),_:1}),t(f)&&t(f).length?(i(),$("div",Pa,[(i(!0),$(q,null,Y(t(f),(y,P)=>(i(),$("div",{key:P,class:"p-1"},[t(k)=="pending"||t(c)?(i(),I(O,{key:0,rows:4})):(i(),I(x,{key:1},ne({default:s(()=>[t(_)&&t(p)==y.id.toString()?(i(),I(z,{key:0,"cand-id":l.candId,previous:t(b),onCancel:S,onUpdate:w},null,8,["cand-id","previous"])):(i(),$("div",qa,[a(E,{label:"Фамилия"},{default:s(()=>[V(U(y.surname),1)]),_:2},1024),a(E,{label:"Имя"},{default:s(()=>[V(U(y.firstname),1)]),_:2},1024),y.patronymic?(i(),I(E,{key:0,label:"Отчество"},{default:s(()=>[V(U(y.patronymic),1)]),_:2},1024)):M("",!0),y.changed?(i(),I(E,{key:1,label:"Год изменения"},{default:s(()=>[V(U(y.changed),1)]),_:2},1024)):M("",!0),y.reason?(i(),I(E,{key:2,label:"Причина"},{default:s(()=>[V(U(y.reason),1)]),_:2},1024)):M("",!0)]))]),_:2},[l.editable&&(!t(_)||t(p)!=y.id.toString())?{name:"footer",fn:s(()=>[a(B,{navlen:2,onDelete:j=>v(y.id.toString()),onUpdate:j=>{b.value=y,p.value=y.id.toString(),_.value=!0}},null,8,["onDelete","onUpdate"])]),key:"0"}:void 0]),1024))]))),128))])):(i(),$("div",ja,[t(k)=="pending"||t(c)?(i(),I(O,{key:0,rows:4})):(i(),$("p",La,"Данные отсутствуют"))]))],64)}}}),Na=T({__name:"RelationForm",props:{relation:{type:Object,default:{}},candId:{type:String,default:""}},emits:["cancel","update"],setup(e,{emit:o}){const d=o,n=H(e.relation);async function l(){d("update",n.value),c()}function u(){d("cancel"),c()}function c(){Object.assign(n.value,{relation:"",relation_id:""})}return(_,p)=>{const b=be,f=re,r=pe,k=ie,w=de;return i(),I(w,{state:t(n),onSubmit:ee(l,["prevent"])},{default:s(()=>[a(f,{class:"mb-3",label:"Тип связи"},{default:s(()=>[a(b,{modelValue:t(n).relation,"onUpdate:modelValue":p[0]||(p[0]=v=>t(n).relation=v),modelModifiers:{trim:!0,lazy:!0},required:"",options:["Одно лицо","Родители-Дети","Братья-Сестры","Супруг-Супруга","Родственники","Близкая связь"]},null,8,["modelValue"])]),_:1}),a(f,{class:"mb-3",label:"ID связи"},{default:s(()=>[a(r,{modelValue:t(n).relation_id,"onUpdate:modelValue":p[1]||(p[1]=v=>t(n).relation_id=v),modelModifiers:{trim:!0,lazy:!0},required:"",type:"number"},null,8,["modelValue"])]),_:1}),a(k,{onCancel:u})]),_:1},8,["state"])}}}),Ya={key:0,class:"py-3"},Ra={key:1},Ga={key:1},Wa={key:2,class:"p-3"},Ka={key:1,class:"text-primary"},Ja=T({__name:"RelateDiv",props:{candId:{type:String,default:""},editable:{type:Boolean,default:!1}},async setup(e){let o,d;te(["FormsRelationForm","ElementsSkeletonDiv"]);const m=G(),n=X(),l=e,u=D(!1),c=D(!1),_=D(!1),p=D(""),b=D({}),{data:f,refresh:r,status:k}=([o,d]=Q(async()=>se("relations",async()=>await m("/api/relations/"+l.candId))),o=await o,d(),o);async function w(h){c.value=!0,g(),await m("/api/relations/"+l.candId,{method:"POST",body:h}),n.add({icon:"i-heroicons-check-circle",title:"Успешно",description:"Информация обновлена",color:"green"}),c.value=!1,r()}async function v(h){g(),confirm("Вы действительно хотите удалить запись?")&&(await m("/api/relations/"+h,{method:"DELETE"}),n.add({icon:"i-heroicons-information-circle",title:"Информация",description:`Запись с ID ${h} удалена`,color:"primary"}),r())}async function S(){g(),r()}function g(){_.value=!1,p.value="",u.value=!1}return(h,F)=>{const C=R,z=Na,x=Z,O=ae,E=oe,B=Ct,y=le;return i(),$(q,null,[l.editable?(i(),I(C,{key:0,label:t(u)?"Скрыть форму":"Добавить запись",variant:"link",onClick:F[0]||(F[0]=P=>u.value=!t(u))},null,8,["label"])):M("",!0),a(J,{name:"slide-fade"},{default:s(()=>[t(u)?(i(),$("div",Ya,[a(x,null,{default:s(()=>[a(z,{"cand-id":l.candId,onCancel:S,onUpdate:w},null,8,["cand-id"])]),_:1})])):M("",!0)]),_:1}),t(f)&&t(f).length?(i(),$("div",Ra,[(i(!0),$(q,null,Y(t(f),(P,j)=>(i(),$("div",{key:j,class:"p-1"},[t(k)=="pending"||t(c)?(i(),I(O,{key:0,rows:2})):(i(),I(x,{key:1},ne({default:s(()=>[t(_)&&t(p)==P.id.toString()?(i(),I(z,{key:0,"cand-id":l.candId,relation:t(b),onCancel:S,onUpdate:w},null,8,["cand-id","relation"])):(i(),$("div",Ga,[a(E,{label:"Тип"},{default:s(()=>[V(U(P.relation),1)]),_:2},1024),a(E,{label:"Связь"},{default:s(()=>[a(B,{to:`/profile/${P.relation_id}`},{default:s(()=>[V(" ID #"+U(P.relation_id),1)]),_:2},1032,["to"])]),_:2},1024)]))]),_:2},[l.editable&&(!t(_)||t(p)!=P.id.toString())?{name:"footer",fn:s(()=>[a(y,{navlen:2,onDelete:yt=>v(P.id.toString()),onUpdate:yt=>{b.value=P,p.value=P.id.toString(),_.value=!0}},null,8,["onDelete","onUpdate"])]),key:"0"}:void 0]),1024))]))),128))])):(i(),$("div",Wa,[t(k)=="pending"||t(c)?(i(),I(O,{key:0,rows:2})):(i(),$("p",Ka,"Данные отсутствуют"))]))],64)}}});function Qa(e){typeof queueMicrotask=="function"?queueMicrotask(e):Promise.resolve().then(e).catch(o=>setTimeout(()=>{throw o}))}var Xa=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(Xa||{});let _t=Symbol("DisclosureContext");function Ye(e){let o=Ue(_t,null);if(o===null){let d=new Error(`<${e} /> is missing a parent <Disclosure /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(d,Ye),d}return o}let vt=Symbol("DisclosurePanelContext");function Za(){return Ue(vt,null)}let eo=T({name:"Disclosure",props:{as:{type:[Object,String],default:"template"},defaultOpen:{type:[Boolean],default:!1}},setup(e,{slots:o,attrs:d}){let m=D(e.defaultOpen?0:1),n=D(null),l=D(null),u={buttonId:D(`headlessui-disclosure-button-${ze()}`),panelId:D(`headlessui-disclosure-panel-${ze()}`),disclosureState:m,panel:n,button:l,toggleDisclosure(){m.value=we(m.value,{0:1,1:0})},closeDisclosure(){m.value!==1&&(m.value=1)},close(c){u.closeDisclosure();let _=c?c instanceof HTMLElement?c:c.value instanceof HTMLElement?L(c):L(u.button):L(u.button);_==null||_.focus()}};return Fe(_t,u),Ht(A(()=>we(m.value,{0:xe.Open,1:xe.Closed}))),()=>{let{defaultOpen:c,..._}=e,p={open:m.value===0,close:u.close};return he({theirProps:_,ourProps:{},slot:p,slots:o,attrs:d,name:"Disclosure"})}}}),to=T({name:"DisclosureButton",props:{as:{type:[Object,String],default:"button"},disabled:{type:[Boolean],default:!1},id:{type:String,default:null}},setup(e,{attrs:o,slots:d,expose:m}){let n=Ye("DisclosureButton"),l=Za(),u=A(()=>l===null?!1:l.value===n.panelId.value);ge(()=>{u.value||e.id!==null&&(n.buttonId.value=e.id)}),Ae(()=>{u.value||(n.buttonId.value=null)});let c=D(null);m({el:c,$el:c}),u.value||st(()=>{n.button.value=c.value});let _=dt(A(()=>({as:e.as,type:o.type})),c);function p(){var r;e.disabled||(u.value?(n.toggleDisclosure(),(r=L(n.button))==null||r.focus()):n.toggleDisclosure())}function b(r){var k;if(!e.disabled)if(u.value)switch(r.key){case W.Space:case W.Enter:r.preventDefault(),r.stopPropagation(),n.toggleDisclosure(),(k=L(n.button))==null||k.focus();break}else switch(r.key){case W.Space:case W.Enter:r.preventDefault(),r.stopPropagation(),n.toggleDisclosure();break}}function f(r){switch(r.key){case W.Space:r.preventDefault();break}}return()=>{var r;let k={open:n.disclosureState.value===0},{id:w,...v}=e,S=u.value?{ref:c,type:_.value,onClick:p,onKeydown:b}:{id:(r=n.buttonId.value)!=null?r:w,ref:c,type:_.value,"aria-expanded":n.disclosureState.value===0,"aria-controls":n.disclosureState.value===0||L(n.panel)?n.panelId.value:void 0,disabled:e.disabled?!0:void 0,onClick:p,onKeydown:b,onKeyup:f};return he({ourProps:S,theirProps:v,slot:k,attrs:o,slots:d,name:"DisclosureButton"})}}}),no=T({name:"DisclosurePanel",props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},id:{type:String,default:null}},setup(e,{attrs:o,slots:d,expose:m}){let n=Ye("DisclosurePanel");ge(()=>{e.id!==null&&(n.panelId.value=e.id)}),Ae(()=>{n.panelId.value=null}),m({el:n.panel,$el:n.panel}),Fe(vt,n.panelId);let l=Nt(),u=A(()=>l!==null?(l.value&xe.Open)===xe.Open:n.disclosureState.value===0);return()=>{var c;let _={open:n.disclosureState.value===0,close:n.close},{id:p,...b}=e,f={id:(c=n.panelId.value)!=null?c:p,ref:n.panel};return he({ourProps:f,theirProps:b,slot:_,attrs:o,slots:d,features:Oe.RenderStrategy|Oe.Static,visible:u.value,name:"DisclosurePanel"})}}}),ao=T({props:{onFocus:{type:Function,required:!0}},setup(e){let o=D(!0);return()=>o.value?Ce(ut,{as:"button",type:"button",features:Yt.Focusable,onFocus(d){d.preventDefault();let m,n=50;function l(){var u;if(n--<=0){m&&cancelAnimationFrame(m);return}if((u=e.onFocus)!=null&&u.call(e)){o.value=!1,cancelAnimationFrame(m);return}m=requestAnimationFrame(l)}m=requestAnimationFrame(l)}}):null}});var oo=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(oo||{}),lo=(e=>(e[e.Less=-1]="Less",e[e.Equal=0]="Equal",e[e.Greater=1]="Greater",e))(lo||{});let bt=Symbol("TabsContext");function Ve(e){let o=Ue(bt,null);if(o===null){let d=new Error(`<${e} /> is missing a parent <TabGroup /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(d,Ve),d}return o}let Re=Symbol("TabsSSRContext"),so=T({name:"TabGroup",emits:{change:e=>!0},props:{as:{type:[Object,String],default:"template"},selectedIndex:{type:[Number],default:null},defaultIndex:{type:[Number],default:0},vertical:{type:[Boolean],default:!1},manual:{type:[Boolean],default:!1}},inheritAttrs:!1,setup(e,{slots:o,attrs:d,emit:m}){var n;let l=D((n=e.selectedIndex)!=null?n:e.defaultIndex),u=D([]),c=D([]),_=A(()=>e.selectedIndex!==null),p=A(()=>_.value?e.selectedIndex:l.value);function b(v){var S;let g=Se(f.tabs.value,L),h=Se(f.panels.value,L),F=g.filter(C=>{var z;return!((z=L(C))!=null&&z.hasAttribute("disabled"))});if(v<0||v>g.length-1){let C=we(l.value===null?0:Math.sign(v-l.value),{[-1]:()=>1,0:()=>we(Math.sign(v),{[-1]:()=>0,0:()=>0,1:()=>1}),1:()=>0}),z=we(C,{0:()=>g.indexOf(F[0]),1:()=>g.indexOf(F[F.length-1])});z!==-1&&(l.value=z),f.tabs.value=g,f.panels.value=h}else{let C=g.slice(0,v),z=[...g.slice(v),...C].find(O=>F.includes(O));if(!z)return;let x=(S=g.indexOf(z))!=null?S:f.selectedIndex.value;x===-1&&(x=f.selectedIndex.value),l.value=x,f.tabs.value=g,f.panels.value=h}}let f={selectedIndex:A(()=>{var v,S;return(S=(v=l.value)!=null?v:e.defaultIndex)!=null?S:null}),orientation:A(()=>e.vertical?"vertical":"horizontal"),activation:A(()=>e.manual?"manual":"auto"),tabs:u,panels:c,setSelectedIndex(v){p.value!==v&&m("change",v),_.value||b(v)},registerTab(v){var S;if(u.value.includes(v))return;let g=u.value[l.value];if(u.value.push(v),u.value=Se(u.value,L),!_.value){let h=(S=u.value.indexOf(g))!=null?S:l.value;h!==-1&&(l.value=h)}},unregisterTab(v){let S=u.value.indexOf(v);S!==-1&&u.value.splice(S,1)},registerPanel(v){c.value.includes(v)||(c.value.push(v),c.value=Se(c.value,L))},unregisterPanel(v){let S=c.value.indexOf(v);S!==-1&&c.value.splice(S,1)}};Fe(bt,f);let r=D({tabs:[],panels:[]}),k=D(!1);ge(()=>{k.value=!0}),Fe(Re,A(()=>k.value?null:r.value));let w=A(()=>e.selectedIndex);return ge(()=>{Ie([w],()=>{var v;return b((v=e.selectedIndex)!=null?v:e.defaultIndex)},{immediate:!0})}),st(()=>{if(!_.value||p.value==null||f.tabs.value.length<=0)return;let v=Se(f.tabs.value,L);v.some((S,g)=>L(f.tabs.value[g])!==L(S))&&f.setSelectedIndex(v.findIndex(S=>L(S)===L(f.tabs.value[p.value])))}),()=>{let v={selectedIndex:l.value};return Ce(q,[u.value.length<=0&&Ce(ao,{onFocus:()=>{for(let S of u.value){let g=L(S);if((g==null?void 0:g.tabIndex)===0)return g.focus(),!0}return!1}}),he({theirProps:{...d,...Rt(e,["selectedIndex","defaultIndex","manual","vertical","onChange"])},ourProps:{},slot:v,slots:o,attrs:d,name:"TabGroup"})])}}}),io=T({name:"TabList",props:{as:{type:[Object,String],default:"div"}},setup(e,{attrs:o,slots:d}){let m=Ve("TabList");return()=>{let n={selectedIndex:m.selectedIndex.value},l={role:"tablist","aria-orientation":m.orientation.value};return he({ourProps:l,theirProps:e,slot:n,attrs:o,slots:d,name:"TabList"})}}}),ro=T({name:"Tab",props:{as:{type:[Object,String],default:"button"},disabled:{type:[Boolean],default:!1},id:{type:String,default:null}},setup(e,{attrs:o,slots:d,expose:m}){var n;let l=(n=e.id)!=null?n:`headlessui-tabs-tab-${ze()}`,u=Ve("Tab"),c=D(null);m({el:c,$el:c}),ge(()=>u.registerTab(c)),Ae(()=>u.unregisterTab(c));let _=Ue(Re),p=A(()=>{if(_.value){let h=_.value.tabs.indexOf(l);return h===-1?_.value.tabs.push(l)-1:h}return-1}),b=A(()=>{let h=u.tabs.value.indexOf(c);return h===-1?p.value:h}),f=A(()=>b.value===u.selectedIndex.value);function r(h){var F;let C=h();if(C===Ee.Success&&u.activation.value==="auto"){let z=(F=Gt(c))==null?void 0:F.activeElement,x=u.tabs.value.findIndex(O=>L(O)===z);x!==-1&&u.setSelectedIndex(x)}return C}function k(h){let F=u.tabs.value.map(C=>L(C)).filter(Boolean);if(h.key===W.Space||h.key===W.Enter){h.preventDefault(),h.stopPropagation(),u.setSelectedIndex(b.value);return}switch(h.key){case W.Home:case W.PageUp:return h.preventDefault(),h.stopPropagation(),r(()=>ke(F,me.First));case W.End:case W.PageDown:return h.preventDefault(),h.stopPropagation(),r(()=>ke(F,me.Last))}if(r(()=>we(u.orientation.value,{vertical(){return h.key===W.ArrowUp?ke(F,me.Previous|me.WrapAround):h.key===W.ArrowDown?ke(F,me.Next|me.WrapAround):Ee.Error},horizontal(){return h.key===W.ArrowLeft?ke(F,me.Previous|me.WrapAround):h.key===W.ArrowRight?ke(F,me.Next|me.WrapAround):Ee.Error}}))===Ee.Success)return h.preventDefault()}let w=D(!1);function v(){var h;w.value||(w.value=!0,!e.disabled&&((h=L(c))==null||h.focus({preventScroll:!0}),u.setSelectedIndex(b.value),Qa(()=>{w.value=!1})))}function S(h){h.preventDefault()}let g=dt(A(()=>({as:e.as,type:o.type})),c);return()=>{var h,F;let C={selected:f.value,disabled:(h=e.disabled)!=null?h:!1},{...z}=e,x={ref:c,onKeydown:k,onMousedown:S,onClick:v,id:l,role:"tab",type:g.value,"aria-controls":(F=L(u.panels.value[b.value]))==null?void 0:F.id,"aria-selected":f.value,tabIndex:f.value?0:-1,disabled:e.disabled?!0:void 0};return he({ourProps:x,theirProps:z,slot:C,attrs:o,slots:d,name:"Tab"})}}}),uo=T({name:"TabPanels",props:{as:{type:[Object,String],default:"div"}},setup(e,{slots:o,attrs:d}){let m=Ve("TabPanels");return()=>{let n={selectedIndex:m.selectedIndex.value};return he({theirProps:e,ourProps:{},slot:n,attrs:d,slots:o,name:"TabPanels"})}}}),co=T({name:"TabPanel",props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},id:{type:String,default:null},tabIndex:{type:Number,default:0}},setup(e,{attrs:o,slots:d,expose:m}){var n;let l=(n=e.id)!=null?n:`headlessui-tabs-panel-${ze()}`,u=Ve("TabPanel"),c=D(null);m({el:c,$el:c}),ge(()=>u.registerPanel(c)),Ae(()=>u.unregisterPanel(c));let _=Ue(Re),p=A(()=>{if(_.value){let r=_.value.panels.indexOf(l);return r===-1?_.value.panels.push(l)-1:r}return-1}),b=A(()=>{let r=u.panels.value.indexOf(c);return r===-1?p.value:r}),f=A(()=>b.value===u.selectedIndex.value);return()=>{var r;let k={selected:f.value},{tabIndex:w,...v}=e,S={ref:c,id:l,role:"tabpanel","aria-labelledby":(r=L(u.tabs.value[b.value]))==null?void 0:r.id,tabIndex:f.value?w:-1};return!f.value&&e.unmount&&!e.static?Ce(ut,{as:"span","aria-hidden":!0,...S}):he({ourProps:S,theirProps:v,slot:k,attrs:o,slots:d,features:Oe.Static|Oe.RenderStrategy,visible:f.value,name:"TabPanel"})}}});const Pe=De(ve.ui.strategy,ve.ui.accordion,Jt),po=De(ve.ui.strategy,ve.ui.button,zt),mo=T({components:{HDisclosure:eo,HDisclosureButton:to,HDisclosurePanel:no,UIcon:$e,UButton:R},inheritAttrs:!1,props:{items:{type:Array,default:()=>[]},defaultOpen:{type:Boolean,default:!1},openIcon:{type:String,default:()=>Pe.default.openIcon},unmount:{type:Boolean,default:!1},closeIcon:{type:String,default:()=>Pe.default.closeIcon},multiple:{type:Boolean,default:!1},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},emits:["open"],setup(e,{emit:o}){const{ui:d,attrs:m}=Me("accordion",H(e,"ui"),Pe,H(e,"class")),n=A(()=>po),l=D([]),u=A(()=>l.value.map(({open:r})=>r));Ie(u,(r,k)=>{for(const w in r){const v=k[w],S=r[w];!v&&S&&o("open",w)}},{immediate:!0});function c(r,k){!e.items[r].closeOthers&&e.multiple||l.value.forEach(w=>{w.open&&w.close(k.target)})}function _(r,k){const w=r;w.style.height="0",w.offsetHeight,w.style.height=w.scrollHeight+"px",w.addEventListener("transitionend",k,{once:!0})}function p(r){const k=r;k.style.height=k.scrollHeight+"px",k.offsetHeight}function b(r){const k=r;k.style.height="auto"}function f(r,k){const w=r;w.style.height="0",w.addEventListener("transitionend",k,{once:!0})}return ct(()=>it()),{ui:d,uiButton:n,attrs:m,buttonRefs:l,closeOthers:c,omit:xt,onEnter:_,onBeforeLeave:p,onAfterEnter:b,onLeave:f}}}),fo={key:1};function _o(e,o,d,m,n,l){const u=$e,c=R,_=ye("HDisclosureButton"),p=ye("HDisclosurePanel"),b=ye("HDisclosure");return i(),$("div",{class:N(e.ui.wrapper)},[(i(!0),$(q,null,Y(e.items,(f,r)=>(i(),I(b,{key:r,as:"div",class:N(e.ui.container),"default-open":e.defaultOpen||f.defaultOpen},{default:s(({open:k,close:w})=>[a(_,{ref_for:!0,ref:()=>e.buttonRefs[r]={open:k,close:w},as:"template",disabled:f.disabled,onClick:v=>e.closeOthers(r,v),onKeydown:[je(v=>e.closeOthers(r,v),["enter"]),je(v=>e.closeOthers(r,v),["space"])]},{default:s(()=>[ue(e.$slots,"default",{item:f,index:r,open:k,close:w},()=>[a(c,fe({ref_for:!0},{...e.omit(e.ui.default,["openIcon","closeIcon"]),...e.attrs,...e.omit(f,["slot","disabled","content","defaultOpen"])}),{trailing:s(()=>[a(u,{name:k&&e.closeIcon?e.closeIcon:e.openIcon,class:N([k&&!e.closeIcon?"-rotate-180":"",e.uiButton.icon.size[f.size||e.uiButton.default.size],e.ui.item.icon])},null,8,["name","class"])]),_:2},1040)])]),_:2},1032,["disabled","onClick","onKeydown"]),a(J,fe({ref_for:!0},e.ui.transition,{onEnter:e.onEnter,onAfterEnter:e.onAfterEnter,onBeforeLeave:e.onBeforeLeave,onLeave:e.onLeave}),{default:s(()=>[e.unmount?(i(),I(p,{key:0,class:N([e.ui.item.base,e.ui.item.size,e.ui.item.color,e.ui.item.padding]),unmount:""},{default:s(()=>[ue(e.$slots,f.slot||"item",{item:f,index:r,open:k,close:w},()=>[V(U(f.content),1)])]),_:2},1032,["class"])):nt((i(),$("div",fo,[a(p,{class:N([e.ui.item.base,e.ui.item.size,e.ui.item.color,e.ui.item.padding]),static:""},{default:s(()=>[ue(e.$slots,f.slot||"item",{item:f,index:r,open:k,close:w},()=>[V(U(f.content),1)])]),_:2},1032,["class"])],512)),[[at,k]])]),_:2},1040,["onEnter","onAfterEnter","onBeforeLeave","onLeave"])]),_:2},1032,["class","default-open"]))),128))],2)}const vo=Te(mo,[["render",_o]]),bo=T({__name:"AnketaTab",props:{editable:{type:Boolean,default:!1},candId:{type:String,default:""},person:{type:Object,default:{}}},emits:["update"],setup(e,{emit:o}){const d=e,m=o,n=[{label:"Резюме",icon:"i-heroicons-user",defaultOpen:!0,slot:"resume"},{label:"Должности",icon:"i-heroicons-briefcase",slot:"staff"},{label:"Образование",icon:"i-heroicons-academic-cap",slot:"education"},{label:"Работа",icon:"i-heroicons-briefcase",slot:"work"},{label:"Документы",icon:"i-heroicons-document-text",slot:"document"},{label:"Адреса",icon:"i-heroicons-home-modern",slot:"address"},{label:"Контакты",icon:"i-heroicons-phone",slot:"contact"},{label:"Аффилированные",icon:"i-heroicons-user-group",slot:"affiliation"},{label:"Изменения имени",icon:"i-heroicons-archive-box-arrow-down",slot:"prev"},{label:"Связанные",icon:"i-heroicons-user-group",slot:"relate"}];return(l,u)=>{const c=jn,_=Wn,p=ta,b=ra,f=_a,r=wa,k=Ea,w=Ma,v=Ha,S=Ja,g=vo;return i(),I(g,{items:n,size:"lg",multiple:""},{resume:s(()=>[a(c,{"cand-id":d.candId,editable:d.editable,person:d.person,onUpdate:u[0]||(u[0]=h=>m("update"))},null,8,["cand-id","editable","person"])]),staff:s(()=>[a(_,{"cand-id":d.candId,editable:d.editable},null,8,["cand-id","editable"])]),education:s(()=>[a(p,{"cand-id":d.candId,editable:d.editable},null,8,["cand-id","editable"])]),work:s(()=>[a(b,{"cand-id":d.candId,editable:d.editable},null,8,["cand-id","editable"])]),document:s(()=>[a(f,{"cand-id":d.candId,editable:d.editable},null,8,["cand-id","editable"])]),address:s(()=>[a(r,{"cand-id":d.candId,editable:d.editable},null,8,["cand-id","editable"])]),contact:s(()=>[a(k,{"cand-id":d.candId,editable:d.editable},null,8,["cand-id","editable"])]),affiliation:s(()=>[a(w,{"cand-id":d.candId,editable:d.editable},null,8,["cand-id","editable"])]),prev:s(()=>[a(v,{"cand-id":d.candId,editable:d.editable},null,8,["cand-id","editable"])]),relate:s(()=>[a(S,{"cand-id":d.candId,editable:d.editable},null,8,["cand-id","editable"])]),_:1})}}}),yo=T({__name:"CheckForm",props:{check:{type:Object,default:{}},candId:{type:String,default:""}},emits:["cancel","update"],setup(e,{emit:o}){const d=o,n=H(e.check),l=D(!1);function u(){d("update",n.value),_()}function c(){d("cancel"),_()}function _(){l.value=!1,Object.keys(n.value).forEach(p=>{n.value[p]=""})}return Ie(l,()=>{l.value&&Object.assign(n.value,{workplace:"Негатив по местам работы не выявлен",document:"Среди недействительных документов не значится",inn:"ИНН соответствует",debt:"Задолженности не обнаружены",bankruptcy:"Решений о признании банкротом не имеется",bki:"Кредитная история положительная",courts:"Судебные дела не обнаружены",affilation:"Аффилированность не выявлена",terrorist:"В списке террористов не обнаружен",mvd:"В розыск не объявлен",internet:"В открытых источниках негатив не обнаружен",cronos:"В Кронос негатив не выявлен"})}),(p,b)=>{const f=Wt,r=re,k=Be,w=be,v=ie,S=de;return i(),$(q,null,[a(r,{state:t(l),class:"mb-3",label:"Негатива нет"},{default:s(()=>[a(f,{modelValue:t(l),"onUpdate:modelValue":b[0]||(b[0]=g=>He(l)?l.value=g:null)},null,8,["modelValue"])]),_:1},8,["state"]),a(S,{state:t(n),onSubmit:ee(u,["prevent"])},{default:s(()=>[a(r,{class:"mb-3",label:"Проверка по местам работы"},{default:s(()=>[a(k,{modelValue:t(n).workplace,"onUpdate:modelValue":b[1]||(b[1]=g=>t(n).workplace=g),modelModifiers:{trim:!0,lazy:!0},autoresize:"",placeholder:"Проверка по местам работы"},null,8,["modelValue"])]),_:1}),a(r,{class:"mb-3",label:"Проверка документов"},{default:s(()=>[a(k,{modelValue:t(n).document,"onUpdate:modelValue":b[2]||(b[2]=g=>t(n).document=g),modelModifiers:{trim:!0,lazy:!0},autoresize:"",placeholder:"Проверка документов"},null,8,["modelValue"])]),_:1}),a(r,{class:"mb-3",label:"Проверка ИНН"},{default:s(()=>[a(k,{modelValue:t(n).inn,"onUpdate:modelValue":b[3]||(b[3]=g=>t(n).inn=g),modelModifiers:{trim:!0,lazy:!0},autoresize:"",placeholder:"Проверка ИНН"},null,8,["modelValue"])]),_:1}),a(r,{class:"mb-3",label:"Проверка задолженностей"},{default:s(()=>[a(k,{modelValue:t(n).debt,"onUpdate:modelValue":b[4]||(b[4]=g=>t(n).debt=g),modelModifiers:{trim:!0,lazy:!0},autoresize:"",placeholder:"Проверка задолженностей"},null,8,["modelValue"])]),_:1}),a(r,{class:"mb-3",label:"Проверка банкротства"},{default:s(()=>[a(k,{modelValue:t(n).bankruptcy,"onUpdate:modelValue":b[5]||(b[5]=g=>t(n).bankruptcy=g),modelModifiers:{trim:!0,lazy:!0},autoresize:"",placeholder:"Проверка банкротства"},null,8,["modelValue"])]),_:1}),a(r,{class:"mb-3",label:"Проверка Кредитной истории"},{default:s(()=>[a(k,{modelValue:t(n).bki,"onUpdate:modelValue":b[6]||(b[6]=g=>t(n).bki=g),modelModifiers:{trim:!0,lazy:!0},autoresize:"",placeholder:"Проверка Кредитной истории"},null,8,["modelValue"])]),_:1}),a(r,{class:"mb-3",label:"Проверка судебных дел"},{default:s(()=>[a(k,{modelValue:t(n).courts,"onUpdate:modelValue":b[7]||(b[7]=g=>t(n).courts=g),modelModifiers:{trim:!0,lazy:!0},autoresize:"",placeholder:"Проверка судебных дел"},null,8,["modelValue"])]),_:1}),a(r,{class:"mb-3",label:"Проверка аффилированности"},{default:s(()=>[a(k,{modelValue:t(n).affilation,"onUpdate:modelValue":b[8]||(b[8]=g=>t(n).affilation=g),modelModifiers:{trim:!0,lazy:!0},autoresize:"",placeholder:"Проверка аффилированности"},null,8,["modelValue"])]),_:1}),a(r,{class:"mb-3",label:"Проверка в списке террористов"},{default:s(()=>[a(k,{modelValue:t(n).terrorist,"onUpdate:modelValue":b[9]||(b[9]=g=>t(n).terrorist=g),modelModifiers:{trim:!0,lazy:!0},autoresize:"",placeholder:"Проверка в списке террористов"},null,8,["modelValue"])]),_:1}),a(r,{class:"mb-3",label:"Проверка в розыск"},{default:s(()=>[a(k,{modelValue:t(n).mvd,"onUpdate:modelValue":b[10]||(b[10]=g=>t(n).mvd=g),modelModifiers:{trim:!0,lazy:!0},autoresize:"",placeholder:"Проверка в розыск"},null,8,["modelValue"])]),_:1}),a(r,{class:"mb-3",label:"Проверка в открытых источниках"},{default:s(()=>[a(k,{modelValue:t(n).internet,"onUpdate:modelValue":b[11]||(b[11]=g=>t(n).internet=g),modelModifiers:{trim:!0,lazy:!0},autoresize:"",placeholder:"Проверка в открытых источниках"},null,8,["modelValue"])]),_:1}),a(r,{class:"mb-3",label:"Проверка в Кронос"},{default:s(()=>[a(k,{modelValue:t(n).cronos,"onUpdate:modelValue":b[12]||(b[12]=g=>t(n).cronos=g),modelModifiers:{trim:!0,lazy:!0},autoresize:"",placeholder:"Проверка в Кронос/Крос"},null,8,["modelValue"])]),_:1}),a(r,{class:"mb-3",label:"Дополнительная информация"},{default:s(()=>[a(k,{modelValue:t(n).addition,"onUpdate:modelValue":b[13]||(b[13]=g=>t(n).addition=g),modelModifiers:{trim:!0,lazy:!0},autoresize:"",placeholder:"Дополнительная информация"},null,8,["modelValue"])]),_:1}),a(r,{class:"mb-3",label:"Комментарии"},{default:s(()=>[a(k,{modelValue:t(n).comment,"onUpdate:modelValue":b[14]||(b[14]=g=>t(n).comment=g),modelModifiers:{trim:!0,lazy:!0},autoresize:"",placeholder:"Комментарии"},null,8,["modelValue"])]),_:1}),a(r,{class:"mb-3",label:"Результат"},{default:s(()=>[a(w,{modelValue:t(n).conclusion,"onUpdate:modelValue":b[15]||(b[15]=g=>t(n).conclusion=g),modelModifiers:{trim:!0,lazy:!0},required:"",options:["СОГЛАСОВАНО","СОГЛАСОВАНО С КОММЕНТАРИЕМ","ОТКАЗАНО В СОГЛАСОВАНИИ"]},null,8,["modelValue"])]),_:1}),a(v,{onCancel:c})]),_:1},8,["state"])],64)}}}),go={key:0,class:"py-3"},ho={key:1},ko={class:"tex-base text-red-800 dark:text-gray-400 font-medium"},wo={key:1},$o={key:2,class:"p-3"},So={key:1,class:"text-red-800"},Io=T({__name:"CheckTab",props:{candId:{type:String,default:""},editable:{type:Boolean,default:!1}},async setup(e){let o,d;te(["FormsCheckForm","ElementsSkeletonDiv"]);const m=G(),n=X(),l=e,u=D(!1),c=D(!1),_=D(!1),p=D(""),b=D({}),{data:f,refresh:r,status:k}=([o,d]=Q(async()=>se("checks",async()=>await m(`/api/checks/${l.candId}`))),o=await o,d(),o);async function w(h){c.value=!0,g(),await m("/api/checks/"+l.candId,{method:"POST",body:h}),n.add({icon:"i-heroicons-check-circle",title:"Успешно",description:"Информация обновлена",color:"green"}),c.value=!1,r()}async function v(h){g(),confirm("Вы действительно хотите удалить запись?")&&(await m(`/api/checks/${h}`,{method:"DELETE"}),n.add({icon:"i-heroicons-information-circle",title:"Информация",description:`Запись с ID ${h} удалена`,color:"primary"}),r())}async function S(){g(),r()}function g(){u.value=!1,p.value="",_.value=!1}return(h,F)=>{const C=R,z=yo,x=Z,O=ae,E=oe,B=le;return i(),$(q,null,[l.editable?(i(),I(C,{key:0,class:"py-3",label:t(_)?"Скрыть форму":"Добавить запись",variant:"link",onClick:F[0]||(F[0]=y=>_.value=!t(_))},null,8,["label"])):M("",!0),a(J,{name:"slide-fade"},{default:s(()=>[t(_)?(i(),$("div",go,[a(x,null,{default:s(()=>[a(z,{"cand-id":l.candId,onUpdate:w,onCancel:S},null,8,["cand-id"])]),_:1})])):M("",!0)]),_:1}),t(f)&&t(f).length?(i(),$("div",ho,[(i(!0),$(q,null,Y(t(f),(y,P)=>(i(),$("div",{key:P,class:"text-sm text-gray-500 dark:text-gray-400 py-1"},[t(k)=="pending"||t(c)?(i(),I(O,{key:0,rows:18})):(i(),I(x,{key:1},ne({header:s(()=>[K("div",ko,U("Проверка кандидата ID #"+y.id),1)]),default:s(()=>[t(u)&&t(p)==y.id.toString()?(i(),I(z,{key:0,"cand-id":l.candId,check:y,onCancel:S,onUpdate:w},null,8,["cand-id","check"])):(i(),$("div",wo,[a(E,{label:"Проверка по местам работы"},{default:s(()=>[V(U(y.workplace),1)]),_:2},1024),a(E,{label:"Проверка паспорта"},{default:s(()=>[V(U(y.document),1)]),_:2},1024),a(E,{label:"Проверка ИНН"},{default:s(()=>[V(U(y.inn),1)]),_:2},1024),a(E,{label:"Проверка ФССП"},{default:s(()=>[V(U(y.debt),1)]),_:2},1024),a(E,{label:"Проверка банкротства"},{default:s(()=>[V(U(y.bankruptcy),1)]),_:2},1024),a(E,{label:"Проверка БКИ"},{default:s(()=>[V(U(y.bki),1)]),_:2},1024),a(E,{label:"Проверка судебных решений"},{default:s(()=>[V(U(y.courts),1)]),_:2},1024),a(E,{label:"Проверка аффилированности"},{default:s(()=>[V(U(y.affilation),1)]),_:2},1024),a(E,{label:"Проверка по списку террористов"},{default:s(()=>[V(U(y.terrorist),1)]),_:2},1024),a(E,{label:"Проверка в розыск"},{default:s(()=>[V(U(y.mvd),1)]),_:2},1024),a(E,{label:"Проверка в открытых источниках"},{default:s(()=>[V(U(y.internet),1)]),_:2},1024),a(E,{label:"Проверка в Кронос"},{default:s(()=>[V(U(y.cronos),1)]),_:2},1024),a(E,{label:"Дополнительная информация"},{default:s(()=>[V(U(y.addition),1)]),_:2},1024),a(E,{label:"Комментарии"},{default:s(()=>[V(U(y.comment),1)]),_:2},1024),a(E,{label:"Результат"},{default:s(()=>[V(U(y.conclusion),1)]),_:2},1024),a(E,{label:"Сотрудник"},{default:s(()=>[V(U(y.username),1)]),_:2},1024),a(E,{label:"Дата записи"},{default:s(()=>[V(U(t(ce)(y.created,"YYYY-MM-DD HH:mm:ss")),1)]),_:2},1024)]))]),_:2},[l.editable&&(!t(u)||t(p)!=y.id.toString())?{name:"footer",fn:s(()=>[a(B,{"cand-id":l.candId,item:"checks",onUpdate:j=>{b.value=y,p.value=y.id.toString(),u.value=!0},onDelete:j=>v(y.id)},null,8,["cand-id","onUpdate","onDelete"])]),key:"0"}:void 0]),1024))]))),128))])):(i(),$("div",$o,[t(k)=="pending"||t(c)?(i(),I(O,{key:0,rows:18})):(i(),$("p",So,"Проверка кандидата отсутствует"))]))],64)}}}),Do=T({__name:"PoligrafForm",props:{poligraf:{type:Object,default:{}},candId:{type:String,default:""}},emits:["cancel","update"],setup(e,{emit:o}){const d=o,n=H(e.poligraf);function l(){d("update",n.value),n.value.theme="",n.value.results=""}function u(){d("cancel"),n.value.theme="",n.value.results=""}return(c,_)=>{const p=be,b=re,f=Be,r=ie,k=de;return i(),I(k,{state:t(n),onSubmit:ee(l,["prevent"])},{default:s(()=>[a(b,{class:"mb-3",label:"Тема проверки"},{default:s(()=>[a(p,{modelValue:t(n).theme,"onUpdate:modelValue":_[0]||(_[0]=w=>t(n).theme=w),required:"",options:["Проверка кандидата","Служебная проверка","Служебное расследование","Плановое мероприятие"]},null,8,["modelValue"])]),_:1}),a(b,{class:"mb-3",label:"Результат"},{default:s(()=>[a(f,{modelValue:t(n).results,"onUpdate:modelValue":_[1]||(_[1]=w=>t(n).results=w),modelModifiers:{trim:!0,lazy:!0},required:"",autoresize:"",placeholder:"Результат"},null,8,["modelValue"])]),_:1}),a(r,{onCancel:u})]),_:1},8,["state"])}}}),Uo={key:0,class:"py-3"},Vo={key:1},Eo={class:"tex-base text-red-800 font-medium"},Fo={key:1},Co={key:2,class:"p-3"},zo={key:1,class:"text-red-800"},xo=T({__name:"PoligrafTab",props:{candId:{type:String,default:""},editable:{type:Boolean,default:!1}},async setup(e){let o,d;te(["FormsPoligrafForm","ElementsSkeletonDiv"]);const m=G(),n=X(),l=e,u=D(!1),c=D(!1),_=D(!1),p=D(""),b=D({}),{data:f,refresh:r,status:k}=([o,d]=Q(async()=>se("poligrafs",async()=>await m("/api/poligrafs/"+l.candId))),o=await o,d(),o);async function w(h){c.value=!0,g(),await m("/api/poligrafs/"+l.candId,{method:"POST",body:h}),n.add({icon:"i-heroicons-check-circle",title:"Успешно",description:"Информация обновлена",color:"green"}),c.value=!1,r()}async function v(h){g(),confirm("Вы действительно хотите удалить запись?")&&(await m("/api/poligrafs/"+h,{method:"DELETE"}),n.add({icon:"i-heroicons-information-circle",title:"Информация",description:`Запись с ID ${h} удалена`,color:"primary"}),r())}async function S(){g(),r()}function g(){_.value=!1,u.value=!1,p.value=""}return(h,F)=>{const C=R,z=Do,x=Z,O=ae,E=oe,B=le;return i(),$(q,null,[e.editable?(i(),I(C,{key:0,class:"py-3",label:t(_)?"Скрыть форму":"Добавить запись",variant:"link",onClick:F[0]||(F[0]=y=>_.value=!t(_))},null,8,["label"])):M("",!0),a(J,{name:"slide-fade"},{default:s(()=>[t(_)?(i(),$("div",Uo,[a(x,null,{default:s(()=>[a(z,{"cand-id":l.candId,onCancel:S,onUpdate:w},null,8,["cand-id"])]),_:1})])):M("",!0)]),_:1}),t(f)&&t(f).length?(i(),$("div",Vo,[(i(!0),$(q,null,Y(t(f),(y,P)=>(i(),$("div",{key:P,class:"text-sm text-gray-500 dark:text-gray-400 py-1"},[t(k)=="pending"||t(c)?(i(),I(O,{key:0,rows:4})):(i(),I(x,{key:1},ne({header:s(()=>[K("div",Eo,U("Обследование на полиграфе ID #"+y.id),1)]),default:s(()=>[t(u)&&t(p)==y.id.toString()?(i(),I(z,{key:0,"cand-id":l.candId,poligraf:y,onCancel:S,onUpdate:w},null,8,["cand-id","poligraf"])):(i(),$("div",Fo,[a(E,{label:"Тема проверки"},{default:s(()=>[V(U(y.theme),1)]),_:2},1024),a(E,{label:"Результат"},{default:s(()=>[V(U(y.results),1)]),_:2},1024),a(E,{label:"Сотрудник"},{default:s(()=>[V(U(y.username),1)]),_:2},1024),a(E,{label:"Дата записи"},{default:s(()=>[V(U(t(ce)(y.created,"YYYY-MM-DD HH:mm:ss")),1)]),_:2},1024)]))]),_:2},[l.editable&&(!t(u)||t(p)!=y.id.toString())?{name:"footer",fn:s(()=>[a(B,{"cand-id":l.candId,item:"poligrafs",onUpdate:j=>{b.value=y,p.value=y.id.toString(),u.value=!0},onDelete:j=>v(y.id)},null,8,["cand-id","onUpdate","onDelete"])]),key:"0"}:void 0]),1024))]))),128))])):(i(),$("div",Co,[t(k)=="pending"||t(c)?(i(),I(O,{key:0,rows:4})):(i(),$("p",zo,"Обследование на полиграфе не проводилось"))]))],64)}}}),Oo=T({__name:"InvestigationForm",props:{investigation:{type:Object,default:{}},candId:{type:String,default:""}},emits:["cancel","update"],setup(e,{emit:o}){const d=o,n=H(e.investigation);function l(){d("update",n.value),c()}function u(){d("cancel"),c()}function c(){Object.assign(n.value,{theme:"",info:""})}return(_,p)=>{const b=pe,f=re,r=Be,k=ie,w=de;return i(),I(w,{state:t(n),onSubmit:ee(l,["prevent"])},{default:s(()=>[a(f,{class:"mb-3",label:"Тема проверки"},{default:s(()=>[a(b,{modelValue:t(n).theme,"onUpdate:modelValue":p[0]||(p[0]=v=>t(n).theme=v),modelModifiers:{trim:!0,lazy:!0},required:"",placeholder:"Тема проверки"},null,8,["modelValue"])]),_:1}),a(f,{class:"mb-3",label:"Информация"},{default:s(()=>[a(r,{modelValue:t(n).info,"onUpdate:modelValue":p[1]||(p[1]=v=>t(n).info=v),modelModifiers:{trim:!0,lazy:!0},required:"",autoresize:"",placeholder:"Информация"},null,8,["modelValue"])]),_:1}),a(k,{onCancel:u})]),_:1},8,["state"])}}}),To={key:0,class:"py-3"},Mo={key:1},Ao={class:"tex-base text-red-800 font-medium"},Bo={key:1},Po={key:2,class:"p-3"},qo={key:1,class:"text-red-800"},jo=T({__name:"InvestigateTab",props:{candId:{type:String,default:""},editable:{type:Boolean,default:!1}},async setup(e){let o,d;te(["FormsInvestigationForm","ElementsSkeletonDiv"]);const m=G(),n=X(),l=e,u=D(!1),c=D(!1),_=D(!1),p=D(""),b=D({}),{data:f,refresh:r,status:k}=([o,d]=Q(async()=>se("investigations",async()=>await m("/api/investigations/"+l.candId))),o=await o,d(),o);async function w(h){c.value=!0,g(),await m("/api/investigations/"+l.candId,{method:"POST",body:h}),n.add({icon:"i-heroicons-check-circle",title:"Успешно",description:"Информация обновлена",color:"green"}),c.value=!1,r()}async function v(h){g(),confirm("Вы действительно хотите удалить запись?")&&(await m(`/api/investigations/${h}`,{method:"DELETE"}),n.add({icon:"i-heroicons-information-circle",title:"Информация",description:`Запись с ID ${h} удалена`,color:"primary"}),r())}async function S(){g(),r()}function g(){_.value=!1,p.value="",u.value=!1}return(h,F)=>{const C=R,z=Oo,x=Z,O=ae,E=oe,B=le;return i(),$(q,null,[l.editable?(i(),I(C,{key:0,class:"py-3",label:t(u)?"Скрыть форму":"Добавить запись",variant:"link",onClick:F[0]||(F[0]=y=>u.value=!t(u))},null,8,["label"])):M("",!0),a(J,{name:"slide-fade"},{default:s(()=>[t(u)?(i(),$("div",To,[a(x,null,{default:s(()=>[a(z,{"cand-id":l.candId,onCancel:S,onUpdate:w},null,8,["cand-id"])]),_:1})])):M("",!0)]),_:1}),t(f)&&t(f).length?(i(),$("div",Mo,[(i(!0),$(q,null,Y(t(f),(y,P)=>(i(),$("div",{key:P,class:"text-sm text-gray-500 dark:text-gray-400 py-1"},[t(k)=="pending"||t(c)?(i(),I(O,{key:0,rows:4})):(i(),I(x,{key:1},ne({header:s(()=>[K("div",Ao,U("Расследование/проверка ID #"+y.id),1)]),default:s(()=>[t(_)&&t(p)==y.id.toString()?(i(),I(z,{key:0,"cand-id":l.candId,investigation:y,onCancel:S,onUpdate:w},null,8,["cand-id","investigation"])):(i(),$("div",Bo,[a(E,{label:"Тема проверки"},{default:s(()=>[V(U(y.theme),1)]),_:2},1024),a(E,{label:"Информация"},{default:s(()=>[V(U(y.info),1)]),_:2},1024),a(E,{label:"Сотрудник"},{default:s(()=>[V(U(y.username),1)]),_:2},1024),a(E,{label:"Дата записи"},{default:s(()=>[V(U(t(ce)(y.created,"YYYY-MM-DD HH:mm:ss")),1)]),_:2},1024)]))]),_:2},[l.editable&&(!t(_)||t(p)!=y.id.toString())?{name:"footer",fn:s(()=>[a(B,{"cand-id":l.candId,item:"investigations",onUpdate:j=>{b.value=y,p.value=y.id.toString(),_.value=!0},onDelete:j=>v(y.id)},null,8,["cand-id","onUpdate","onDelete"])]),key:"0"}:void 0]),1024))]))),128))])):(i(),$("div",Po,[t(k)=="pending"||t(c)?(i(),I(O,{key:0,rows:4})):(i(),$("p",qo,"Расследования/Проверки не проводились"))]))],64)}}}),Lo=T({__name:"InquiryForm",props:{inquiry:{type:Object,default:{}},candId:{type:String,default:""}},emits:["cancel","update"],setup(e,{emit:o}){const d=o,n=H(e.inquiry);function l(){d("update",n.value),c()}function u(){d("cancel"),c()}function c(){Object.assign(n.value,{info:"",origins:"",initiator:""})}return(_,p)=>{const b=Be,f=re,r=pe,k=ie,w=de;return i(),I(w,{state:t(n),onSubmit:ee(l,["prevent"])},{default:s(()=>[a(f,{class:"mb-3",label:"Информация"},{default:s(()=>[a(b,{modelValue:t(n).info,"onUpdate:modelValue":p[0]||(p[0]=v=>t(n).info=v),modelModifiers:{trim:!0,lazy:!0},required:"",autoresize:"",placeholder:"Информация"},null,8,["modelValue"])]),_:1}),a(f,{class:"mb-3",label:"Инициатор"},{default:s(()=>[a(r,{modelValue:t(n).initiator,"onUpdate:modelValue":p[1]||(p[1]=v=>t(n).initiator=v),modelModifiers:{trim:!0,lazy:!0},required:"",placeholder:"Инициатор"},null,8,["modelValue"])]),_:1}),a(f,{class:"mb-3",label:"Источники"},{default:s(()=>[a(r,{modelValue:t(n).origins,"onUpdate:modelValue":p[2]||(p[2]=v=>t(n).origins=v),modelModifiers:{trim:!0,lazy:!0},placeholder:"Источники"},null,8,["modelValue"])]),_:1}),a(k,{onCancel:u})]),_:1},8,["state"])}}}),Ho={key:0,class:"py-3"},No={key:1},Yo={class:"tex-base text-red-800 font-medium"},Ro={key:1},Go={key:2,class:"p-3"},Wo={key:1,class:"text-red-800"},Ko=T({__name:"InquiryTab",props:{candId:{type:String,default:""},editable:{type:Boolean,default:!1}},async setup(e){let o,d;te(["FormsInquiryForm","ElementsSkeletonDiv"]);const m=G(),n=X(),l=e,u=D(!1),c=D(!1),_=D(!1),p=D(""),b=D({}),{data:f,refresh:r,status:k}=([o,d]=Q(async()=>se("inquiries",async()=>await m(`/api/inquiries/${l.candId}`))),o=await o,d(),o);async function w(h){c.value=!0,S(),await m("/api/inquiries/"+l.candId,{method:"POST",body:h}),n.add({icon:"i-heroicons-check-circle",title:"Успешно",description:"Информация обновлена",color:"green"}),c.value=!1,r()}async function v(h){S(),confirm("Вы действительно хотите удалить запись?")&&(await m(`/api/inquiries/${h}`,{method:"DELETE"}),n.add({icon:"i-heroicons-information-circle",title:"Информация",description:`Запись с ID ${h} удалена`,color:"primary"}),r())}function S(){_.value=!1,p.value="",u.value=!1}function g(){S(),r()}return(h,F)=>{const C=R,z=Lo,x=Z,O=ae,E=oe,B=le;return i(),$(q,null,[l.editable?(i(),I(C,{key:0,class:"py-3",label:t(u)?"Скрыть форму":"Добавить запись",variant:"link",onClick:F[0]||(F[0]=y=>u.value=!t(u))},null,8,["label"])):M("",!0),a(J,{name:"slide-fade"},{default:s(()=>[t(u)?(i(),$("div",Ho,[a(x,null,{default:s(()=>[a(z,{"cand-id":l.candId,onCancel:g,onUpdate:w},null,8,["cand-id"])]),_:1})])):M("",!0)]),_:1}),t(f)&&t(f).length?(i(),$("div",No,[(i(!0),$(q,null,Y(t(f),(y,P)=>(i(),$("div",{key:P,class:"text-sm text-gray-500 dark:text-gray-400 py-1"},[t(k)=="pending"||t(c)?(i(),I(O,{key:0,rows:6})):(i(),I(x,{key:1},ne({header:s(()=>[K("div",Yo,U("Запрос о сотруднике ID #"+y.id),1)]),default:s(()=>[t(_)&&t(p)==y.id.toString()?(i(),I(z,{key:0,"cand-id":l.candId,inquiry:y,onCancel:g,onUpdate:w},null,8,["cand-id","inquiry"])):(i(),$("div",Ro,[a(E,{label:"Информация"},{default:s(()=>[V(U(y.info),1)]),_:2},1024),a(E,{label:"Иннициатор"},{default:s(()=>[V(U(y.initiator),1)]),_:2},1024),a(E,{label:"Источники"},{default:s(()=>[V(U(y.origins),1)]),_:2},1024),a(E,{label:"Сотрудник"},{default:s(()=>[V(U(y.username),1)]),_:2},1024),a(E,{label:"Дата записи"},{default:s(()=>[V(U(t(ce)(y.created,"YYYY-MM-DD HH:mm:ss")),1)]),_:2},1024)]))]),_:2},[l.editable&&(!t(_)||t(p)!=y.id.toString())?{name:"footer",fn:s(()=>[a(B,{"cand-id":l.candId,item:"inquiries",onDelete:j=>v(y.id),onUpdate:j=>{b.value=y,p.value=y.id.toString(),_.value=!0}},null,8,["cand-id","onDelete","onUpdate"])]),key:"0"}:void 0]),1024))]))),128))])):(i(),$("div",Go,[t(k)=="pending"||t(c)?(i(),I(O,{key:0,rows:6})):(i(),$("p",Wo,"Запросы о сотруднике не поступали"))]))],64)}}}),Jo=De(ve.ui.strategy,ve.ui.tabs,Xt),Qo=T({components:{UIcon:$e,HTabGroup:so,HTabList:io,HTab:ro,HTabPanels:uo,HTabPanel:co},inheritAttrs:!1,props:{modelValue:{type:Number,default:void 0},orientation:{type:String,default:"horizontal",validator:e=>["horizontal","vertical"].includes(e)},defaultIndex:{type:Number,default:0},items:{type:Array,default:()=>[]},unmount:{type:Boolean,default:!1},content:{type:Boolean,default:!0},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},emits:["update:modelValue","change"],setup(e,{emit:o}){const{ui:d,attrs:m}=Me("tabs",H(e,"ui"),Jo,H(e,"class")),n=D(),l=D([]),u=D(),c=D(e.modelValue||e.defaultIndex);function _(b){var r;const f=(r=l.value[b])==null?void 0:r.$el;f&&u.value&&(u.value.style.top=`${f.offsetTop}px`,u.value.style.left=`${f.offsetLeft}px`,u.value.style.width=`${f.offsetWidth}px`,u.value.style.height=`${f.offsetHeight}px`)}function p(b){c.value=b,o("change",b),e.modelValue!==void 0&&o("update:modelValue",c.value),_(c.value)}return Ot(n,()=>{_(c.value)}),Ie(()=>e.modelValue,b=>{c.value=b,_(c.value)}),Ie(()=>e.items,async()=>{await Ke(),_(c.value)},{deep:!0}),ge(async()=>{await Ke(),_(c.value)}),ct(()=>it()),{ui:d,attrs:m,listRef:n,itemRefs:l,markerRef:u,selectedIndex:c,onChange:p}}}),Xo={class:"truncate"};function Zo(e,o,d,m,n,l){const u=$e,c=ye("HTab"),_=ye("HTabList"),p=ye("HTabPanel"),b=ye("HTabPanels"),f=ye("HTabGroup");return i(),I(f,fe({vertical:e.orientation==="vertical","selected-index":e.selectedIndex,as:"div",class:e.ui.wrapper},e.attrs,{onChange:e.onChange}),{default:s(()=>[a(_,{ref:"listRef",class:N([e.ui.list.base,e.ui.list.background,e.ui.list.rounded,e.ui.list.shadow,e.ui.list.padding,e.ui.list.width,e.orientation==="horizontal"&&e.ui.list.height,e.orientation==="horizontal"&&"inline-grid items-center"]),style:Tt([e.orientation==="horizontal"&&`grid-template-columns: repeat(${e.items.length}, minmax(0, 1fr))`])},{default:s(()=>[K("div",{ref:"markerRef",class:N(e.ui.list.marker.wrapper)},[K("div",{class:N([e.ui.list.marker.base,e.ui.list.marker.background,e.ui.list.marker.rounded,e.ui.list.marker.shadow])},null,2)],2),(i(!0),$(q,null,Y(e.items,(r,k)=>(i(),I(c,{key:k,ref_for:!0,ref:"itemRefs",disabled:r.disabled,as:"template"},{default:s(({selected:w,disabled:v})=>[K("button",{class:N([e.ui.list.tab.base,e.ui.list.tab.background,e.ui.list.tab.height,e.ui.list.tab.padding,e.ui.list.tab.size,e.ui.list.tab.font,e.ui.list.tab.rounded,e.ui.list.tab.shadow,w?e.ui.list.tab.active:e.ui.list.tab.inactive])},[ue(e.$slots,"icon",{item:r,index:k,selected:w,disabled:v},()=>[r.icon?(i(),I(u,{key:0,name:r.icon,class:N(e.ui.list.tab.icon)},null,8,["name","class"])):M("",!0)]),ue(e.$slots,"default",{item:r,index:k,selected:w,disabled:v},()=>[K("span",Xo,U(r.label),1)])],2)]),_:2},1032,["disabled"]))),128))]),_:3},8,["class","style"]),e.content?(i(),I(b,{key:0,class:N(e.ui.container)},{default:s(()=>[(i(!0),$(q,null,Y(e.items,(r,k)=>(i(),I(p,{key:k,class:N(e.ui.base),unmount:e.unmount},{default:s(({selected:w})=>[ue(e.$slots,r.slot||"item",{item:r,index:k,selected:w},()=>[V(U(r.content),1)])]),_:2},1032,["class","unmount"]))),128))]),_:3},8,["class"])):M("",!0)]),_:3},16,["vertical","selected-index","class","onChange"])}const el=Te(Qo,[["render",Zo]]),tl={key:0,class:"relative"},nl={class:"absolute bottom-0 right-20"},al={class:"animate-pulse",style:{width:"30px"}},kl=T({__name:"[id]",async setup(e){let o,d;const m=G(),n=Kt(),l=Mt(),u=A(()=>l.params.id),c=D({}),{refresh:_}=([o,d]=Q(async()=>rt("anketa",async()=>{const w=await m("/api/persons/"+u.value);c.value=w})),o=await o,d(),o),p=[{slot:"anketaTab",label:"Анкета",icon:"i-heroicons-user"},{slot:"checkTab",label:"Проверки",icon:"i-heroicons-check-circle"},{slot:"poligrafTab",label:"Полиграф",icon:"i-heroicons-bolt"},{slot:"investigateTab",label:"Расследования",icon:"i-heroicons-briefcase"},{slot:"inquiryTab",label:"Запросы",icon:"i-heroicons-document-text"}],b={current:{label:"Анкета редактируется текущим пользователем",color:"green"},thirdparty:{label:"Анкета редактируется другим пользователем",color:"red"},others:{label:"Анкета не редактируется пользователями",color:"blue"}},f=A(()=>{if(c.value.editable){if(c.value.user_id==n.value.id)return b.current;if(c.value.user_id!=n.value.id)return b.thirdparty}return b.others}),r=A(()=>c.value.editable&&n.value.role=="user"&&n.value.id==c.value.user_id);async function k(){confirm("Вы действительно хотите включить/выключить режим правки")&&(await m("/api/self/"+u.value),_())}return At((w,v,S)=>{qt(),S()}),(w,v)=>{const S=Cn,g=Ne,h=R,F=Bt,C=bo,z=Io,x=xo,O=jo,E=Ko,B=el;return i(),$("div",null,[a(S,{"cand-id":t(u),destination:t(c).destination,editable:t(r)},null,8,["cand-id","destination","editable"]),t(n).role=="user"?(i(),$("div",tl,[K("div",nl,[a(h,{variant:"link",size:"xl",onClick:k},{default:s(()=>[K("div",al,[a(g,{color:t(f).color,variant:"solid"},{default:s(()=>[V(U(t(f).label),1)]),_:1},8,["color"])])]),_:1})])])):M("",!0),a(F,{div:"py-3",header:`${t(c).surname} ${t(c).firstname} ${t(c).patronymic?t(c).patronymic:""}`},null,8,["header"]),a(B,{items:p},{anketaTab:s(()=>[a(C,{"cand-id":t(u),editable:t(r),person:t(c),onUpdate:v[0]||(v[0]=y=>t(_)())},null,8,["cand-id","editable","person"])]),checkTab:s(()=>[a(z,{"cand-id":t(u),editable:t(r)},null,8,["cand-id","editable"])]),poligrafTab:s(()=>[a(x,{"cand-id":t(u),editable:t(r)},null,8,["cand-id","editable"])]),investigateTab:s(()=>[a(O,{"cand-id":t(u),editable:t(r)},null,8,["cand-id","editable"])]),inquiryTab:s(()=>[a(E,{"cand-id":t(u),editable:t(r)},null,8,["cand-id","editable"])]),_:1})])}}});export{kl as default};
