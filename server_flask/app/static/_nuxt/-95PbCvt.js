import{a1 as Ee,a2 as ve,a3 as Ae,a4 as pe,a5 as je,a6 as _e,a7 as Pe,a8 as be,a9 as he,aa as Be,q as ne,g as O,z as C,u as Ne,N as Le,R as Re,m as we,j as de,_ as Se,k as $e,l as B,r as Ue,s as Ve,ab as Ge,o as u,c as k,b as a,w as s,a as A,G as ue,H as D,E as re,v as ce,X as H,Q as R,h as J,ac as We,ad as Te,A as t,J as j,K as P,i as z,ae as He,I as K,L as Ie,D as X,t as S,B as Ce,C as Fe,af as ze,ag as Je,F as E,y as L,d as U,W as Ke,ah as le,n as Xe,e as Qe,S as Ye}from"./B_4c7bjE.js";import{b as N,a as Z}from"./B8ZzhQbn.js";import{c as Ze,_ as et}from"./aOhuXCbN.js";import{_ as G,a as tt,b as ee,c as me}from"./Bk83W--k.js";import{u as at,a as te}from"./Cias7xHV.js";import{d as W,b as fe,c as De,s as se}from"./DupJrylg.js";import{_ as ie}from"./UIKXIBFg.js";import{_ as ae}from"./2VsBTAQu.js";import{_ as nt}from"./CyEoj2gn.js";import{_ as xe}from"./HQhQkk_r.js";const ot={wrapper:"relative w-full flex items-center justify-between",container:"flex items-center min-w-0",inner:"min-w-0",base:"group relative w-full flex items-center gap-1.5 px-2.5 py-3.5 rounded-md font-medium text-sm focus:outline-none focus-visible:outline-none dark:focus-visible:outline-none focus-visible:ring-inset focus-visible:ring-2 focus-visible:ring-primary-500 dark:focus-visible:ring-primary-400 disabled:cursor-not-allowed disabled:opacity-75",before:"before:absolute before:inset-x-0 before:inset-y-2 before:inset-px before:rounded-md hover:before:bg-gray-50 dark:hover:before:bg-gray-800/50",after:"after:absolute after:bottom-0 after:inset-x-2.5 after:block after:h-[2px] after:mt-2",active:"text-gray-900 dark:text-white after:bg-primary-500 dark:after:bg-primary-400 after:rounded-full",inactive:"text-gray-500 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white",label:"truncate relative",icon:{base:"flex-shrink-0 w-5 h-5 relative",active:"text-gray-700 dark:text-gray-200",inactive:"text-gray-400 dark:text-gray-500 group-hover:text-gray-700 dark:group-hover:text-gray-200"},avatar:{base:"flex-shrink-0",size:"2xs"},badge:{base:"flex-shrink-0 ml-auto relative rounded",color:"gray",variant:"solid",size:"xs"}},lt={wrapper:"relative",container:"z-20 group",width:"",background:"bg-white dark:bg-gray-900",shadow:"shadow-lg",rounded:"rounded-md",ring:"ring-1 ring-gray-200 dark:ring-gray-800",base:"overflow-hidden focus:outline-none relative",transition:{enterActiveClass:"transition ease-out duration-200",enterFromClass:"opacity-0 translate-y-1",enterToClass:"opacity-100 translate-y-0",leaveActiveClass:"transition ease-in duration-150",leaveFromClass:"opacity-100 translate-y-0",leaveToClass:"opacity-0 translate-y-1"},popper:{placement:"bottom-start",scroll:!1},arrow:Ee};async function st(o,l){return await it(l).catch(e=>(console.error("Failed to get image meta for "+l,e+""),{width:0,height:0,ratio:0}))}async function it(o){if(typeof Image>"u")throw new TypeError("Image not supported");return new Promise((l,r)=>{const e=new Image;e.onload=()=>{const i={width:e.width,height:e.height,ratio:e.width/e.height};l(i)},e.onerror=i=>r(i),e.src=o})}function ye(o){return l=>l?o[l]||l:o.missingValue}function ut({formatter:o,keyMap:l,joinWith:r="/",valueMap:e}={}){o||(o=(n,c)=>`${n}=${c}`),l&&typeof l!="function"&&(l=ye(l));const i=e||{};return Object.keys(i).forEach(n=>{typeof i[n]!="function"&&(i[n]=ye(i[n]))}),(n={})=>Object.entries(n).filter(([_,w])=>typeof w<"u").map(([_,w])=>{const p=i[_];return typeof p=="function"&&(w=p(n[_])),_=typeof l=="function"?l(_):_,o(_,w)}).join(r)}function oe(o=""){if(typeof o=="number")return o;if(typeof o=="string"&&o.replace("px","").match(/^\d+$/g))return Number.parseInt(o,10)}function rt(o=""){if(o===void 0||!o.length)return[];const l=new Set;for(const r of o.split(" ")){const e=Number.parseInt(r.replace("x",""));e&&l.add(e)}return Array.from(l)}function ct(o){if(o.length===0)throw new Error("`densities` must not be empty, configure to `1` to render regular size only (DPR 1.0)")}function dt(o){const l={};if(typeof o=="string")for(const r of o.split(/[\s,]+/).filter(e=>e)){const e=r.split(":");e.length!==2?l["1px"]=e[0].trim():l[e[0].trim()]=e[1].trim()}else Object.assign(l,o);return l}function mt(o){const l={options:o},r=(i,n={})=>Oe(l,i,n),e=(i,n={},c={})=>r(i,{...c,modifiers:_e(n,c.modifiers||{})}).url;for(const i in o.presets)e[i]=(n,c,_)=>e(n,c,{...o.presets[i],..._});return e.options=o,e.getImage=r,e.getMeta=(i,n)=>pt(l,i,n),e.getSizes=(i,n)=>vt(l,i,n),l.$img=e,e}async function pt(o,l,r){const e=Oe(o,l,{...r});return typeof e.getMeta=="function"?await e.getMeta():await st(o,e.url)}function Oe(o,l,r){var p,y;if(l&&typeof l!="string")throw new TypeError(`input must be a string (received ${typeof l}: ${JSON.stringify(l)})`);if(!l||l.startsWith("data:"))return{url:l};const{provider:e,defaults:i}=ft(o,r.provider||o.options.provider),n=_t(o,r.preset);if(l=ve(l)?l:Ae(l),!e.supportsAlias)for(const g in o.options.alias)l.startsWith(g)&&(l=pe(o.options.alias[g],l.substr(g.length)));if(e.validateDomains&&ve(l)){const g=je(l).host;if(!o.options.domains.find(v=>v===g))return{url:l}}const c=_e(r,n,i);c.modifiers={...c.modifiers};const _=c.modifiers.format;(p=c.modifiers)!=null&&p.width&&(c.modifiers.width=oe(c.modifiers.width)),(y=c.modifiers)!=null&&y.height&&(c.modifiers.height=oe(c.modifiers.height));const w=e.getImage(l,c,o);return w.format=w.format||_||"",w}function ft(o,l){const r=o.options.providers[l];if(!r)throw new Error("Unknown provider: "+l);return r}function _t(o,l){if(!l)return{};if(!o.options.presets[l])throw new Error("Unknown preset: "+l);return o.options.presets[l]}function vt(o,l,r){var f,h,b,V,$;const e=oe((f=r.modifiers)==null?void 0:f.width),i=oe((h=r.modifiers)==null?void 0:h.height),n=dt(r.sizes),c=(b=r.densities)!=null&&b.trim()?rt(r.densities.trim()):o.options.densities;ct(c);const _=e&&i?i/e:0,w=[],p=[];if(Object.keys(n).length>=1){for(const I in n){const F=ge(I,String(n[I]),i,_,o);if(F!==void 0){w.push({size:F.size,screenMaxWidth:F.screenMaxWidth,media:`(max-width: ${F.screenMaxWidth}px)`});for(const m of c)p.push({width:F._cWidth*m,src:ke(o,l,r,F,m)})}}bt(w)}else for(const I of c){const F=Object.keys(n)[0];let m=ge(F,String(n[F]),i,_,o);m===void 0&&(m={size:"",screenMaxWidth:0,_cWidth:(V=r.modifiers)==null?void 0:V.width,_cHeight:($=r.modifiers)==null?void 0:$.height}),p.push({width:I,src:ke(o,l,r,m,I)})}yt(p);const y=p[p.length-1],g=w.length?w.map(I=>`${I.media?I.media+" ":""}${I.size}`).join(", "):void 0,v=g?"w":"x",d=p.map(I=>`${I.src} ${I.width}${v}`).join(", ");return{sizes:g,srcset:d,src:y==null?void 0:y.src}}function ge(o,l,r,e,i){const n=i.options.screens&&i.options.screens[o]||Number.parseInt(o),c=l.endsWith("vw");if(!c&&/^\d+$/.test(l)&&(l=l+"px"),!c&&!l.endsWith("px"))return;let _=Number.parseInt(l);if(!n||!_)return;c&&(_=Math.round(_/100*n));const w=e?Math.round(_*e):r;return{size:l,screenMaxWidth:n,_cWidth:_,_cHeight:w}}function ke(o,l,r,e,i){return o.$img(l,{...r.modifiers,width:e._cWidth?e._cWidth*i:void 0,height:e._cHeight?e._cHeight*i:void 0},r)}function bt(o){var r;o.sort((e,i)=>e.screenMaxWidth-i.screenMaxWidth);let l=null;for(let e=o.length-1;e>=0;e--){const i=o[e];i.media===l&&o.splice(e,1),l=i.media}for(let e=0;e<o.length;e++)o[e].media=((r=o[e+1])==null?void 0:r.media)||""}function yt(o){o.sort((r,e)=>r.width-e.width);let l=null;for(let r=o.length-1;r>=0;r--){const e=o[r];e.width===l&&o.splice(r,1),l=e.width}}const gt=ut({keyMap:{format:"f",fit:"fit",width:"w",height:"h",resize:"s",quality:"q",background:"b"},joinWith:"&",formatter:(o,l)=>be(o)+"_"+be(l)}),kt=(o,{modifiers:l={},baseURL:r}={},e)=>{l.width&&l.height&&(l.resize=`${l.width}x${l.height}`,delete l.width,delete l.height);const i=gt(l)||"_";return r||(r=pe(e.options.nuxt.baseURL,"/_ipx")),{url:pe(r,i,Pe(o))}},ht=!0,wt=!0,St=Object.freeze(Object.defineProperty({__proto__:null,getImage:kt,supportsAlias:wt,validateDomains:ht},Symbol.toStringTag,{value:"Module"})),Me={screens:{xs:320,sm:640,md:768,lg:1024,xl:1280,xxl:1536,"2xl":1536},presets:{},provider:"ipxStatic",domains:[],alias:{},densities:[1,2],format:["webp"]};Me.providers={ipxStatic:{provider:St,defaults:{}}};const qe=()=>{const o=Be(),l=he();return l.$img||l._img||(l._img=mt({...Me,nuxt:{baseURL:o.app.baseURL}}))};function $t(o){var l;(l=performance==null?void 0:performance.mark)==null||l.call(performance,"mark_feature_usage",{detail:{feature:o}})}const Ut={src:{type:String,default:void 0},format:{type:String,default:void 0},quality:{type:[Number,String],default:void 0},background:{type:String,default:void 0},fit:{type:String,default:void 0},modifiers:{type:Object,default:void 0},preset:{type:String,default:void 0},provider:{type:String,default:void 0},sizes:{type:[Object,String],default:void 0},densities:{type:String,default:void 0},preload:{type:[Boolean,Object],default:void 0},width:{type:[String,Number],default:void 0},height:{type:[String,Number],default:void 0},alt:{type:String,default:void 0},referrerpolicy:{type:String,default:void 0},usemap:{type:String,default:void 0},longdesc:{type:String,default:void 0},ismap:{type:Boolean,default:void 0},loading:{type:String,default:void 0,validator:o=>["lazy","eager"].includes(o)},crossorigin:{type:[Boolean,String],default:void 0,validator:o=>["anonymous","use-credentials","",!0,!1].includes(o)},decoding:{type:String,default:void 0,validator:o=>["async","auto","sync"].includes(o)},nonce:{type:[String],default:void 0}},Vt=o=>{const l=ne(()=>({provider:o.provider,preset:o.preset})),r=ne(()=>({width:oe(o.width),height:oe(o.height),alt:o.alt,referrerpolicy:o.referrerpolicy,usemap:o.usemap,longdesc:o.longdesc,ismap:o.ismap,crossorigin:o.crossorigin===!0?"anonymous":o.crossorigin||void 0,loading:o.loading,decoding:o.decoding,nonce:o.nonce})),e=qe(),i=ne(()=>({...o.modifiers,width:oe(o.width),height:oe(o.height),format:o.format,quality:o.quality||e.options.quality,background:o.background,fit:o.fit}));return{options:l,attrs:r,modifiers:i}},It={...Ut,placeholder:{type:[Boolean,String,Number,Array],default:void 0},placeholderClass:{type:String,default:void 0}},Ct=O({name:"NuxtImg",props:It,emits:["load","error"],setup:(o,l)=>{const r=qe(),e=Vt(o),i=C(!1),n=C(),c=ne(()=>r.getSizes(o.src,{...e.options.value,sizes:o.sizes,densities:o.densities,modifiers:{...e.modifiers.value,width:oe(o.width),height:oe(o.height)}})),_=ne(()=>{const d={...e.attrs.value,"data-nuxt-img":""};return(!o.placeholder||i.value)&&(d.sizes=c.value.sizes,d.srcset=c.value.srcset),d}),w=ne(()=>{let d=o.placeholder;if(d===""&&(d=!0),!d||i.value)return!1;if(typeof d=="string")return d;const f=Array.isArray(d)?d:typeof d=="number"?[d,d]:[10,10];return r(o.src,{...e.modifiers.value,width:f[0],height:f[1],quality:f[2]||50,blur:f[3]||3},e.options.value)}),p=ne(()=>o.sizes?c.value.src:r(o.src,e.modifiers.value,e.options.value)),y=ne(()=>w.value?w.value:p.value);if(o.preload){const d=Object.values(c.value).every(f=>f);Ne({link:[{rel:"preload",as:"image",nonce:o.nonce,...d?{href:c.value.src,imagesizes:c.value.sizes,imagesrcset:c.value.srcset}:{href:y.value},...typeof o.preload!="boolean"&&o.preload.fetchPriority?{fetchpriority:o.preload.fetchPriority}:{}}]})}const v=he().isHydrating;return Le(()=>{if(w.value){const d=new Image;d.src=p.value,o.sizes&&(d.sizes=c.value.sizes||"",d.srcset=c.value.srcset),d.onload=f=>{i.value=!0,l.emit("load",f)},$t("nuxt-image");return}n.value&&(n.value.complete&&v&&(n.value.getAttribute("data-error")?l.emit("error",new Event("error")):l.emit("load",new Event("load"))),n.value.onload=d=>{l.emit("load",d)},n.value.onerror=d=>{l.emit("error",d)})}),()=>Re("img",{ref:n,..._.value,...l.attrs,class:o.placeholder&&!i.value?[o.placeholderClass]:void 0,src:y.value})}}),Ft=we(de.ui.strategy,de.ui.contextMenu,lt),zt=O({inheritAttrs:!1,props:{modelValue:{type:Boolean,default:!1},virtualElement:{type:Object,required:!0},popper:{type:Object,default:()=>({})},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},emits:["update:modelValue","close"],setup(o,{emit:l}){const{ui:r,attrs:e}=$e("contextMenu",B(o,"ui"),Ft),i=ne(()=>_e({},o.popper,r.value.popper)),n=ne({get(){return o.modelValue},set(p){l("update:modelValue",p)}}),c=B(o,"virtualElement"),[,_]=Ze(i.value,c),w=ne(()=>Ue(Ve(r.value.container,r.value.width),o.class));return Ge(_,()=>{n.value=!1}),{ui:r,attrs:e,isOpen:n,wrapperClass:w,popper:i,container:_}}});function Dt(o,l,r,e,i,n){return o.isOpen?(u(),k("div",ce({key:0,ref:"container",class:o.wrapperClass},o.attrs),[a(H,ce({appear:""},o.ui.transition),{default:s(()=>[A("div",null,[o.popper.arrow?(u(),k("div",{key:0,"data-popper-arrow":"",class:ue(Object.values(o.ui.arrow))},null,2)):D("",!0),A("div",{class:ue([o.ui.base,o.ui.ring,o.ui.rounded,o.ui.shadow,o.ui.background])},[re(o.$slots,"default")],2)])]),_:3},16)],16)):D("",!0)}const xt=Se(zt,[["render",Dt]]),Ot={class:"flex justify-left"},Mt={class:"p-4"},Ln=O({__name:"PhotoCard",async setup(o){let l,r;const e=De(),i=R("editState"),n=W(),c=C(""),{refresh:_}=([l,r]=J(async()=>at("image",async()=>{const b=await $fetch(`${fe}/image`,{params:{image:n.anketa.value.persons.destination},responseType:"blob"});c.value=window.URL.createObjectURL(new Blob([b]))})),l=await l,r(),l);async function w(b){const V=Ie();if(!b.length){V.add({icon:"i-heroicons-exclamation-triangle",title:"Информация",description:"Не выбраны файлы",color:"red"});return}const $=new FormData;for(const I of b)$.append("file",I);await e(`${fe}/file/image/${n.share.value.candId}`,{method:"POST",body:$}),V.add({icon:"i-heroicons-check-circle",title:"Информация",description:"Файлы успешно загружены",color:"green"}),await _()}const p=C({formData:new FormData,openFileForm(b){var V;(V=document.getElementById(b))==null||V.click()}}),{x:y,y:g}=We(),{y:v}=Te(),d=C(!1),f=C({getBoundingClientRect:()=>({})});function h(){const b=t(g)-t(v),V=t(y);f.value.getBoundingClientRect=()=>({width:0,height:0,top:b,left:V}),d.value=!0}return(b,V)=>{const $=Ct,I=N,F=X,m=xt,x=G;return u(),k("div",Ot,[a(x,{ui:{body:{padding:"p-1 sm:p-1"}},onContextmenu:K(h,["prevent"])},{default:s(()=>[a($,{src:t(c),width:"200",height:"200"},null,8,["src"]),j(a(I,{id:"image-file",multiple:"",type:"file",accept:"image/*",onChange:V[0]||(V[0]=q=>w(q))},null,512),[[P,!1]]),t(i)?(u(),z(m,{key:0,modelValue:t(d),"onUpdate:modelValue":V[2]||(V[2]=q=>He(d)?d.value=q:null),"virtual-element":t(f)},{default:s(()=>[A("div",Mt,[a(F,{label:"Загрузить",variant:"link",onClick:V[1]||(V[1]=q=>t(p).openFileForm("image-file"))})])]),_:1},8,["modelValue","virtual-element"])):D("",!0)]),_:1})])}}}),qt={class:"flex grid grid-cols-6 gap-3 mb-3"},Q=O({__name:"LabelSlot",props:{label:{type:String,default:""},labelClass:{type:String,default:"col-span-1"},inputClass:{type:String,default:"col-span-5 break-words"}},setup(o){const l=o;return(r,e)=>(u(),k("div",qt,[A("div",{class:ue(l.labelClass)},S(l.label),3),A("div",{class:ue(l.inputClass)},[re(r.$slots,"default")],2)]))}}),Et=we(de.ui.strategy,de.ui.horizontalNavigation,ot),At=O({components:{UIcon:Ce,UAvatar:Fe,UBadge:xe,ULink:ze},inheritAttrs:!1,props:{links:{type:Array,default:()=>[]},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},setup(o){const{ui:l,attrs:r}=$e("horizontalNavigation",B(o,"ui"),Et,B(o,"class")),e=ne(()=>Array.isArray(o.links[0])?o.links:[o.links]);return{ui:l,attrs:r,sections:e,getULinkProps:Je,twMerge:Ue,twJoin:Ve}}}),jt={key:0,class:"sr-only"};function Pt(o,l,r,e,i,n){const c=Fe,_=Ce,w=xe,p=ze;return u(),k("nav",ce({class:o.ui.wrapper},o.attrs),[(u(!0),k(E,null,L(o.sections,(y,g)=>(u(),k("ul",{key:`section${g}`,class:ue(o.ui.container)},[(u(!0),k(E,null,L(y,(v,d)=>(u(),k("li",{key:`section${g}-${d}`,class:ue(o.ui.inner)},[a(p,ce({ref_for:!0},o.getULinkProps(v),{class:[o.ui.base,o.ui.before,o.ui.after],"active-class":o.ui.active,"inactive-class":o.ui.inactive,onClick:v.click,onKeyup:l[0]||(l[0]=Ke(f=>f.target.blur(),["enter"]))}),{default:s(({isActive:f})=>[re(o.$slots,"avatar",{link:v,isActive:f},()=>[v.avatar?(u(),z(c,ce({key:0,ref_for:!0},{size:o.ui.avatar.size,...v.avatar},{class:[o.ui.avatar.base]}),null,16,["class"])):D("",!0)]),re(o.$slots,"icon",{link:v,isActive:f},()=>[v.icon?(u(),z(_,{key:0,name:v.icon,class:ue(o.twMerge(o.twJoin(o.ui.icon.base,f?o.ui.icon.active:o.ui.icon.inactive),v.iconClass))},null,8,["name","class"])):D("",!0)]),re(o.$slots,"default",{link:v,isActive:f},()=>[v.label?(u(),k("span",{key:0,class:ue(o.twMerge(o.ui.label,v.labelClass))},[f?(u(),k("span",jt," Current page: ")):D("",!0),U(" "+S(v.label),1)],2)):D("",!0)]),re(o.$slots,"badge",{link:v,isActive:f},()=>[v.badge?(u(),z(w,ce({key:0,ref_for:!0},{size:o.ui.badge.size,color:o.ui.badge.color,variant:o.ui.badge.variant,...typeof v.badge=="string"||typeof v.badge=="number"?{label:v.badge}:v.badge},{class:o.ui.badge.base}),null,16,["class"])):D("",!0)])]),_:2},1040,["class","active-class","inactive-class","onClick"])],2))),128))],2))),128))],16)}const Bt=Se(At,[["render",Pt]]),Y=O({__name:"NaviHorizont",props:{lastIndex:{type:Number,default:3}},emits:["delete","update","upload"],setup(o,{emit:l}){const r=l,e=o,i=[{label:"Изменить",icon:"i-heroicons-pencil-square",click:()=>r("update")},{label:"Удалить",icon:"i-heroicons-trash",click:()=>r("delete")},{label:"Загрузить",icon:"i-heroicons-cloud-arrow-up",slot:"upload",click:()=>r("upload")}];return(n,c)=>{const _=Bt;return u(),z(_,{links:i.slice(0,e.lastIndex)},null,8,["links"])}}}),Nt={key:0},Lt={key:1},Rt=["href"],Rn=O({__name:"ResumeDiv",setup(o){const l=De(),r=Ie(),e=W(),i=se(),n=R("editState"),c=C({action:"",skeleton:!1,form:{}});function _(v){var d;(d=document.getElementById(v))==null||d.click()}async function w(){if(!confirm("Вы действительно хотите изменить регион?"))return;const v=await l(`${fe}/region/${e.share.value.candId}`,{params:{region:e.anketa.value.persons.region}});console.log(v),e.getItem("persons"),r.add({icon:"i-heroicons-check-circle",title:"Информация",description:"Изменение региона успешно",color:"green"})}function p(){e.deleteItem(e.anketa.value.persons.id,"persons"),Xe("/persons")}function y(v){c.value.action="",e.updateItem("persons",v),e.getItem("persons")}function g(){c.value.action="",e.getItem("persons")}return(v,d)=>{const f=tt,h=ie,b=Q,V=Y,$=N,I=G;return u(),z(I,null,le({default:s(()=>[t(c).action?(u(),k("div",Nt,[a(f,{action:t(c).action,resume:t(e).anketa.value.persons,onCancel:g,onUpdate:y},null,8,["action","resume"])])):(u(),k("div",Lt,[a(b,{label:"Регион"},{default:s(()=>[a(h,{modelValue:t(e).anketa.value.persons.region,"onUpdate:modelValue":d[0]||(d[0]=F=>t(e).anketa.value.persons.region=F),style:{width:"20%"},options:Object.values(t(i).classes.value.regions),disabled:!t(n),onChange:d[1]||(d[1]=F=>w())},null,8,["modelValue","options","disabled"])]),_:1}),a(b,{label:"Фамилия"},{default:s(()=>[U(S(t(e).anketa.value.persons.surname),1)]),_:1}),a(b,{label:"Имя"},{default:s(()=>[U(S(t(e).anketa.value.persons.firstname),1)]),_:1}),a(b,{label:"Отчество"},{default:s(()=>[U(S(t(e).anketa.value.persons.patronymic),1)]),_:1}),a(b,{label:"Дата рождения"},{default:s(()=>[U(S(new Date(String(t(e).anketa.value.persons.birthday)).toLocaleDateString("ru-RU")),1)]),_:1}),a(b,{label:"Место рождения"},{default:s(()=>[U(S(t(e).anketa.value.persons.birthplace),1)]),_:1}),a(b,{label:"Гражданство"},{default:s(()=>[U(S(t(e).anketa.value.persons.citizenship),1)]),_:1}),t(e).anketa.value.persons.dual?(u(),z(b,{key:0,label:"Двойное гражданство"},{default:s(()=>[U(S(t(e).anketa.value.persons.dual),1)]),_:1})):D("",!0),a(b,{label:"СНИЛС"},{default:s(()=>[U(S(t(e).anketa.value.persons.snils),1)]),_:1}),a(b,{label:"ИНН"},{default:s(()=>[U(S(t(e).anketa.value.persons.inn),1)]),_:1}),a(b,{label:"Семейное положение"},{default:s(()=>[U(S(t(e).anketa.value.persons.marital),1)]),_:1}),a(b,{label:"Дата записи"},{default:s(()=>[U(S(t(e).anketa.value.persons.created?new Date(t(e).anketa.value.persons.created+" UTC").toLocaleString("ru-RU"):""),1)]),_:1}),a(b,{label:"Пользователь"},{default:s(()=>[U(S(t(e).anketa.value.persons.username?t(e).anketa.value.persons.username:""),1)]),_:1}),a(b,{label:"Материалы"},{default:s(()=>[A("a",{class:"text-primary",target:"_blank",href:t(e).anketa.value.persons.destination},S(t(e).anketa.value.persons.destination),9,Rt)]),_:1}),a(b,{label:"Дополнительная информация"},{default:s(()=>[U(S(t(e).anketa.value.persons.addition?t(e).anketa.value.persons.addition:"-"),1)]),_:1})]))]),_:2},[t(n)&&!t(c).action?{name:"footer",fn:s(()=>[j(a(V,{onDelete:p,onUpdate:d[2]||(d[2]=F=>t(c).action="update"),onUpload:d[3]||(d[3]=F=>_("resume-file"))},null,512),[[P,t(n)]]),j(A("div",null,[a($,{id:"resume-file",type:"file",accept:"*",multiple:"",onChange:d[4]||(d[4]=F=>t(e).submitFile(F,"anketa",t(e).share.value.candId))})],512),[[P,!1]])]),key:"0"}:void 0]),1024)}}}),Gt=O({__name:"StaffForm",props:{staff:{type:Object,default:{}}},emits:["cancel","submit"],setup(o,{emit:l}){const r=l,i=B(o.staff);function n(){r("submit",i.value),_()}function c(){r("cancel"),_()}function _(){Object.assign(i.value,{position:"",department:""})}return(w,p)=>{const y=N,g=Z,v=ee,d=ae;return u(),z(d,{state:i.value,onSubmit:K(n,["prevent"])},{default:s(()=>[a(g,{class:"mb-3",label:"Должность"},{default:s(()=>[a(y,{modelValue:i.value.position,"onUpdate:modelValue":p[0]||(p[0]=f=>i.value.position=f),modelModifiers:{trim:!0,lazy:!0},required:"",placeholder:"Должность"},null,8,["modelValue"])]),_:1}),a(g,{class:"mb-3",label:"Подразделение"},{default:s(()=>[a(y,{modelValue:i.value.department,"onUpdate:modelValue":p[1]||(p[1]=f=>i.value.department=f),modelModifiers:{trim:!0,lazy:!0},placeholder:"Подразделение"},null,8,["modelValue"])]),_:1}),a(v,{onCancel:c})]),_:1},8,["state"])}}}),Wt={key:0,class:"py-3"},Tt={key:1},Ht={key:1},Jt={key:2,class:"p-3"},Kt=A("p",{class:"text-primary"},"Данные о должностях отсутствуют",-1),Xt=[Kt],Gn=O({__name:"StaffDiv",async setup(o){let l,r;const e=W(),i=R("editState"),n=C(!1),c=C(!1),_=C(""),w=C({}),{refresh:p}=([l,r]=J(async()=>te("staffs",async()=>{await e.getItem("staffs")})),l=await l,r(),l);async function y(f){d(),Promise.all([await e.updateItem("staffs",f),await p()])}async function g(f){Promise.all([await e.deleteItem(f,"staffs"),await p()])}async function v(){await p(),d()}function d(){c.value=!1,_.value="",n.value=!1}return(f,h)=>{const b=X,V=Gt,$=G,I=Q,F=Y;return u(),k(E,null,[t(i)?(u(),z(b,{key:0,label:t(n)?"Скрыть форму":"Добавить запись",variant:"link",onClick:h[0]||(h[0]=m=>n.value=!t(n))},null,8,["label"])):D("",!0),a(H,{name:"slide-fade"},{default:s(()=>[t(n)?(u(),k("div",Wt,[a($,null,{default:s(()=>[a(V,{onCancel:v,onSubmit:y})]),_:1})])):D("",!0)]),_:1}),t(e).anketa.value.staffs&&t(e).anketa.value.staffs.length?(u(),k("div",Tt,[(u(!0),k(E,null,L(t(e).anketa.value.staffs,(m,x)=>(u(),k("div",{key:x,class:"p-1"},[a($,null,le({default:s(()=>[t(c)&&t(_)==m.id.toString()?(u(),z(V,{key:0,staff:t(w),onCancel:v,onSubmit:y},null,8,["staff"])):(u(),k("div",Ht,[a(I,{label:"Должность"},{default:s(()=>[U(S(m.position),1)]),_:2},1024),a(I,{label:"Департамент"},{default:s(()=>[U(S(m.department),1)]),_:2},1024)]))]),_:2},[t(i)&&(!t(c)||t(_)!=m.id.toString())?{name:"footer",fn:s(()=>[j(a(F,{"navlen":2,onDelete:q=>g(m.id),onUpdate:q=>{w.value=m,_.value=m.id.toString(),c.value=!0}},null,8,["onDelete","onUpdate"]),[[P,t(i)]])]),key:"0"}:void 0]),1024)]))),128))])):(u(),k("div",Jt,Xt))],64)}}}),Qt=O({__name:"EducationForm",props:{education:{type:Object,default:{}}},emits:["cancel","submit"],setup(o,{emit:l}){const r=l,e=o,i=se(),n=B(e.education);function c(){r("submit",n.value),w()}function _(){r("cancel"),w()}function w(){Object.assign(n.value,{view:"",institution:"",finished:"",specialty:""})}return(p,y)=>{const g=ie,v=Z,d=N,f=ee,h=ae;return u(),z(h,{state:n.value,onSubmit:K(c,["prevent"])},{default:s(()=>[a(v,{class:"mb-3",label:"Вид образования"},{default:s(()=>[a(g,{modelValue:n.value.view,"onUpdate:modelValue":y[0]||(y[0]=b=>n.value.view=b),required:"",options:Object.values(t(i).classes.value.educations)},null,8,["modelValue","options"])]),_:1}),a(v,{class:"mb-3",label:"Название учебного заведения"},{default:s(()=>[a(d,{modelValue:n.value.institution,"onUpdate:modelValue":y[1]||(y[1]=b=>n.value.institution=b),modelModifiers:{trim:!0,lazy:!0},required:"",placeholder:"Название учебного заведения"},null,8,["modelValue"])]),_:1}),a(v,{class:"mb-3",label:"Год окончания"},{default:s(()=>[a(d,{modelValue:n.value.finished,"onUpdate:modelValue":y[2]||(y[2]=b=>n.value.finished=b),modelModifiers:{trim:!0,lazy:!0},placeholder:"Год окончания"},null,8,["modelValue"])]),_:1}),a(v,{class:"mb-3",label:"Специальность"},{default:s(()=>[a(d,{modelValue:n.value.specialty,"onUpdate:modelValue":y[3]||(y[3]=b=>n.value.specialty=b),modelModifiers:{trim:!0,lazy:!0},placeholder:"Специальность"},null,8,["modelValue"])]),_:1}),a(f,{onCancel:_})]),_:1},8,["state"])}}}),Yt={key:0,class:"py-3"},Zt={key:1},ea={key:1},ta={key:2,class:"p-3"},aa=A("p",{class:"text-primary"},"Данные отсутствуют",-1),na=[aa],Wn=O({__name:"EducateDiv",async setup(o){let l,r;const e=W(),i=R("editState"),n=C(!1),c=C(""),_=C(!1),w=C({}),{refresh:p}=([l,r]=J(async()=>te("educations",async()=>{await e.getItem("educations")})),l=await l,r(),l);async function y(f){d(),Promise.all([await e.updateItem("educations",f),await p()])}async function g(f){Promise.all([await e.deleteItem(f,"educations"),await p()])}async function v(){await p(),d()}function d(){_.value=!1,c.value="",n.value=!1}return(f,h)=>{const b=X,V=Qt,$=G,I=Q,F=Y;return u(),k(E,null,[t(i)?(u(),z(b,{key:0,label:t(n)?"Скрыть форму":"Добавить запись",variant:"link",onClick:h[0]||(h[0]=m=>n.value=!t(n))},null,8,["label"])):D("",!0),a(H,{name:"slide-fade"},{default:s(()=>[t(n)?(u(),k("div",Yt,[a($,null,{default:s(()=>[a(V,{onCancel:v,onSubmit:y})]),_:1})])):D("",!0)]),_:1}),t(e).anketa.value.educations&&t(e).anketa.value.educations.length?(u(),k("div",Zt,[(u(!0),k(E,null,L(t(e).anketa.value.educations,(m,x)=>(u(),k("div",{key:x,class:"p-1"},[a($,null,le({default:s(()=>[t(_)&&t(c)==m.id.toString()?(u(),z(V,{key:0,education:t(w),onCancel:v,onSubmit:y},null,8,["education"])):(u(),k("div",ea,[a(I,{label:"Уровень образования"},{default:s(()=>[U(S(m.view),1)]),_:2},1024),a(I,{label:"Название учебного заведения"},{default:s(()=>[U(S(m.institution),1)]),_:2},1024),a(I,{label:"Год окончания"},{default:s(()=>[U(S(m.finished),1)]),_:2},1024),a(I,{label:"Специальность"},{default:s(()=>[U(S(m.specialty),1)]),_:2},1024)]))]),_:2},[t(i)&&(!t(_)||t(c)!=m.id.toString())?{name:"footer",fn:s(()=>[j(a(F,{"navlen":2,onDelete:q=>g(m.id),onUpdate:q=>{w.value=m,c.value=m.id.toString(),_.value=!0}},null,8,["onDelete","onUpdate"]),[[P,t(i)]])]),key:"0"}:void 0]),1024)]))),128))])):(u(),k("div",ta,na))],64)}}}),oa=O({__name:"WorkplaceForm",props:{work:{type:Object,default:{}}},emits:["cancel","submit"],setup(o,{emit:l}){const r=l,i=B(o.work);i.value.starts=i.value.starts?new Date(i.value.starts).toISOString().slice(0,10):"",i.value.finished=i.value.finished?new Date(i.value.finished).toISOString().slice(0,10):"";function n(){r("submit",i.value),_()}function c(){r("cancel"),_()}function _(){Object.assign(i.value,{now_work:!1,starts:"",finished:"",workplace:"",position:"",addresses:"",reason:""})}return(w,p)=>{const y=nt,g=Z,v=N,d=ee,f=ae;return u(),z(f,{state:i.value,onSubmit:K(n,["prevent"])},{default:s(()=>[a(g,{class:"mb-3",label:"Текущая работа"},{default:s(()=>[a(y,{modelValue:i.value.now_work,"onUpdate:modelValue":p[0]||(p[0]=h=>i.value.now_work=h)},null,8,["modelValue"])]),_:1}),a(g,{class:"mb-3",label:"Начало работы"},{default:s(()=>[a(v,{modelValue:i.value.starts,"onUpdate:modelValue":p[1]||(p[1]=h=>i.value.starts=h),required:"",placeholder:"Начало работы",type:"date"},null,8,["modelValue"])]),_:1}),a(g,{class:"mb-3",label:"Окончание работы"},{default:s(()=>[a(v,{modelValue:i.value.finished,"onUpdate:modelValue":p[2]||(p[2]=h=>i.value.finished=h),required:"",placeholder:"Окончание работы",type:"date"},null,8,["modelValue"])]),_:1}),a(g,{class:"mb-3",label:"Место работы"},{default:s(()=>[a(v,{modelValue:i.value.workplace,"onUpdate:modelValue":p[3]||(p[3]=h=>i.value.workplace=h),modelModifiers:{trim:!0,lazy:!0},required:"",placeholder:"Место работы"},null,8,["modelValue"])]),_:1}),a(g,{class:"mb-3",label:"Должность"},{default:s(()=>[a(v,{modelValue:i.value.position,"onUpdate:modelValue":p[4]||(p[4]=h=>i.value.position=h),modelModifiers:{trim:!0,lazy:!0},required:"",placeholder:"Должность"},null,8,["modelValue"])]),_:1}),a(g,{class:"mb-3",label:"Адрес организации"},{default:s(()=>[a(v,{modelValue:i.value.addresses,"onUpdate:modelValue":p[5]||(p[5]=h=>i.value.addresses=h),modelModifiers:{trim:!0,lazy:!0},placeholder:"Адрес организации"},null,8,["modelValue"])]),_:1}),a(g,{class:"mb-3",label:"Причина увольнения"},{default:s(()=>[a(v,{modelValue:i.value.reason,"onUpdate:modelValue":p[6]||(p[6]=h=>i.value.reason=h),modelModifiers:{trim:!0,lazy:!0},placeholder:"Причина увольнения"},null,8,["modelValue"])]),_:1}),a(d,{onCancel:c})]),_:1},8,["state"])}}}),la={key:0,class:"py-3"},sa={key:1},ia={key:1},ua={key:2,class:"p-3"},ra=A("p",{class:"text-primary"},"Данные о работе отсутствуют",-1),ca=[ra],Tn=O({__name:"WorkDiv",async setup(o){let l,r;const e=W(),i=R("editState"),n=C(!1),c=C(!1),_=C(""),w=C({}),{refresh:p}=([l,r]=J(async()=>te("workplaces",async()=>{await e.getItem("workplaces")})),l=await l,r(),l);async function y(f){d(),Promise.all([await e.updateItem("workplaces",f),await p()])}async function g(f){Promise.all([await e.deleteItem(f,"workplaces"),await p()])}async function v(){await p(),d()}function d(){c.value=!1,_.value="",n.value=!1}return(f,h)=>{const b=X,V=oa,$=G,I=Q,F=Y;return u(),k(E,null,[t(i)?(u(),z(b,{key:0,label:t(n)?"Скрыть форму":"Добавить запись",variant:"link",onClick:h[0]||(h[0]=m=>n.value=!t(n))},null,8,["label"])):D("",!0),a(H,{name:"slide-fade"},{default:s(()=>[t(n)?(u(),k("div",la,[a($,null,{default:s(()=>[a(V,{onCancel:v,onSubmit:y})]),_:1})])):D("",!0)]),_:1}),t(e).anketa.value.workplaces&&t(e).anketa.value.workplaces.length?(u(),k("div",sa,[(u(!0),k(E,null,L(t(e).anketa.value.workplaces,(m,x)=>(u(),k("div",{key:x,class:"p-1"},[a($,null,le({default:s(()=>[t(c)&&t(_)==m.id.toString()?(u(),z(V,{key:0,work:t(w),onCancel:v,onSubmit:y},null,8,["work"])):(u(),k("div",ia,[m.now_work?(u(),z(I,{key:0,label:"Текущая работа"},{default:s(()=>[U(S(m.now_work?"Да":"Нет"),1)]),_:2},1024)):D("",!0),a(I,{label:"Начало работы"},{default:s(()=>[U(S(new Date(m.starts).toLocaleDateString("ru-RU")),1)]),_:2},1024),m.now_work?D("",!0):(u(),z(I,{key:1,label:"Окончание работы"},{default:s(()=>[U(S(new Date(m.finished).toLocaleDateString("ru-RU")),1)]),_:2},1024)),a(I,{label:"Место работы"},{default:s(()=>[U(S(m.workplace),1)]),_:2},1024),a(I,{label:"Адрес"},{default:s(()=>[U(S(m.addresses),1)]),_:2},1024),a(I,{label:"Должность"},{default:s(()=>[U(S(m.position),1)]),_:2},1024),m.reason?(u(),z(I,{key:2,label:"Причина увольнения"},{default:s(()=>[U(S(m.reason),1)]),_:2},1024)):D("",!0)]))]),_:2},[t(i)&&(!t(c)||t(_)!=m.id.toString())?{name:"footer",fn:s(()=>[j(a(F,{"navlen":2,onDelete:q=>g(m.id),onUpdate:q=>{w.value=m,_.value=m.id.toString(),c.value=!0}},null,8,["onDelete","onUpdate"]),[[P,t(i)]])]),key:"0"}:void 0]),1024)]))),128))])):(u(),k("div",ua,ca))],64)}}}),da=O({__name:"DocumentForm",props:{docs:{type:Object,default:{}}},emits:["cancel","submit"],setup(o,{emit:l}){const r=l,e=o,i=se(),n=B(e.docs);n.value.issue=n.value.issue?new Date(n.value.issue).toISOString().slice(0,10):"";function c(){r("submit",n.value),w()}function _(){r("cancel"),w()}function w(){Object.assign(n.value,{view:"",series:"",digits:"",agency:"",issue:""})}return(p,y)=>{const g=ie,v=Z,d=N,f=ee,h=ae;return u(),z(h,{state:n.value,onSubmit:K(c,["prevent"])},{default:s(()=>[a(v,{class:"mb-3",label:"Вид документа"},{default:s(()=>[a(g,{modelValue:n.value.view,"onUpdate:modelValue":y[0]||(y[0]=b=>n.value.view=b),required:"",options:Object.values(t(i).classes.value.documents)},null,8,["modelValue","options"])]),_:1}),a(v,{class:"mb-3",label:"Серия документа"},{default:s(()=>[a(d,{modelValue:n.value.series,"onUpdate:modelValue":y[1]||(y[1]=b=>n.value.series=b),modelModifiers:{trim:!0,lazy:!0},placeholder:"Серия документа"},null,8,["modelValue"])]),_:1}),a(v,{class:"mb-3",label:"Номер документа"},{default:s(()=>[a(d,{modelValue:n.value.digits,"onUpdate:modelValue":y[2]||(y[2]=b=>n.value.digits=b),modelModifiers:{trim:!0,lazy:!0},required:"",placeholder:"Номер документа"},null,8,["modelValue"])]),_:1}),a(v,{class:"mb-3",label:"Кем выдан"},{default:s(()=>[a(d,{modelValue:n.value.agency,"onUpdate:modelValue":y[3]||(y[3]=b=>n.value.agency=b),modelModifiers:{trim:!0},placeholder:"Кем выдан"},null,8,["modelValue"])]),_:1}),a(v,{class:"mb-3",label:"Дата выдачи"},{default:s(()=>[a(d,{modelValue:n.value.issue,"onUpdate:modelValue":y[4]||(y[4]=b=>n.value.issue=b),modelModifiers:{trim:!0,lazy:!0},required:"",type:"date"},null,8,["modelValue"])]),_:1}),a(f,{onCancel:_})]),_:1},8,["state"])}}}),ma={key:0,class:"py-3"},pa={key:1},fa={key:1},_a={key:2,class:"p-3"},va=A("p",{class:"text-primary"},"Данные отсутствуют",-1),ba=[va],Hn=O({__name:"DocumDiv",async setup(o){let l,r;const e=W(),i=R("editState"),n=C(!1),c=C(""),_=C(!1),w=C({}),{refresh:p}=([l,r]=J(async()=>te("documents",async()=>{await e.getItem("documents")})),l=await l,r(),l);async function y(f){d(),Promise.all([await e.updateItem("documents",f),await p()])}async function g(f){Promise.all([await e.deleteItem(f,"documents"),await p()])}async function v(){await p(),d()}function d(){_.value=!1,c.value="",n.value=!1}return(f,h)=>{const b=X,V=da,$=G,I=Q,F=Y;return u(),k(E,null,[t(i)?(u(),z(b,{key:0,label:t(n)?"Скрыть форму":"Добавить запись",variant:"link",onClick:h[0]||(h[0]=m=>n.value=!t(n))},null,8,["label"])):D("",!0),a(H,{name:"slide-fade"},{default:s(()=>[t(n)?(u(),k("div",ma,[a($,null,{default:s(()=>[a(V,{onCancel:v,onSubmit:y})]),_:1})])):D("",!0)]),_:1}),t(e).anketa.value.documents&&t(e).anketa.value.documents.length?(u(),k("div",pa,[(u(!0),k(E,null,L(t(e).anketa.value.documents,(m,x)=>(u(),k("div",{key:x,class:"p-1"},[a($,null,le({default:s(()=>[t(_)&&t(c)==m.id.toString()?(u(),z(V,{key:0,docs:t(w),onCancel:v,onSubmit:y},null,8,["docs"])):(u(),k("div",fa,[a(I,{label:"Вид документа"},{default:s(()=>[U(S(m.view),1)]),_:2},1024),a(I,{label:"Номер документа"},{default:s(()=>[U(S(m.digits),1)]),_:2},1024),a(I,{label:"Серия документа"},{default:s(()=>[U(S(m.series),1)]),_:2},1024),a(I,{label:"Дата выдачи"},{default:s(()=>[U(S(m.issue?new Date(String(m.issue)).toLocaleDateString("ru-RU"):""),1)]),_:2},1024),a(I,{label:"Кем выдан"},{default:s(()=>[U(S(m.agency),1)]),_:2},1024)]))]),_:2},[t(i)&&(!t(_)||t(c)!=m.id.toString())?{name:"footer",fn:s(()=>[j(a(F,{"navlen":2,onDelete:q=>g(m.id),onUpdate:q=>{w.value=m,c.value=m.id.toString(),_.value=!0}},null,8,["onDelete","onUpdate"]),[[P,t(i)]])]),key:"0"}:void 0]),1024)]))),128))])):(u(),k("div",_a,ba))],64)}}}),ya=O({__name:"AddressForm",props:{addrs:{type:Object,default:{}}},emits:["cancel","submit"],setup(o,{emit:l}){const r=l,e=o,i=se(),n=B(e.addrs);function c(){r("submit",n.value),w()}function _(){r("cancel"),w()}function w(){Object.assign(n.value,{view:"",addresses:""})}return(p,y)=>{const g=ie,v=Z,d=N,f=ee,h=ae;return u(),z(h,{state:n.value,onSubmit:K(c,["prevent"])},{default:s(()=>[a(v,{class:"mb-3",label:"Вид адреса"},{default:s(()=>[a(g,{modelValue:n.value.view,"onUpdate:modelValue":y[0]||(y[0]=b=>n.value.view=b),modelModifiers:{trim:!0,lazy:!0},required:"",options:Object.values(t(i).classes.value.addresses)},null,8,["modelValue","options"])]),_:1}),a(v,{class:"mb-3",label:"Адрес"},{default:s(()=>[a(d,{modelValue:n.value.addresses,"onUpdate:modelValue":y[1]||(y[1]=b=>n.value.addresses=b),modelModifiers:{trim:!0,lazy:!0},required:"",placeholder:"Адрес"},null,8,["modelValue"])]),_:1}),a(f,{onCancel:_})]),_:1},8,["state"])}}}),ga={key:0,class:"p-1"},ka={key:1},ha={key:1},wa={key:2,class:"p-3"},Sa=A("p",{class:"text-primary"},"Адреса отсутствуют",-1),$a=[Sa],Jn=O({__name:"AddressDiv",async setup(o){let l,r;const e=W(),i=R("editState"),n=C(!1),c=C(!1),_=C(""),w=C({}),{refresh:p}=([l,r]=J(async()=>te("addresses",async()=>{await e.getItem("addresses")})),l=await l,r(),l);async function y(f){d(),Promise.all([await e.updateItem("addresses",f),await p()])}async function g(f){Promise.all([await e.deleteItem(f,"addresses"),await p()])}async function v(){await p(),d()}function d(){c.value=!1,n.value=!1,_.value=""}return(f,h)=>{const b=X,V=ya,$=G,I=Q,F=Y;return u(),k(E,null,[t(i)?(u(),z(b,{key:0,label:t(n)?"Скрыть форму":"Добавить запись",variant:"link",onClick:h[0]||(h[0]=m=>n.value=!t(n))},null,8,["label"])):D("",!0),a(H,{name:"slide-fade"},{default:s(()=>[t(n)?(u(),k("div",ga,[a($,null,{default:s(()=>[a(V,{onCancel:v,onSubmit:y})]),_:1})])):D("",!0)]),_:1}),t(e).anketa.value.addresses&&t(e).anketa.value.addresses.length?(u(),k("div",ka,[(u(!0),k(E,null,L(t(e).anketa.value.addresses,(m,x)=>(u(),k("div",{key:x,class:"py-3"},[a($,null,le({default:s(()=>[t(c)&&t(_)==m.id.toString()?(u(),z(V,{key:0,addrs:t(w),onCancel:v,onSubmit:y},null,8,["addrs"])):(u(),k("div",ha,[a(I,{label:"Тип"},{default:s(()=>[U(S(m.view),1)]),_:2},1024),a(I,{label:"Адрес"},{default:s(()=>[U(S(m.addresses),1)]),_:2},1024)]))]),_:2},[t(i)&&(!t(c)||t(_)!=m.id.toString())?{name:"footer",fn:s(()=>[a(F,{"navlen":2,onDelete:q=>g(m.id),onUpdate:q=>{w.value=m,_.value=m.id.toString(),c.value=!0}},null,8,["onDelete","onUpdate"])]),key:"0"}:void 0]),1024)]))),128))])):(u(),k("div",wa,$a))],64)}}}),Ua=O({__name:"ContactForm",props:{contact:{type:Object,default:{}}},emits:["cancel","submit"],setup(o,{emit:l}){const r=l,e=o,i=se(),n=B(e.contact);function c(){r("submit",n.value),w()}function _(){r("cancel"),w()}function w(){Object.assign(n.value,{view:"",contact:""})}return(p,y)=>{const g=ie,v=Z,d=N,f=ee,h=ae;return u(),z(h,{state:n.value,onSubmit:K(c,["prevent"])},{default:s(()=>[a(v,{class:"mb-3",label:"Вид контакта"},{default:s(()=>[a(g,{modelValue:n.value.view,"onUpdate:modelValue":y[0]||(y[0]=b=>n.value.view=b),modelModifiers:{trim:!0,lazy:!0},required:"",options:Object.values(t(i).classes.value.contacts)},null,8,["modelValue","options"])]),_:1}),a(v,{class:"mb-3",label:"Контакт"},{default:s(()=>[a(d,{modelValue:n.value.contact,"onUpdate:modelValue":y[1]||(y[1]=b=>n.value.contact=b),modelModifiers:{trim:!0,lazy:!0},required:"",placeholder:"Контакт"},null,8,["modelValue"])]),_:1}),a(f,{onCancel:_})]),_:1},8,["state"])}}}),Va={key:0,class:"py-3"},Ia={key:1},Ca={key:1},Fa={key:2,class:"p-3"},za=A("p",{class:"text-primary"},"Данные отсутствуют",-1),Da=[za],Kn=O({__name:"ContactDiv",async setup(o){let l,r;const e=W(),i=R("editState"),n=C(!1),c=C(""),_=C(!1),w=C({}),{refresh:p}=([l,r]=J(async()=>te("contacts",async()=>{await e.getItem("contacts")})),l=await l,r(),l);async function y(f){d(),Promise.all([await e.updateItem("contacts",f),await p()])}async function g(f){Promise.all([await e.deleteItem(f,"contacts"),await p()])}async function v(){await p(),d()}function d(){_.value=!1,c.value="",n.value=!1}return(f,h)=>{const b=X,V=Ua,$=G,I=Q,F=Y;return u(),k(E,null,[t(i)?(u(),z(b,{key:0,label:t(n)?"Скрыть форму":"Добавить запись",variant:"link",onClick:h[0]||(h[0]=m=>n.value=!t(n))},null,8,["label"])):D("",!0),a(H,{name:"slide-fade"},{default:s(()=>[t(n)?(u(),k("div",Va,[a($,null,{default:s(()=>[a(V,{onCancel:v,onSubmit:y})]),_:1})])):D("",!0)]),_:1}),t(e).anketa.value.contacts&&t(e).anketa.value.contacts.length?(u(),k("div",Ia,[(u(!0),k(E,null,L(t(e).anketa.value.contacts,(m,x)=>(u(),k("div",{key:x,class:"p-1"},[a($,null,le({default:s(()=>[t(_)&&t(c)==m.id.toString()?(u(),z(V,{key:0,contact:t(w),onCancel:v,onSubmit:y},null,8,["contact"])):(u(),k("div",Ca,[a(I,{label:"Вид"},{default:s(()=>[U(S(m.view),1)]),_:2},1024),a(I,{label:"Контакт"},{default:s(()=>[U(S(m.contact),1)]),_:2},1024)]))]),_:2},[t(i)&&(!t(_)||t(c)!=m.id.toString())?{name:"footer",fn:s(()=>[j(a(F,{"navlen":2,onDelete:q=>g(m.id),onUpdate:q=>{w.value=m,c.value=m.id.toString(),_.value=!0}},null,8,["onDelete","onUpdate"]),[[P,t(i)]])]),key:"0"}:void 0]),1024)]))),128))])):(u(),k("div",Fa,Da))],64)}}}),xa=O({__name:"AffilationForm",props:{affils:{type:Object,default:{}}},emits:["cancel","submit"],setup(o,{emit:l}){const r=l,e=o,i=se(),n=B(e.affils);function c(){r("submit",n.value),w()}function _(){r("cancel"),w()}function w(){Object.assign(n.value,{view:"",organization:"",inn:""})}return(p,y)=>{const g=ie,v=Z,d=N,f=ee,h=ae;return u(),z(h,{state:n.value,onSubmit:K(c,["prevent"])},{default:s(()=>[a(v,{class:"mb-3",label:"Тип участия"},{default:s(()=>[a(g,{modelValue:n.value.view,"onUpdate:modelValue":y[0]||(y[0]=b=>n.value.view=b),modelModifiers:{trim:!0,lazy:!0},required:"",options:Object.values(t(i).classes.value.affiliates)},null,8,["modelValue","options"])]),_:1}),a(v,{class:"mb-3",label:"Организация"},{default:s(()=>[a(d,{modelValue:n.value.organization,"onUpdate:modelValue":y[1]||(y[1]=b=>n.value.organization=b),modelModifiers:{trim:!0,lazy:!0},required:"",placeholder:"Организация"},null,8,["modelValue"])]),_:1}),a(v,{class:"mb-3",label:"ИНН"},{default:s(()=>[a(d,{modelValue:n.value.inn,"onUpdate:modelValue":y[2]||(y[2]=b=>n.value.inn=b),modelModifiers:{trim:!0,lazy:!0},placeholder:"ИНН"},null,8,["modelValue"])]),_:1}),a(f,{onCancel:_})]),_:1},8,["state"])}}}),Oa={key:0,class:"py-3"},Ma={key:1},qa={key:1},Ea={key:2,class:"p-3"},Aa=A("p",{class:"text-primary"},"Данные отсутствуют",-1),ja=[Aa],Xn=O({__name:"AffilDiv",async setup(o){let l,r;const e=W(),i=R("editState"),n=C(!1),c=C(!1),_=C(""),w=C({}),{refresh:p}=([l,r]=J(async()=>te("affilations",async()=>{await e.getItem("affilations")})),l=await l,r(),l);async function y(f){d(),Promise.all([await e.updateItem("affilations",f),await p()])}async function g(f){Promise.all([await e.deleteItem(f,"affilations"),await p()])}async function v(){await p(),d()}function d(){c.value=!1,_.value="",n.value=!1}return(f,h)=>{const b=X,V=xa,$=G,I=Q,F=Y;return u(),k(E,null,[t(i)?(u(),z(b,{key:0,label:t(n)?"Скрыть форму":"Добавить запись",variant:"link",onClick:h[0]||(h[0]=m=>n.value=!t(n))},null,8,["label"])):D("",!0),a(H,{name:"slide-fade"},{default:s(()=>[t(n)?(u(),k("div",Oa,[a($,null,{default:s(()=>[a(V,{onCancel:v,onSubmit:y})]),_:1})])):D("",!0)]),_:1}),t(e).anketa.value.affilations&&t(e).anketa.value.affilations.length?(u(),k("div",Ma,[(u(!0),k(E,null,L(t(e).anketa.value.affilations,(m,x)=>(u(),k("div",{key:x,class:"p-1"},[a($,null,le({default:s(()=>[t(c)&&t(_)==m.id.toString()?(u(),z(V,{key:0,affils:t(w),onCancel:v,onSubmit:y},null,8,["affils"])):(u(),k("div",qa,[a(I,{label:"Тип участия"},{default:s(()=>[U(S(m.view),1)]),_:2},1024),a(I,{label:"Организация"},{default:s(()=>[U(S(m.organization),1)]),_:2},1024),a(I,{label:"ИНН"},{default:s(()=>[U(S(m.inn),1)]),_:2},1024)]))]),_:2},[t(i)&&(!t(c)||t(_)!=m.id.toString())?{name:"footer",fn:s(()=>[j(a(F,{"navlen":2,onDelete:q=>g(m.id),onUpdate:q=>{w.value=m,_.value=m.id.toString(),c.value=!0}},null,8,["onDelete","onUpdate"]),[[P,t(i)]])]),key:"0"}:void 0]),1024)]))),128))])):(u(),k("div",Ea,ja))],64)}}}),Pa=O({__name:"PreviousForm",props:{previous:{type:Object,default:{}}},emits:["cancel","submit"],setup(o,{emit:l}){const r=l,i=B(o.previous);function n(){r("submit",i.value),_()}function c(){r("cancel"),_()}function _(){Object.assign(i.value,{surname:"",firstname:"",patronymic:"",changed:"",reason:""})}return(w,p)=>{const y=N,g=Z,v=ee,d=ae;return u(),z(d,{state:i.value,onSubmit:K(n,["prevent"])},{default:s(()=>[a(g,{class:"mb-3",label:"Фамилия"},{default:s(()=>[a(y,{modelValue:i.value.surname,"onUpdate:modelValue":p[0]||(p[0]=f=>i.value.surname=f),modelModifiers:{trim:!0,lazy:!0},required:"",placeholder:"Фамилия"},null,8,["modelValue"])]),_:1}),a(g,{class:"mb-3",label:"Имя"},{default:s(()=>[a(y,{modelValue:i.value.firstname,"onUpdate:modelValue":p[1]||(p[1]=f=>i.value.firstname=f),modelModifiers:{trim:!0,lazy:!0},required:"",placeholder:"Имя"},null,8,["modelValue"])]),_:1}),a(g,{class:"mb-3",label:"Отчество"},{default:s(()=>[a(y,{modelValue:i.value.patronymic,"onUpdate:modelValue":p[2]||(p[2]=f=>i.value.patronymic=f),modelModifiers:{trim:!0,lazy:!0},placeholder:"Отчество"},null,8,["modelValue"])]),_:1}),a(g,{class:"mb-3",label:"Год изменения"},{default:s(()=>[a(y,{modelValue:i.value.changed,"onUpdate:modelValue":p[3]||(p[3]=f=>i.value.changed=f),modelModifiers:{trim:!0,lazy:!0},placeholder:"Год изменения"},null,8,["modelValue"])]),_:1}),a(g,{class:"mb-3",label:"Причина изменения"},{default:s(()=>[a(y,{modelValue:i.value.reason,"onUpdate:modelValue":p[4]||(p[4]=f=>i.value.reason=f),modelModifiers:{trim:!0,lazy:!0},placeholder:"Причина изменения"},null,8,["modelValue"])]),_:1}),a(v,{onCancel:c})]),_:1},8,["state"])}}}),Ba={key:0,class:"py-3"},Na={key:1},La={key:1},Ra={key:2,class:"p-3"},Ga=A("p",{class:"text-primary"},"Данные отсутствуют",-1),Wa=[Ga],Qn=O({__name:"PrevDiv",async setup(o){let l,r;const e=W(),i=R("editState"),n=C(!1),c=C(!1),_=C(""),w=C({}),{refresh:p}=([l,r]=J(async()=>te("previous",async()=>{await e.getItem("previous")})),l=await l,r(),l);async function y(f){d(),Promise.all([await e.updateItem("previous",f),await p()])}async function g(f){Promise.all([await e.deleteItem(f,"previous"),await p()])}async function v(){await p(),d()}function d(){c.value=!1,_.value="",n.value=!1}return(f,h)=>{const b=X,V=Pa,$=G,I=Q,F=Y;return u(),k(E,null,[t(i)?(u(),z(b,{key:0,label:t(n)?"Скрыть форму":"Добавить запись",variant:"link",onClick:h[0]||(h[0]=m=>n.value=!t(n))},null,8,["label"])):D("",!0),a(H,{name:"slide-fade"},{default:s(()=>[t(n)?(u(),k("div",Ba,[a($,null,{default:s(()=>[a(V,{onCancel:v,onSubmit:y})]),_:1})])):D("",!0)]),_:1}),t(e).anketa.value.previous&&t(e).anketa.value.previous.length?(u(),k("div",Na,[(u(!0),k(E,null,L(t(e).anketa.value.previous,(m,x)=>(u(),k("div",{key:x,class:"p-1"},[a($,null,le({default:s(()=>[t(c)&&t(_)==m.id.toString()?(u(),z(V,{key:0,previous:t(w),onCancel:v,onSubmit:y},null,8,["previous"])):(u(),k("div",La,[a(I,{label:"Фамилия"},{default:s(()=>[U(S(m.surname),1)]),_:2},1024),a(I,{label:"Имя"},{default:s(()=>[U(S(m.firstname),1)]),_:2},1024),m.patronymic?(u(),z(I,{key:0,label:"Отчество"},{default:s(()=>[U(S(m.patronymic),1)]),_:2},1024)):D("",!0),m.changed?(u(),z(I,{key:1,label:"Год изменения"},{default:s(()=>[U(S(m.changed),1)]),_:2},1024)):D("",!0),m.reason?(u(),z(I,{key:2,label:"Причина"},{default:s(()=>[U(S(m.reason),1)]),_:2},1024)):D("",!0)]))]),_:2},[t(i)&&(!t(c)||t(_)!=m.id.toString())?{name:"footer",fn:s(()=>[j(a(F,{"navlen":2,onDelete:q=>g(m.id.toString()),onUpdate:q=>{w.value=m,_.value=m.id.toString(),c.value=!0}},null,8,["onDelete","onUpdate"]),[[P,t(i)]])]),key:"0"}:void 0]),1024)]))),128))])):(u(),k("div",Ra,Wa))],64)}}}),Ta=O({__name:"RelationForm",props:{relation:{type:Object,default:{}}},emits:["cancel","submit"],setup(o,{emit:l}){const r=l,e=o,i=se(),n=B(e.relation);function c(){r("submit",n.value),w()}function _(){r("cancel"),w()}function w(){Object.assign(n.value,{relation:"",relation_id:""})}return(p,y)=>{const g=ie,v=Z,d=N,f=ee,h=ae;return u(),z(h,{state:n.value,onSubmit:K(c,["prevent"])},{default:s(()=>[a(v,{class:"mb-3",label:"Тип связи"},{default:s(()=>[a(g,{modelValue:n.value.relation,"onUpdate:modelValue":y[0]||(y[0]=b=>n.value.relation=b),modelModifiers:{trim:!0,lazy:!0},required:"",options:Object.values(t(i).classes.value.relations)},null,8,["modelValue","options"])]),_:1}),a(v,{class:"mb-3",label:"ID связи"},{default:s(()=>[a(d,{modelValue:n.value.relation_id,"onUpdate:modelValue":y[1]||(y[1]=b=>n.value.relation_id=b),modelModifiers:{trim:!0,lazy:!0},required:"",type:"number"},null,8,["modelValue"])]),_:1}),a(f,{onCancel:_})]),_:1},8,["state"])}}}),Ha={key:0,class:"py-3"},Ja={key:1},Ka={key:1},Xa={key:2,class:"p-3"},Qa=A("p",{class:"text-primary"},"Данные отсутствуют",-1),Ya=[Qa],Yn=O({__name:"RelateDiv",async setup(o){let l,r;const e=W(),i=R("editState"),n=C(!1),c=C(!1),_=C(""),w=C({}),{refresh:p}=([l,r]=J(async()=>te("relations",async()=>{await e.getItem("relations")})),l=await l,r(),l);async function y(f){d(),Promise.all([await e.updateItem("relations",f),await p()])}async function g(f){Promise.all([await e.deleteItem(f,"relations"),await p()])}async function v(){await p(),d()}function d(){c.value=!1,_.value="",n.value=!1}return(f,h)=>{const b=X,V=Ta,$=G,I=Q,F=Qe,m=Y;return u(),k(E,null,[t(i)?(u(),z(b,{key:0,label:t(n)?"Скрыть форму":"Добавить запись",variant:"link",onClick:h[0]||(h[0]=x=>n.value=!t(n))},null,8,["label"])):D("",!0),a(H,{name:"slide-fade"},{default:s(()=>[t(n)?(u(),k("div",Ha,[a($,null,{default:s(()=>[a(V,{onCancel:v,onSubmit:y})]),_:1})])):D("",!0)]),_:1}),t(e).anketa.value.relations&&t(e).anketa.value.relations.length?(u(),k("div",Ja,[(u(!0),k(E,null,L(t(e).anketa.value.relations,(x,q)=>(u(),k("div",{key:q,class:"p-1"},[a($,null,le({default:s(()=>[t(c)&&t(_)==x.id.toString()?(u(),z(V,{key:0,relation:t(w),onCancel:v,onSubmit:y},null,8,["relation"])):(u(),k("div",Ka,[a(I,{label:"Тип"},{default:s(()=>[U(S(x.relation),1)]),_:2},1024),a(I,{label:"Связь"},{default:s(()=>[a(F,{to:`/profile/${x.relation_id}`},{default:s(()=>[U(" ID #"+S(x.relation_id),1)]),_:2},1032,["to"])]),_:2},1024)]))]),_:2},[t(i)&&(!t(c)||t(_)!=x.id.toString())?{name:"footer",fn:s(()=>[j(a(m,{"navlen":2,onDelete:M=>g(x.id.toString()),onUpdate:M=>{w.value=x,_.value=x.id.toString(),c.value=!0}},null,8,["onDelete","onUpdate"]),[[P,t(i)]])]),key:"0"}:void 0]),1024)]))),128))])):(u(),k("div",Xa,Ya))],64)}}}),Za=O({__name:"CheckForm",props:{check:{type:Object,default:{}}},emits:["cancel","submit"],setup(o,{emit:l}){const r=l,e=o,i=se(),n=B(e.check),c=C(!1);function _(){r("submit",n.value),p()}function w(){r("cancel"),p()}function p(){c.value=!1,Object.keys(n.value).forEach(y=>{n.value[y]=""})}return Ye(c,()=>{c.value&&Object.assign(n.value,{workplace:"Негатив по местам работы не выявлен",document:"Среди недействительных документов не значится",inn:"ИНН соответствует",debt:"Задолженности не обнаружены",bankruptcy:"Решений о признании банкротом не имеется",bki:"Кредитная история положительная",courts:"Судебные дела не обнаружены",affilation:"Аффилированность не выявлена",terrorist:"В списке террористов не обнаружен",mvd:"В розыск не объявлен",internet:"В открытых источниках негатив не обнаружен",cronos:"В Кронос негатив не выявлен"})}),(y,g)=>{const v=et,d=Z,f=me,h=ie,b=ee,V=ae;return u(),k(E,null,[a(d,{state:c.value,class:"mb-3",label:"Негатива нет"},{default:s(()=>[a(v,{modelValue:c.value,"onUpdate:modelValue":g[0]||(g[0]=$=>c.value=$)},null,8,["modelValue"])]),_:1},8,["state"]),a(V,{state:n.value,onSubmit:K(_,["prevent"])},{default:s(()=>[a(d,{class:"mb-3",label:"Проверка по местам работы"},{default:s(()=>[a(f,{modelValue:n.value.workplace,"onUpdate:modelValue":g[1]||(g[1]=$=>n.value.workplace=$),modelModifiers:{trim:!0,lazy:!0},placeholder:"Проверка по местам работы"},null,8,["modelValue"])]),_:1}),a(d,{class:"mb-3",label:"Проверка документов"},{default:s(()=>[a(f,{modelValue:n.value.document,"onUpdate:modelValue":g[2]||(g[2]=$=>n.value.document=$),modelModifiers:{trim:!0,lazy:!0},placeholder:"Проверка документов"},null,8,["modelValue"])]),_:1}),a(d,{class:"mb-3",label:"Проверка ИНН"},{default:s(()=>[a(f,{modelValue:n.value.inn,"onUpdate:modelValue":g[3]||(g[3]=$=>n.value.inn=$),modelModifiers:{trim:!0,lazy:!0},placeholder:"Проверка ИНН"},null,8,["modelValue"])]),_:1}),a(d,{class:"mb-3",label:"Проверка задолженностей"},{default:s(()=>[a(f,{modelValue:n.value.debt,"onUpdate:modelValue":g[4]||(g[4]=$=>n.value.debt=$),modelModifiers:{trim:!0,lazy:!0},placeholder:"Проверка задолженностей"},null,8,["modelValue"])]),_:1}),a(d,{class:"mb-3",label:"Проверка банкротства"},{default:s(()=>[a(f,{modelValue:n.value.bankruptcy,"onUpdate:modelValue":g[5]||(g[5]=$=>n.value.bankruptcy=$),modelModifiers:{trim:!0,lazy:!0},placeholder:"Проверка банкротства"},null,8,["modelValue"])]),_:1}),a(d,{class:"mb-3",label:"Проверка Кредитной истории"},{default:s(()=>[a(f,{modelValue:n.value.bki,"onUpdate:modelValue":g[6]||(g[6]=$=>n.value.bki=$),modelModifiers:{trim:!0,lazy:!0},placeholder:"Проверка Кредитной истории"},null,8,["modelValue"])]),_:1}),a(d,{class:"mb-3",label:"Проверка судебных дел"},{default:s(()=>[a(f,{modelValue:n.value.courts,"onUpdate:modelValue":g[7]||(g[7]=$=>n.value.courts=$),modelModifiers:{trim:!0,lazy:!0},placeholder:"Проверка судебных дел"},null,8,["modelValue"])]),_:1}),a(d,{class:"mb-3",label:"Проверка аффилированности"},{default:s(()=>[a(f,{modelValue:n.value.affilation,"onUpdate:modelValue":g[8]||(g[8]=$=>n.value.affilation=$),modelModifiers:{trim:!0,lazy:!0},placeholder:"Проверка аффилированности"},null,8,["modelValue"])]),_:1}),a(d,{class:"mb-3",label:"Проверка в списке террористов"},{default:s(()=>[a(f,{modelValue:n.value.terrorist,"onUpdate:modelValue":g[9]||(g[9]=$=>n.value.terrorist=$),modelModifiers:{trim:!0,lazy:!0},placeholder:"Проверка в списке террористов"},null,8,["modelValue"])]),_:1}),a(d,{class:"mb-3",label:"Проверка в розыск"},{default:s(()=>[a(f,{modelValue:n.value.mvd,"onUpdate:modelValue":g[10]||(g[10]=$=>n.value.mvd=$),modelModifiers:{trim:!0,lazy:!0},placeholder:"Проверка в розыск"},null,8,["modelValue"])]),_:1}),a(d,{class:"mb-3",label:"Проверка в открытых источниках"},{default:s(()=>[a(f,{modelValue:n.value.internet,"onUpdate:modelValue":g[11]||(g[11]=$=>n.value.internet=$),modelModifiers:{trim:!0,lazy:!0},placeholder:"Проверка в открытых источниках"},null,8,["modelValue"])]),_:1}),a(d,{class:"mb-3",label:"Проверка в Кронос"},{default:s(()=>[a(f,{modelValue:n.value.cronos,"onUpdate:modelValue":g[12]||(g[12]=$=>n.value.cronos=$),modelModifiers:{trim:!0,lazy:!0},placeholder:"Проверка в Кронос/Крос"},null,8,["modelValue"])]),_:1}),a(d,{class:"mb-3",label:"Дополнительная информация"},{default:s(()=>[a(f,{modelValue:n.value.addition,"onUpdate:modelValue":g[13]||(g[13]=$=>n.value.addition=$),modelModifiers:{trim:!0,lazy:!0},placeholder:"Дополнительная информация"},null,8,["modelValue"])]),_:1}),a(d,{class:"mb-3",label:"Комментарии"},{default:s(()=>[a(f,{modelValue:n.value.comment,"onUpdate:modelValue":g[14]||(g[14]=$=>n.value.comment=$),modelModifiers:{trim:!0,lazy:!0},placeholder:"Комментарии"},null,8,["modelValue"])]),_:1}),a(d,{class:"mb-3",label:"Результат"},{default:s(()=>[a(h,{modelValue:n.value.conclusion,"onUpdate:modelValue":g[15]||(g[15]=$=>n.value.conclusion=$),modelModifiers:{trim:!0,lazy:!0},required:"",options:Object.values(t(i).classes.value.conclusions)},null,8,["modelValue","options"])]),_:1}),a(b,{onCancel:w})]),_:1},8,["state"])],64)}}}),en={key:0,class:"py-3"},tn={key:1},an={class:"tex-base text-red-800 dark:text-gray-400 font-medium"},nn={key:1},on={key:2,class:"p-3"},ln=A("p",{class:"text-red-800"},"Проверка кандидата отсутствует",-1),sn=[ln],Zn=O({__name:"CheckTab",async setup(o){let l,r;const e=W(),i=R("editState"),n=C({collapse:!1,collapseAdd:!1,edit:!1,itemId:"",check:{}}),{refresh:c}=([l,r]=J(async()=>te("checks",async()=>{await e.getItem("checks")})),l=await l,r(),l);async function _(v){y(),Promise.all([await e.updateItem("checks",v),await c()])}async function w(v){Promise.all([await e.deleteItem(v,"checks"),await c()])}async function p(){await c(),y()}function y(){n.value.edit=!1,n.value.itemId="",n.value.collapse=!1}function g(v){var d;(d=document.getElementById(v))==null||d.click()}return(v,d)=>{const f=X,h=Za,b=G,V=Q,$=Y,I=N;return u(),k(E,null,[t(i)?(u(),z(f,{key:0,class:"py-3",label:t(n).collapse?"Скрыть форму":"Добавить запись",variant:"link",onClick:d[0]||(d[0]=F=>t(n).collapse=!t(n).collapse)},null,8,["label"])):D("",!0),a(H,{name:"slide-fade"},{default:s(()=>[t(n).collapse?(u(),k("div",en,[a(b,null,{default:s(()=>[a(h,{onSubmit:_,onCancel:p})]),_:1})])):D("",!0)]),_:1}),t(e).anketa.value.checks&&t(e).anketa.value.checks.length?(u(),k("div",tn,[(u(!0),k(E,null,L(t(e).anketa.value.checks,(F,m)=>(u(),k("div",{key:m,class:"text-sm text-gray-500 dark:text-gray-400 py-1"},[a(b,null,{header:s(()=>[A("div",an,S("Проверка кандидата ID #"+F.id),1)]),footer:s(()=>[j(a($,{onUpdate:x=>{t(n).check=t(e).anketa.value.checks[m],t(n).itemId=t(e).anketa.value.checks[m].id.toString(),t(n).edit=!0},onDelete:x=>w(t(e).anketa.value.checks[m].id),onUpload:d[1]||(d[1]=x=>g("check-file"))},null,8,["onUpdate","onDelete"]),[[P,t(i)]]),j(A("div",null,[a(I,{id:"check-file",type:"file",accept:"*",multiple:"",onChange:d[2]||(d[2]=x=>t(e).submitFile(x,"checks",t(e).share.value.candId))})],512),[[P,!1]])]),default:s(()=>[t(n).edit&&t(n).itemId==t(e).anketa.value.checks[m].id.toString()?(u(),z(h,{key:0,check:t(n).check,onCancel:p,onSubmit:_},null,8,["check"])):(u(),k("div",nn,[a(V,{label:"Проверка по местам работы"},{default:s(()=>[U(S(t(e).anketa.value.checks[m].workplace),1)]),_:2},1024),a(V,{label:"Проверка паспорта"},{default:s(()=>[U(S(t(e).anketa.value.checks[m].document),1)]),_:2},1024),a(V,{label:"Проверка ИНН"},{default:s(()=>[U(S(t(e).anketa.value.checks[m].inn),1)]),_:2},1024),a(V,{label:"Проверка ФССП"},{default:s(()=>[U(S(t(e).anketa.value.checks[m].debt),1)]),_:2},1024),a(V,{label:"Проверка банкротства"},{default:s(()=>[U(S(t(e).anketa.value.checks[m].bankruptcy),1)]),_:2},1024),a(V,{label:"Проверка БКИ"},{default:s(()=>[U(S(t(e).anketa.value.checks[m].bki),1)]),_:2},1024),a(V,{label:"Проверка судебных решений"},{default:s(()=>[U(S(t(e).anketa.value.checks[m].courts),1)]),_:2},1024),a(V,{label:"Проверка аффилированности"},{default:s(()=>[U(S(t(e).anketa.value.checks[m].affilation),1)]),_:2},1024),a(V,{label:"Проверка по списку террористов"},{default:s(()=>[U(S(t(e).anketa.value.checks[m].terrorist),1)]),_:2},1024),a(V,{label:"Проверка в розыск"},{default:s(()=>[U(S(t(e).anketa.value.checks[m].mvd),1)]),_:2},1024),a(V,{label:"Проверка в открытых источниках"},{default:s(()=>[U(S(t(e).anketa.value.checks[m].internet),1)]),_:2},1024),a(V,{label:"Проверка в Кронос"},{default:s(()=>[U(S(t(e).anketa.value.checks[m].cronos),1)]),_:2},1024),a(V,{label:"Дополнительная информация"},{default:s(()=>[U(S(t(e).anketa.value.checks[m].addition),1)]),_:2},1024),a(V,{label:"Комментарии"},{default:s(()=>[U(S(t(e).anketa.value.checks[m].comment),1)]),_:2},1024),a(V,{label:"Результат"},{default:s(()=>[U(S(t(e).anketa.value.checks[m].conclusion),1)]),_:2},1024),a(V,{label:"Сотрудник"},{default:s(()=>[U(S(t(e).anketa.value.checks[m].username),1)]),_:2},1024),a(V,{label:"Дата записи"},{default:s(()=>[U(S(new Date(t(e).anketa.value.checks[m].created+" UTC").toLocaleString("ru-RU")),1)]),_:2},1024)]))]),_:2},1024)]))),128))])):(u(),k("div",on,sn))],64)}}}),un=O({__name:"PoligrafForm",props:{poligraf:{type:Object,default:{}}},emits:["cancel","submit"],setup(o,{emit:l}){const r=l,e=o,i=se(),n=B(e.poligraf);function c(){r("submit",n.value),w()}function _(){r("cancel"),w()}function w(){Object.assign(n.value,{theme:"",results:""})}return(p,y)=>{const g=ie,v=Z,d=me,f=ee,h=ae;return u(),z(h,{state:n.value,onSubmit:K(c,["prevent"])},{default:s(()=>[a(v,{class:"mb-3",label:"Тема проверки"},{default:s(()=>[a(g,{modelValue:n.value.theme,"onUpdate:modelValue":y[0]||(y[0]=b=>n.value.theme=b),required:"",options:Object.values(t(i).classes.value.poligrafs)},null,8,["modelValue","options"])]),_:1}),a(v,{class:"mb-3",label:"Результат"},{default:s(()=>[a(d,{modelValue:n.value.results,"onUpdate:modelValue":y[1]||(y[1]=b=>n.value.results=b),modelModifiers:{trim:!0,lazy:!0},required:"",placeholder:"Результат"},null,8,["modelValue"])]),_:1}),a(f,{onCancel:_})]),_:1},8,["state"])}}}),rn={key:0,class:"py-3"},cn={key:1},dn={class:"tex-base text-red-800 font-medium"},mn={key:1},pn={key:2,class:"p-3"},fn=A("p",{class:"text-red-800"},"Обследование на полиграфе не проводилось",-1),_n=[fn],eo=O({__name:"PoligrafTab",async setup(o){let l,r;const e=W(),i=R("editState"),n=C(!1),c=C(!1),_=C(""),w=C({}),{refresh:p}=([l,r]=J(async()=>te("poligrafs",async()=>{await e.getItem("poligrafs")})),l=await l,r(),l);async function y(h){Promise.all([await e.updateItem("poligrafs",h),await p()]),d()}async function g(h){d(),Promise.all([await e.deleteItem(h,"poligrafs"),await p()])}async function v(){await p(),d()}function d(){c.value=!1,_.value="",n.value=!1}function f(h){var b;(b=document.getElementById(h))==null||b.click()}return(h,b)=>{const V=X,$=un,I=G,F=Q,m=Y,x=N;return u(),k(E,null,[t(i)?(u(),z(V,{key:0,class:"py-3",label:t(n)?"Скрыть форму":"Добавить запись",variant:"link",onClick:b[0]||(b[0]=q=>n.value=!t(n))},null,8,["label"])):D("",!0),a(H,{name:"slide-fade"},{default:s(()=>[t(n)?(u(),k("div",rn,[a(I,null,{default:s(()=>[a($,{onCancel:v,onSubmit:y})]),_:1})])):D("",!0)]),_:1}),t(e).anketa.value.poligrafs&&t(e).anketa.value.poligrafs.length?(u(),k("div",cn,[(u(!0),k(E,null,L(t(e).anketa.value.poligrafs,(q,M)=>(u(),k("div",{key:M,class:"text-sm text-gray-500 dark:text-gray-400 py-1"},[a(I,null,{header:s(()=>[A("div",dn,S("Обследование на полиграфе ID #"+q.id),1)]),footer:s(()=>[j(a(m,{onUpdate:T=>{w.value=t(e).anketa.value.poligrafs[M],_.value=t(e).anketa.value.poligrafs[M].id.toString(),c.value=!0},onDelete:T=>g(t(e).anketa.value.poligrafs[M].id),onUpload:b[1]||(b[1]=T=>f("poligraf-file"))},null,8,["onUpdate","onDelete"]),[[P,t(i)]]),j(A("div",null,[a(x,{id:"poligraf-file",type:"file",accept:"*",multiple:"",onChange:b[2]||(b[2]=T=>t(e).submitFile(T,"poligrafs",t(e).share.value.candId))})],512),[[P,!1]])]),default:s(()=>[t(c)&&t(_)==t(e).anketa.value.poligrafs[M].id.toString()?(u(),z($,{key:0,poligraf:t(w),onCancel:v,onSubmit:y},null,8,["poligraf"])):(u(),k("div",mn,[a(F,{label:"Тема проверки"},{default:s(()=>[U(S(t(e).anketa.value.poligrafs[M].theme),1)]),_:2},1024),a(F,{label:"Результат"},{default:s(()=>[U(S(t(e).anketa.value.poligrafs[M].results),1)]),_:2},1024),a(F,{label:"Сотрудник"},{default:s(()=>[U(S(t(e).anketa.value.poligrafs[M].username),1)]),_:2},1024),a(F,{label:"Дата записи"},{default:s(()=>[U(S(new Date(t(e).anketa.value.poligrafs[M].created+" UTC").toLocaleString("ru-RU")),1)]),_:2},1024)]))]),_:2},1024)]))),128))])):(u(),k("div",pn,_n))],64)}}}),vn=O({__name:"InvestigationForm",props:{investigation:{type:Object,default:{}}},emits:["cancel","submit"],setup(o,{emit:l}){const r=l,i=B(o.investigation);function n(){r("submit",i.value),_()}function c(){r("cancel"),_()}function _(){Object.assign(i.value,{theme:"",info:""})}return(w,p)=>{const y=N,g=Z,v=me,d=ee,f=ae;return u(),z(f,{state:i.value,onSubmit:K(n,["prevent"])},{default:s(()=>[a(g,{class:"mb-3",label:"Тема проверки"},{default:s(()=>[a(y,{modelValue:i.value.theme,"onUpdate:modelValue":p[0]||(p[0]=h=>i.value.theme=h),modelModifiers:{trim:!0,lazy:!0},required:"",placeholder:"Тема проверки"},null,8,["modelValue"])]),_:1}),a(g,{class:"mb-3",label:"Информация"},{default:s(()=>[a(v,{modelValue:i.value.info,"onUpdate:modelValue":p[1]||(p[1]=h=>i.value.info=h),modelModifiers:{trim:!0,lazy:!0},required:"",placeholder:"Информация"},null,8,["modelValue"])]),_:1}),a(d,{onCancel:c})]),_:1},8,["state"])}}}),bn={key:0,class:"py-3"},yn={key:1},gn={class:"tex-base text-red-800 font-medium"},kn={key:1},hn={key:2,class:"p-3"},wn=A("p",{class:"text-red-800"},"Расследования/Проверки не проводились",-1),Sn=[wn],to=O({__name:"InvestigateTab",async setup(o){let l,r;const e=W(),i=R("editState"),n=C(!1),c=C(!1),_=C(""),w=C({}),{refresh:p}=([l,r]=J(async()=>te("investigations",async()=>{await e.getItem("investigations")})),l=await l,r(),l);async function y(h){d(),Promise.all([await e.updateItem("investigations",h),await p()])}async function g(h){Promise.all([await e.deleteItem(h,"investigations"),await p()])}async function v(){await p(),d()}function d(){c.value=!1,_.value="",n.value=!1}function f(h){var b;(b=document.getElementById(h))==null||b.click()}return(h,b)=>{const V=X,$=vn,I=G,F=Q,m=Y,x=N;return u(),k(E,null,[t(i)?(u(),z(V,{key:0,class:"py-3",label:t(n)?"Скрыть форму":"Добавить запись",variant:"link",onClick:b[0]||(b[0]=q=>n.value=!t(n))},null,8,["label"])):D("",!0),a(H,{name:"slide-fade"},{default:s(()=>[t(n)?(u(),k("div",bn,[a(I,null,{default:s(()=>[a($,{onCancel:v,onSubmit:y})]),_:1})])):D("",!0)]),_:1}),t(e).anketa.value.investigations&&t(e).anketa.value.investigations.length?(u(),k("div",yn,[(u(!0),k(E,null,L(t(e).anketa.value.investigations,(q,M)=>(u(),k("div",{key:M,class:"text-sm text-gray-500 dark:text-gray-400 py-1"},[a(I,null,{header:s(()=>[A("div",gn,S("Расследование/проверка ID #"+q.id),1)]),footer:s(()=>[j(a(m,{onUpdate:T=>{w.value=t(e).anketa.value.investigations[M],_.value=t(e).anketa.value.investigations[M].id.toString(),c.value=!0},onDelete:T=>g(t(e).anketa.value.investigations[M].id),onUpload:b[1]||(b[1]=T=>f("investigation-file"))},null,8,["onUpdate","onDelete"]),[[P,t(i)]]),j(A("div",null,[a(x,{id:"investigation-file",type:"file",accept:"*",multiple:"",onChange:b[2]||(b[2]=T=>t(e).submitFile(T,"investigations",t(e).share.value.candId))})],512),[[P,!1]])]),default:s(()=>[t(c)&&t(_)==t(e).anketa.value.investigations[M].id.toString()?(u(),z($,{key:0,investigation:t(w),onCancel:v,onSubmit:y},null,8,["investigation"])):(u(),k("div",kn,[a(F,{label:"Тема проверки"},{default:s(()=>[U(S(t(e).anketa.value.investigations[M].theme),1)]),_:2},1024),a(F,{label:"Информация"},{default:s(()=>[U(S(t(e).anketa.value.investigations[M].info),1)]),_:2},1024),a(F,{label:"Сотрудник"},{default:s(()=>[U(S(t(e).anketa.value.investigations[M].username),1)]),_:2},1024),a(F,{label:"Дата записи"},{default:s(()=>[U(S(new Date(t(e).anketa.value.investigations[M].created+" UTC").toLocaleString("ru-RU")),1)]),_:2},1024)]))]),_:2},1024)]))),128))])):(u(),k("div",hn,Sn))],64)}}}),$n=O({__name:"InquiryForm",props:{inquiry:{type:Object,default:{}}},emits:["cancel","submit"],setup(o,{emit:l}){const r=l,i=B(o.inquiry);function n(){r("submit",i.value),_()}function c(){r("cancel"),_()}function _(){Object.assign(i.value,{info:"",origins:"",initiator:""})}return(w,p)=>{const y=me,g=Z,v=N,d=ee,f=ae;return u(),z(f,{state:i.value,onSubmit:K(n,["prevent"])},{default:s(()=>[a(g,{class:"mb-3",label:"Информация"},{default:s(()=>[a(y,{modelValue:i.value.info,"onUpdate:modelValue":p[0]||(p[0]=h=>i.value.info=h),modelModifiers:{trim:!0,lazy:!0},required:"",placeholder:"Информация"},null,8,["modelValue"])]),_:1}),a(g,{class:"mb-3",label:"Инициатор"},{default:s(()=>[a(v,{modelValue:i.value.initiator,"onUpdate:modelValue":p[1]||(p[1]=h=>i.value.initiator=h),modelModifiers:{trim:!0,lazy:!0},required:"",placeholder:"Инициатор"},null,8,["modelValue"])]),_:1}),a(g,{class:"mb-3",label:"Источники"},{default:s(()=>[a(v,{modelValue:i.value.origins,"onUpdate:modelValue":p[2]||(p[2]=h=>i.value.origins=h),modelModifiers:{trim:!0,lazy:!0},placeholder:"Источники"},null,8,["modelValue"])]),_:1}),a(d,{onCancel:c})]),_:1},8,["state"])}}}),Un={key:0,class:"py-3"},Vn={key:1},In={class:"tex-base text-red-800 font-medium"},Cn={key:1},Fn={key:2,class:"p-3"},zn=A("p",{class:"text-red-800"},"Запросы о сотруднике не поступали",-1),Dn=[zn],ao=O({__name:"InquiryTab",async setup(o){let l,r;const e=W(),i=R("editState"),n=C(!1),c=C(!1),_=C(""),w=C({}),{refresh:p}=([l,r]=J(async()=>te("inquiries",async()=>{await e.getItem("inquiries")})),l=await l,r(),l);async function y(h){Promise.all([await e.updateItem("inquiries",h),await p()]),d()}async function g(h){d(),Promise.all([await e.deleteItem(h,"inquiries"),await p()])}async function v(){await p(),d()}function d(){c.value=!1,_.value="",n.value=!1}function f(h){var b;(b=document.getElementById(h))==null||b.click()}return(h,b)=>{const V=X,$=$n,I=G,F=Q,m=Y,x=N;return u(),k(E,null,[t(i)?(u(),z(V,{key:0,class:"py-3",label:t(n)?"Скрыть форму":"Добавить запись",variant:"link",onClick:b[0]||(b[0]=q=>n.value=!t(n))},null,8,["label"])):D("",!0),a(H,{name:"slide-fade"},{default:s(()=>[t(n)?(u(),k("div",Un,[a(I,null,{default:s(()=>[a($,{onCancel:v,onSubmit:y})]),_:1})])):D("",!0)]),_:1}),t(e).anketa.value.inquiries&&t(e).anketa.value.inquiries.length?(u(),k("div",Vn,[(u(!0),k(E,null,L(t(e).anketa.value.inquiries,(q,M)=>(u(),k("div",{key:M,class:"text-sm text-gray-500 dark:text-gray-400 py-1"},[a(I,null,{header:s(()=>[A("div",In,S("Запрос о сотруднике ID #"+q.id),1)]),footer:s(()=>[j(a(m,{onDelete:T=>g(t(e).anketa.value.inquiries[M].id),onUpdate:T=>{w.value=t(e).anketa.value.inquiries[M],_.value=t(e).anketa.value.inquiries[M].id.toString(),c.value=!0},onUpload:b[1]||(b[1]=T=>f("inquiry-file"))},null,8,["onDelete","onUpdate"]),[[P,t(i)]]),j(A("div",null,[a(x,{id:"inquiry-file",type:"file",accept:"*",multiple:"",onChange:b[2]||(b[2]=T=>t(e).submitFile(T,"inquiries",t(e).share.value.candId))})],512),[[P,!1]])]),default:s(()=>[t(c)&&t(_)==t(e).anketa.value.inquiries[M].id.toString()?(u(),z($,{key:0,inquiry:t(w),onCancel:v,onSubmit:y},null,8,["inquiry"])):(u(),k("div",Cn,[a(F,{label:"Информация"},{default:s(()=>[U(S(t(e).anketa.value.inquiries[M].info),1)]),_:2},1024),a(F,{label:"Иннициатор"},{default:s(()=>[U(S(t(e).anketa.value.inquiries[M].initiator),1)]),_:2},1024),a(F,{label:"Источники"},{default:s(()=>[U(S(t(e).anketa.value.inquiries[M].origins),1)]),_:2},1024),a(F,{label:"Сотрудник"},{default:s(()=>[U(S(t(e).anketa.value.inquiries[M].username),1)]),_:2},1024),a(F,{label:"Дата записи"},{default:s(()=>[U(S(new Date(t(e).anketa.value.inquiries[M].created+" UTC").toLocaleString("ru-RU")),1)]),_:2},1024)]))]),_:2},1024)]))),128))])):(u(),k("div",Fn,Dn))],64)}}});export{Rn as _,Gn as a,Wn as b,Tn as c,Hn as d,Jn as e,Kn as f,Xn as g,Qn as h,Yn as i,Ln as j,Zn as k,eo as l,to as m,ao as n};
