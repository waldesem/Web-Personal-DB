import{u as X,a as Z}from"./BxRuhaE2.js";import{_ as ee}from"./Ck1huEKZ.js";import{m as N,ab as ae,h as _,_ as O,d as V,q,t as C,r as Y,L as te,Y as H,a2 as le,a8 as oe,s as A,v as T,x as G,o as f,c as $,f as D,C as R,y as h,A as M,ac as ne,z as k,g as i,b as o,l as se,u as re,e as r,H as ue,ad as E,B as F,F as de,G as ie,V as me}from"./DWkXyvYO.js";import{_ as pe}from"./C05_pIlN.js";import{_ as ce}from"./CW3WTNyl.js";const fe={base:"",background:"bg-white dark:bg-gray-900",divide:"divide-y divide-gray-200 dark:divide-gray-800",ring:"ring-1 ring-gray-200 dark:ring-gray-800",rounded:"rounded-lg",shadow:"shadow",body:{base:"",background:"",padding:"px-4 py-5 sm:p-6"},header:{base:"",background:"",padding:"px-4 py-5 sm:px-6"},footer:{base:"",background:"",padding:"px-4 py-4 sm:px-6"}},be={base:"animate-pulse",background:"bg-gray-100 dark:bg-gray-800",rounded:"rounded-md"},v=N(_.ui.strategy,_.ui.textarea,ae),ye=V({inheritAttrs:!1,props:{modelValue:{type:[String,Number],default:""},id:{type:String,default:null},name:{type:String,default:null},placeholder:{type:String,default:null},required:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},rows:{type:Number,default:3},maxrows:{type:Number,default:0},autoresize:{type:Boolean,default:!1},autofocus:{type:Boolean,default:!1},autofocusDelay:{type:Number,default:100},resize:{type:Boolean,default:!1},padded:{type:Boolean,default:!0},size:{type:String,default:null,validator(e){return Object.keys(v.size).includes(e)}},color:{type:String,default:()=>v.default.color,validator(e){return[..._.ui.colors,...Object.keys(v.color)].includes(e)}},variant:{type:String,default:()=>v.default.variant,validator(e){return[...Object.keys(v.variant),...Object.values(v.color).flatMap(l=>Object.keys(l))].includes(e)}},textareaClass:{type:String,default:null},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})},modelModifiers:{type:Object,default:()=>({})}},emits:["update:modelValue","blur","change"],setup(e,{emit:l}){const{ui:n,attrs:b}=q("textarea",C(e,"ui"),v,C(e,"class")),{emitFormBlur:a,emitFormInput:y,inputId:p,color:w,size:B,name:m}=X(e,v),t=Y(te({},e.modelModifiers,{trim:!1,lazy:!1,number:!1})),u=Y(null),c=()=>{var d;e.autofocus&&((d=u.value)==null||d.focus())},z=()=>{if(e.autoresize){if(!u.value)return;u.value.rows=e.rows;const d=u.value.style.overflow;u.value.style.overflow="hidden";const g=window.getComputedStyle(u.value),U=parseInt(g.paddingTop),P=parseInt(g.paddingBottom),K=U+P,Q=parseInt(g.lineHeight),{scrollHeight:W}=u.value,I=(W-K)/Q;I>e.rows&&(u.value.rows=e.maxrows?Math.min(I,e.maxrows):I),u.value.style.overflow=d}},S=d=>{t.value.trim&&(d=d.trim()),t.value.number&&(d=ne(d)),l("update:modelValue",d),y()},j=d=>{z(),t.value.lazy||S(d.target.value)},s=d=>{const g=d.target.value;l("change",g),t.value.lazy&&S(g),t.value.trim&&(d.target.value=g.trim())},L=d=>{l("blur",d),a()};H(()=>{setTimeout(()=>{c()},e.autofocusDelay)}),le(()=>e.modelValue,()=>{oe(z)}),H(()=>{setTimeout(()=>{c(),z()},100)});const J=A(()=>{var g,U;const d=((U=(g=n.value.color)==null?void 0:g[w.value])==null?void 0:U[e.variant])||n.value.variant[e.variant];return T(G(n.value.base,n.value.form,n.value.rounded,n.value.placeholder,n.value.size[B.value],e.padded?n.value.padding[B.value]:"p-0",d==null?void 0:d.replaceAll("{color}",w.value),!e.resize&&"resize-none"),e.textareaClass)});return{ui:n,attrs:b,name:m,inputId:p,textarea:u,textareaClass:J,onInput:j,onChange:s,onBlur:L}}}),ge=["id","value","name","rows","required","disabled","placeholder"];function ve(e,l,n,b,a,y){return f(),$("div",{class:M(e.ui.wrapper)},[D("textarea",R({id:e.inputId,ref:"textarea",value:e.modelValue,name:e.name,rows:e.rows,required:e.required,disabled:e.disabled,placeholder:e.placeholder,class:e.textareaClass},e.attrs,{onInput:l[0]||(l[0]=(...p)=>e.onInput&&e.onInput(...p)),onBlur:l[1]||(l[1]=(...p)=>e.onBlur&&e.onBlur(...p)),onChange:l[2]||(l[2]=(...p)=>e.onChange&&e.onChange(...p))}),null,16,ge),h(e.$slots,"default")],2)}const he=O(ye,[["render",ve]]),_e=V({__name:"BtnGroup",emits:["cancel"],setup(e,{emit:l}){const n=l;return(b,a)=>{const y=se,p=pe;return f(),k(p,{class:"mt-3",size:"md",orientation:"horizontal"},{default:i(()=>[o(y,{label:"Принять",color:"green",variant:"outline",type:"submit"}),o(y,{label:"Отмена",color:"red",variant:"outline",onClick:a[0]||(a[0]=w=>n("cancel"))})]),_:1})}}}),qe=V({__name:"ResumeForm",props:{resume:{type:Object,default:{}}},emits:["cancel","update"],setup(e,{emit:l}){const n=l,a=C(e.resume);a.value.birthday=a.value.birthday?re(a.value.birthday,"YYYY-MM-DD").value:"";function y(){n("cancel"),p()}function p(){Object.assign(a.value,{surname:"",firstname:"",patronymic:"",birthday:"",birthplace:"",citizenship:"",dual:"",inn:"",snils:"",marital:"",addition:""})}const w=m=>{const t=[];return m.surname&&!m.surname.match(/^[а-яёЁА-Я-\s]+$/)&&t.push({path:"surname",message:"Поле должно содержать только русские буквы"}),m.firstname&&!m.firstname.match(/^[а-яёЁА-Я-\s]+$/)&&t.push({path:"firstname",message:"Поле должно содержать только русские буквы"}),m.patronymic&&!m.patronymic.match(/^[а-яёЁА-Я-\s]+$/)&&t.push({path:"patronymic",message:"Поле должно содержать только русские буквы"}),Object.prototype.toString.call(m.birthday)||(console.log(m.birthday),t.push({path:"birthday",message:"Поле должно содержать дату"})),new Date(m.birthday)>new Date&&(console.log(m.birthday),t.push({path:"birthday",message:"Поле должно содержать корректную дату"})),m.snils&&!m.snils.match(/^[0-9]{11}$/)&&t.push({path:"snils",message:"Поле должно содержать 11 цифр"}),m.inn&&!m.inn.match(/^[0-9]{12}$/)&&t.push({path:"inn",message:"Поле должно содержать 12 цифр"}),t};async function B(){n("update",a.value),p()}return(m,t)=>{const u=Z,c=ee,z=he,S=_e,j=ce;return f(),k(j,{state:r(a),validate:w,onSubmit:ue(B,["prevent"])},{default:i(()=>[o(c,{class:"mb-3",label:"Фамилия",name:"surname"},{default:i(()=>[o(u,{modelValue:r(a).surname,"onUpdate:modelValue":t[0]||(t[0]=s=>r(a).surname=s),modelModifiers:{trim:!0},required:"",placeholder:"Фамилия"},null,8,["modelValue"])]),_:1}),o(c,{class:"mb-3",label:"Имя",name:"firstname"},{default:i(()=>[o(u,{modelValue:r(a).firstname,"onUpdate:modelValue":t[1]||(t[1]=s=>r(a).firstname=s),modelModifiers:{trim:!0},required:"",placeholder:"Имя"},null,8,["modelValue"])]),_:1}),o(c,{class:"mb-3",label:"Отчество",name:"patronymic"},{default:i(()=>[o(u,{modelValue:r(a).patronymic,"onUpdate:modelValue":t[2]||(t[2]=s=>r(a).patronymic=s),modelModifiers:{trim:!0},placeholder:"Отчество"},null,8,["modelValue"])]),_:1}),o(c,{class:"mb-3",label:"Дата рождения",name:"birthday"},{default:i(()=>[o(u,{modelValue:r(a).birthday,"onUpdate:modelValue":t[3]||(t[3]=s=>r(a).birthday=s),required:"",type:"date"},null,8,["modelValue"])]),_:1}),o(c,{class:"mb-3",label:"Место рождения"},{default:i(()=>[o(u,{modelValue:r(a).birthplace,"onUpdate:modelValue":t[4]||(t[4]=s=>r(a).birthplace=s),modelModifiers:{trim:!0,lazy:!0},placeholder:"Место рождения"},null,8,["modelValue"])]),_:1}),o(c,{class:"mb-3",label:"Гражданство",name:"citizenship"},{default:i(()=>[o(u,{modelValue:r(a).citizenship,"onUpdate:modelValue":t[5]||(t[5]=s=>r(a).citizenship=s),modelModifiers:{trim:!0},placeholder:"Гражданство"},null,8,["modelValue"])]),_:1}),o(c,{class:"mb-3",label:"Двойное гражданство",name:"dual"},{default:i(()=>[o(u,{modelValue:r(a).dual,"onUpdate:modelValue":t[6]||(t[6]=s=>r(a).dual=s),modelModifiers:{trim:!0},placeholder:"Двойное гражданство"},null,8,["modelValue"])]),_:1}),o(c,{class:"mb-3",label:"СНИЛС",name:"snils"},{default:i(()=>[o(u,{modelValue:r(a).snils,"onUpdate:modelValue":t[7]||(t[7]=s=>r(a).snils=s),modelModifiers:{trim:!0,lazy:!0},placeholder:"СНИЛС"},null,8,["modelValue"])]),_:1}),o(c,{class:"mb-3",label:"ИНН",name:"inn"},{default:i(()=>[o(u,{modelValue:r(a).inn,"onUpdate:modelValue":t[8]||(t[8]=s=>r(a).inn=s),modelModifiers:{trim:!0,lazy:!0},placeholder:"ИНН"},null,8,["modelValue"])]),_:1}),o(c,{class:"mb-3",label:"Семейное положение",name:"marital"},{default:i(()=>[o(u,{modelValue:r(a).marital,"onUpdate:modelValue":t[9]||(t[9]=s=>r(a).marital=s),modelModifiers:{trim:!0,lazy:!0},placeholder:"Семейное положение"},null,8,["modelValue"])]),_:1}),o(c,{class:"mb-3",label:"Дополнительно"},{default:i(()=>[o(z,{modelValue:r(a).addition,"onUpdate:modelValue":t[10]||(t[10]=s=>r(a).addition=s),modelModifiers:{trim:!0,lazy:!0},placeholder:"Дополнительно"},null,8,["modelValue"])]),_:1}),o(S,{onCancel:y})]),_:1},8,["state"])}}}),$e=N(_.ui.strategy,_.ui.skeleton,be),Ve=V({inheritAttrs:!1,props:{as:{type:String,default:"div"},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},setup(e){const{ui:l,attrs:n}=q("skeleton",C(e,"ui"),$e),b=A(()=>T(G(l.value.base,l.value.background,l.value.rounded),e.class));return{ui:l,attrs:n,skeletonClass:b}}});function ke(e,l,n,b,a,y){return f(),k(E(e.as),R({class:e.skeletonClass},e.attrs),null,16,["class"])}const we=O(Ve,[["render",ke]]),ze=N(_.ui.strategy,_.ui.card,fe),Ce=V({inheritAttrs:!1,props:{as:{type:String,default:"div"},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},setup(e){const{ui:l,attrs:n}=q("card",C(e,"ui"),ze),b=A(()=>T(G(l.value.base,l.value.rounded,l.value.divide,l.value.ring,l.value.shadow,l.value.background),e.class));return{ui:l,attrs:n,cardClass:b}}});function Be(e,l,n,b,a,y){return f(),k(E(e.$attrs.onSubmit?"form":e.as),R({class:e.cardClass},e.attrs),{default:i(()=>[e.$slots.header?(f(),$("div",{key:0,class:M([e.ui.header.base,e.ui.header.padding,e.ui.header.background])},[h(e.$slots,"header")],2)):F("",!0),e.$slots.default?(f(),$("div",{key:1,class:M([e.ui.body.base,e.ui.body.padding,e.ui.body.background])},[h(e.$slots,"default")],2)):F("",!0),e.$slots.footer?(f(),$("div",{key:2,class:M([e.ui.footer.base,e.ui.footer.padding,e.ui.footer.background])},[h(e.$slots,"footer")],2)):F("",!0)]),_:3},16,["class"])}const x=O(Ce,[["render",Be]]),Se={class:"col-span-1"},Ue={class:"col-span-5"},Ae=V({__name:"SkeletonDiv",props:{rows:{type:Number,default:3}},setup(e){const l=e;return(n,b)=>{const a=we,y=x;return f(),k(y,null,{default:i(()=>[(f(!0),$(de,null,ie(l.rows,p=>(f(),$("div",{key:p,class:"flex grid grid-cols-6 gap-3 mb-3"},[D("div",Se,[o(a,{class:"h-4"})]),D("div",Ue,[o(a,{class:"h-4 w-[300px]"})])]))),128))]),_:1})}}}),Me={};function Oe(e,l){const n=x;return f(),k(n,{ui:{body:{padding:"px-4 py-5 sm:p-4"},header:{padding:"px-4 py-5 sm:p-4"},footer:{padding:"px-4 py-4 sm:p-1"}}},me({default:i(()=>[h(e.$slots,"default")]),_:2},[e.$slots.header?{name:"header",fn:i(()=>[h(e.$slots,"header")]),key:"0"}:void 0,e.$slots.footer?{name:"footer",fn:i(()=>[h(e.$slots,"footer")]),key:"1"}:void 0]),1024)}const Te=O(Me,[["render",Oe]]);export{qe as _,Ae as a,Te as b,_e as c,he as d,we as e};
