import{_ as Ce,b as Pe,a as Ae}from"./D0Q5Al_0.js";import{_ as Re}from"./9k-p8oBl.js";import{r as $,M as _e,f as E,v as C,J as Oe,K as ke,L as Fe,X as H,N as Ne,m as re,j as B,_ as se,q as ue,s as K,x as we,y as ie,o as w,c as A,z as q,d as z,t as R,C as L,at as Ue,k as Ie,l as Me,a4 as Ee,P as pe,au as je,T as Y,h as U,w as b,b as _,A as P,a as D,Y as ze,V as Se,B as V,F as ne,D as ae,ae as Be,e as xe,R as Le,I as Ve,g as He,i as y,E as me,p as Ke}from"./BL57t9pv.js";import{_ as qe}from"./Yo-9r0Kq.js";import{o as x,u as Je,A as ee,i as de,s as Ze,N as fe,a as S,d as We,c as Qe}from"./BNoJJA1K.js";import{a as Xe,w as Ye,b as Ge,h as et,t as tt,i as G,l as nt,v as at,N as ve,c as $e,O as lt,_ as ot}from"./Bf7Arzfu.js";import{_ as rt}from"./4EjplHiU.js";import{_ as st}from"./COsqmAdu.js";import{d as ut}from"./Dot1e486.js";import{a as ge}from"./Cthp-bJU.js";import"./HY00hp42.js";const it={wrapper:"relative inline-flex items-center justify-center flex-shrink-0",base:"absolute rounded-full ring-1 ring-white dark:ring-gray-900 flex items-center justify-center text-white dark:text-gray-900 font-medium whitespace-nowrap",background:"bg-{color}-500 dark:bg-{color}-400",position:{"top-right":"top-0 right-0","bottom-right":"bottom-0 right-0","top-left":"top-0 left-0","bottom-left":"bottom-0 left-0"},translate:{"top-right":"-translate-y-1/2 translate-x-1/2 transform","bottom-right":"translate-y-1/2 translate-x-1/2 transform","top-left":"-translate-y-1/2 -translate-x-1/2 transform","bottom-left":"translate-y-1/2 -translate-x-1/2 transform"},size:{"3xs":"h-[4px] min-w-[4px] text-[4px] p-px","2xs":"h-[5px] min-w-[5px] text-[5px] p-px",xs:"h-1.5 min-w-[0.375rem] text-[6px] p-px",sm:"h-2 min-w-[0.5rem] text-[7px] p-0.5",md:"h-2.5 min-w-[0.625rem] text-[8px] p-0.5",lg:"h-3 min-w-[0.75rem] text-[10px] p-0.5",xl:"h-3.5 min-w-[0.875rem] text-[11px] p-1","2xl":"h-4 min-w-[1rem] text-[12px] p-1","3xl":"h-5 min-w-[1.25rem] text-[14px] p-1"},default:{size:"sm",color:"primary",position:"top-right",inset:!1}},dt={base:"inline-flex items-center justify-center text-gray-900 dark:text-white",padding:"px-1",size:{xs:"h-4 min-w-[16px] text-[10px]",sm:"h-5 min-w-[20px] text-[11px]",md:"h-6 min-w-[24px] text-[12px]"},rounded:"rounded",font:"font-medium font-sans",background:"bg-gray-100 dark:bg-gray-800",ring:"ring-1 ring-gray-300 dark:ring-gray-700 ring-inset",default:{size:"sm"}};function be(e){return[e.screenX,e.screenY]}function ct(){let e=$([-1,-1]);return{wasMoved(l){let r=be(l);return e.value[0]===r[0]&&e.value[1]===r[1]?!1:(e.value=r,!0)},update(l){e.value=be(l)}}}function pt({container:e,accept:l,walk:r,enabled:d}){_e(()=>{let p=e.value;if(!p||d!==void 0&&!d.value)return;let t=Xe(e);if(!t)return;let n=Object.assign(m=>l(m),{acceptNode:l}),u=t.createTreeWalker(p,NodeFilter.SHOW_ELEMENT,n,!1);for(;u.nextNode();)r(u.currentNode)})}function mt(e){throw new Error("Unexpected object: "+e)}var T=(e=>(e[e.First=0]="First",e[e.Previous=1]="Previous",e[e.Next=2]="Next",e[e.Last=3]="Last",e[e.Specific=4]="Specific",e[e.Nothing=5]="Nothing",e))(T||{});function ft(e,l){let r=l.resolveItems();if(r.length<=0)return null;let d=l.resolveActiveIndex(),p=d??-1;switch(e.focus){case 0:{for(let t=0;t<r.length;++t)if(!l.resolveDisabled(r[t],t,r))return t;return d}case 1:{p===-1&&(p=r.length);for(let t=p-1;t>=0;--t)if(!l.resolveDisabled(r[t],t,r))return t;return d}case 2:{for(let t=p+1;t<r.length;++t)if(!l.resolveDisabled(r[t],t,r))return t;return d}case 3:{for(let t=r.length-1;t>=0;--t)if(!l.resolveDisabled(r[t],t,r))return t;return d}case 4:{for(let t=0;t<r.length;++t)if(l.resolveId(r[t],t,r)===e.id)return t;return d}case 5:return null;default:mt(e)}}let he=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function ye(e){var l,r;let d=(l=e.innerText)!=null?l:"",p=e.cloneNode(!0);if(!(p instanceof HTMLElement))return d;let t=!1;for(let u of p.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))u.remove(),t=!0;let n=t?(r=p.innerText)!=null?r:"":d;return he.test(n)&&(n=n.replace(he,"")),n}function vt(e){let l=e.getAttribute("aria-label");if(typeof l=="string")return l.trim();let r=e.getAttribute("aria-labelledby");if(r){let d=r.split(" ").map(p=>{let t=document.getElementById(p);if(t){let n=t.getAttribute("aria-label");return typeof n=="string"?n.trim():ye(t).trim()}return null}).filter(Boolean);if(d.length>0)return d.join(", ")}return ye(e).trim()}function gt(e){let l=$(""),r=$("");return()=>{let d=x(e);if(!d)return"";let p=d.innerText;if(l.value===p)return r.value;let t=vt(d).trim().toLowerCase();return l.value=p,r.value=t,t}}var bt=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(bt||{}),ht=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(ht||{});function yt(e){requestAnimationFrame(()=>requestAnimationFrame(e))}let De=Symbol("MenuContext");function te(e){let l=Ne(De,null);if(l===null){let r=new Error(`<${e} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,te),r}return l}let _t=E({name:"Menu",props:{as:{type:[Object,String],default:"template"}},setup(e,{slots:l,attrs:r}){let d=$(1),p=$(null),t=$(null),n=$([]),u=$(""),m=$(null),k=$(1);function M(a=i=>i){let i=m.value!==null?n.value[m.value]:null,o=lt(a(n.value.slice()),c=>x(c.dataRef.domRef)),v=i?o.indexOf(i):null;return v===-1&&(v=null),{items:o,activeItemIndex:v}}let g={menuState:d,buttonRef:p,itemsRef:t,items:n,searchQuery:u,activeItemIndex:m,activationTrigger:k,closeMenu:()=>{d.value=1,m.value=null},openMenu:()=>d.value=0,goToItem(a,i,o){let v=M(),c=ft(a===T.Specific?{focus:T.Specific,id:i}:{focus:a},{resolveItems:()=>v.items,resolveActiveIndex:()=>v.activeItemIndex,resolveId:s=>s.id,resolveDisabled:s=>s.dataRef.disabled});u.value="",m.value=c,k.value=o??1,n.value=v.items},search(a){let i=u.value!==""?0:1;u.value+=a.toLowerCase();let o=(m.value!==null?n.value.slice(m.value+i).concat(n.value.slice(0,m.value+i)):n.value).find(c=>c.dataRef.textValue.startsWith(u.value)&&!c.dataRef.disabled),v=o?n.value.indexOf(o):-1;v===-1||v===m.value||(m.value=v,k.value=1)},clearSearch(){u.value=""},registerItem(a,i){let o=M(v=>[...v,{id:a,dataRef:i}]);n.value=o.items,m.value=o.activeItemIndex,k.value=1},unregisterItem(a){let i=M(o=>{let v=o.findIndex(c=>c.id===a);return v!==-1&&o.splice(v,1),o});n.value=i.items,m.value=i.activeItemIndex,k.value=1}};return Ye([p,t],(a,i)=>{var o;g.closeMenu(),Ge(i,et.Loose)||(a.preventDefault(),(o=x(p))==null||o.focus())},C(()=>d.value===0)),Oe(De,g),tt(C(()=>Je(d.value,{0:G.Open,1:G.Closed}))),()=>{let a={open:d.value===0,close:g.closeMenu};return ee({ourProps:{},theirProps:e,slot:a,slots:l,attrs:r,name:"Menu"})}}}),kt=E({name:"MenuButton",props:{disabled:{type:Boolean,default:!1},as:{type:[Object,String],default:"button"},id:{type:String,default:null}},setup(e,{attrs:l,slots:r,expose:d}){var p;let t=(p=e.id)!=null?p:`headlessui-menu-button-${de()}`,n=te("MenuButton");d({el:n.buttonRef,$el:n.buttonRef});function u(g){switch(g.key){case S.Space:case S.Enter:case S.ArrowDown:g.preventDefault(),g.stopPropagation(),n.openMenu(),H(()=>{var a;(a=x(n.itemsRef))==null||a.focus({preventScroll:!0}),n.goToItem(T.First)});break;case S.ArrowUp:g.preventDefault(),g.stopPropagation(),n.openMenu(),H(()=>{var a;(a=x(n.itemsRef))==null||a.focus({preventScroll:!0}),n.goToItem(T.Last)});break}}function m(g){switch(g.key){case S.Space:g.preventDefault();break}}function k(g){e.disabled||(n.menuState.value===0?(n.closeMenu(),H(()=>{var a;return(a=x(n.buttonRef))==null?void 0:a.focus({preventScroll:!0})})):(g.preventDefault(),n.openMenu(),yt(()=>{var a;return(a=x(n.itemsRef))==null?void 0:a.focus({preventScroll:!0})})))}let M=Ze(C(()=>({as:e.as,type:l.type})),n.buttonRef);return()=>{var g;let a={open:n.menuState.value===0},{...i}=e,o={ref:n.buttonRef,id:t,type:M.value,"aria-haspopup":"menu","aria-controls":(g=x(n.itemsRef))==null?void 0:g.id,"aria-expanded":n.menuState.value===0,onKeydown:u,onKeyup:m,onClick:k};return ee({ourProps:o,theirProps:i,slot:a,attrs:l,slots:r,name:"MenuButton"})}}}),wt=E({name:"MenuItems",props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},id:{type:String,default:null}},setup(e,{attrs:l,slots:r,expose:d}){var p;let t=(p=e.id)!=null?p:`headlessui-menu-items-${de()}`,n=te("MenuItems"),u=$(null);d({el:n.itemsRef,$el:n.itemsRef}),pt({container:C(()=>x(n.itemsRef)),enabled:C(()=>n.menuState.value===0),accept(a){return a.getAttribute("role")==="menuitem"?NodeFilter.FILTER_REJECT:a.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(a){a.setAttribute("role","none")}});function m(a){var i;switch(u.value&&clearTimeout(u.value),a.key){case S.Space:if(n.searchQuery.value!=="")return a.preventDefault(),a.stopPropagation(),n.search(a.key);case S.Enter:if(a.preventDefault(),a.stopPropagation(),n.activeItemIndex.value!==null){let o=n.items.value[n.activeItemIndex.value];(i=x(o.dataRef.domRef))==null||i.click()}n.closeMenu(),$e(x(n.buttonRef));break;case S.ArrowDown:return a.preventDefault(),a.stopPropagation(),n.goToItem(T.Next);case S.ArrowUp:return a.preventDefault(),a.stopPropagation(),n.goToItem(T.Previous);case S.Home:case S.PageUp:return a.preventDefault(),a.stopPropagation(),n.goToItem(T.First);case S.End:case S.PageDown:return a.preventDefault(),a.stopPropagation(),n.goToItem(T.Last);case S.Escape:a.preventDefault(),a.stopPropagation(),n.closeMenu(),H(()=>{var o;return(o=x(n.buttonRef))==null?void 0:o.focus({preventScroll:!0})});break;case S.Tab:a.preventDefault(),a.stopPropagation(),n.closeMenu(),H(()=>at(x(n.buttonRef),a.shiftKey?ve.Previous:ve.Next));break;default:a.key.length===1&&(n.search(a.key),u.value=setTimeout(()=>n.clearSearch(),350));break}}function k(a){switch(a.key){case S.Space:a.preventDefault();break}}let M=nt(),g=C(()=>M!==null?(M.value&G.Open)===G.Open:n.menuState.value===0);return()=>{var a,i;let o={open:n.menuState.value===0},{...v}=e,c={"aria-activedescendant":n.activeItemIndex.value===null||(a=n.items.value[n.activeItemIndex.value])==null?void 0:a.id,"aria-labelledby":(i=x(n.buttonRef))==null?void 0:i.id,id:t,onKeydown:m,onKeyup:k,role:"menu",tabIndex:0,ref:n.itemsRef};return ee({ourProps:c,theirProps:v,slot:o,attrs:l,slots:r,features:fe.RenderStrategy|fe.Static,visible:g.value,name:"MenuItems"})}}}),It=E({name:"MenuItem",inheritAttrs:!1,props:{as:{type:[Object,String],default:"template"},disabled:{type:Boolean,default:!1},id:{type:String,default:null}},setup(e,{slots:l,attrs:r,expose:d}){var p;let t=(p=e.id)!=null?p:`headlessui-menu-item-${de()}`,n=te("MenuItem"),u=$(null);d({el:u,$el:u});let m=C(()=>n.activeItemIndex.value!==null?n.items.value[n.activeItemIndex.value].id===t:!1),k=gt(u),M=C(()=>({disabled:e.disabled,get textValue(){return k()},domRef:u}));ke(()=>n.registerItem(t,M)),Fe(()=>n.unregisterItem(t)),_e(()=>{n.menuState.value===0&&m.value&&n.activationTrigger.value!==0&&H(()=>{var s,h;return(h=(s=x(u))==null?void 0:s.scrollIntoView)==null?void 0:h.call(s,{block:"nearest"})})});function g(s){if(e.disabled)return s.preventDefault();n.closeMenu(),$e(x(n.buttonRef))}function a(){if(e.disabled)return n.goToItem(T.Nothing);n.goToItem(T.Specific,t)}let i=ct();function o(s){i.update(s)}function v(s){i.wasMoved(s)&&(e.disabled||m.value||n.goToItem(T.Specific,t,0))}function c(s){i.wasMoved(s)&&(e.disabled||m.value&&n.goToItem(T.Nothing))}return()=>{let{disabled:s,...h}=e,I={active:m.value,disabled:s,close:n.closeMenu};return ee({ourProps:{id:t,ref:u,role:"menuitem",tabIndex:s===!0?void 0:-1,"aria-disabled":s===!0?!0:void 0,onClick:g,onFocus:a,onPointerenter:o,onMouseenter:o,onPointermove:v,onMousemove:v,onPointerleave:c,onMouseleave:c},theirProps:{...r,...h},slot:I,attrs:r,slots:l,name:"MenuItem"})}}});const le=re(B.ui.strategy,B.ui.kbd,dt),Mt=E({inheritAttrs:!1,props:{value:{type:String,default:null},size:{type:String,default:()=>le.default.size,validator(e){return Object.keys(le.size).includes(e)}},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},setup(e){const{ui:l,attrs:r}=ue("kbd",K(e,"ui"),le),d=C(()=>we(ie(l.value.base,l.value.size[e.size],l.value.padding,l.value.rounded,l.value.font,l.value.background,l.value.ring),e.class));return{ui:l,attrs:r,kbdClass:d}}});function St(e,l,r,d,p,t){return w(),A("kbd",L({class:e.kbdClass},e.attrs),[q(e.$slots,"default",{},()=>[z(R(e.value),1)])],16)}const Te=se(Mt,[["render",St]]),oe=re(B.ui.strategy,B.ui.dropdown,Ue),xt=E({components:{HMenu:_t,HMenuButton:kt,HMenuItems:wt,HMenuItem:It,UIcon:Ie,UAvatar:Me,UKbd:Te},inheritAttrs:!1,props:{items:{type:Array,default:()=>[]},mode:{type:String,default:"click",validator:e=>["click","hover"].includes(e)},open:{type:Boolean,default:void 0},disabled:{type:Boolean,default:!1},popper:{type:Object,default:()=>({})},openDelay:{type:Number,default:()=>oe.default.openDelay},closeDelay:{type:Number,default:()=>oe.default.closeDelay},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},emits:["update:open"],setup(e,{emit:l}){const{ui:r,attrs:d}=ue("dropdown",K(e,"ui"),oe,K(e,"class")),p=C(()=>Ee(e.mode==="hover"?{offsetDistance:0}:{},e.popper,r.value.popper)),[t,n]=We(p.value),u=$(null);let m=null,k=null;ke(()=>{var h,I;const c=(h=t.value)==null?void 0:h.$.provides;if(!c)return;const s=Object.getOwnPropertySymbols(c);u.value=s.length&&c[s[0]],e.open&&((I=u.value)==null||I.openMenu())});const M=C(()=>{var I,O,F;if(e.mode!=="hover")return{};const c=((I=e.popper)==null?void 0:I.offsetDistance)||((O=r.value.popper)==null?void 0:O.offsetDistance)||8,s=(F=p.value.placement)==null?void 0:F.split("-")[0],h=`${c}px`;return s==="top"||s==="bottom"?{paddingTop:h,paddingBottom:h}:s==="left"||s==="right"?{paddingLeft:h,paddingRight:h}:{paddingTop:h,paddingBottom:h,paddingLeft:h,paddingRight:h}});function g(c){!c.cancelable||!u.value||(u.value.menuState===0?u.value.closeMenu():u.value.openMenu())}function a(){e.mode!=="hover"||!u.value||(k&&(clearTimeout(k),k=null),u.value.menuState!==0&&(m=m||setTimeout(()=>{u.value.openMenu&&u.value.openMenu(),m=null},e.openDelay)))}function i(){e.mode!=="hover"||!u.value||(m&&(clearTimeout(m),m=null),u.value.menuState!==1&&(k=k||setTimeout(()=>{u.value.closeMenu&&u.value.closeMenu(),k=null},e.closeDelay)))}function o(c,s,{href:h,navigate:I,close:O,isExternal:F}){s.click&&s.click(c),h&&!F&&(I(c),O())}pe(()=>e.open,(c,s)=>{u.value&&(s===void 0||c===s||(c?u.value.openMenu():u.value.closeMenu()))}),pe(()=>{var c;return(c=u.value)==null?void 0:c.menuState},(c,s)=>{s===void 0||c===s||l("update:open",c===0)});const v=xe;return Qe(()=>Le()),{ui:r,attrs:d,popper:p,trigger:t,container:n,containerStyle:M,onTouchStart:g,onMouseEnter:a,onMouseLeave:i,onClick:o,getNuxtLinkProps:je,twMerge:we,twJoin:ie,NuxtLink:v}}}),$t=["disabled"];function Dt(e,l,r,d,p,t){const n=Y("HMenuButton"),u=Ie,m=Me,k=Te,M=Y("HMenuItem"),g=xe,a=Y("HMenuItems"),i=Y("HMenu");return w(),U(i,L({as:"div",class:e.ui.wrapper},e.attrs,{onMouseleave:e.onMouseLeave}),{default:b(({open:o})=>[_(n,{ref:"trigger",as:"div",disabled:e.disabled,class:P(e.ui.trigger),role:"button",onMouseenter:e.onMouseEnter,onTouchstartPassive:e.onTouchStart},{default:b(()=>[q(e.$slots,"default",{open:o,disabled:e.disabled},()=>[D("button",{disabled:e.disabled}," Open ",8,$t)])]),_:2},1032,["disabled","class","onMouseenter","onTouchstartPassive"]),o&&e.items.length?(w(),A("div",{key:0,ref:"container",class:P([e.ui.container,e.ui.width]),style:ze(e.containerStyle),onMouseenter:l[0]||(l[0]=(...v)=>e.onMouseEnter&&e.onMouseEnter(...v))},[_(Se,L({appear:""},e.ui.transition),{default:b(()=>[D("div",null,[e.popper.arrow?(w(),A("div",{key:0,"data-popper-arrow":"",class:P(Object.values(e.ui.arrow))},null,2)):V("",!0),_(a,{class:P([e.ui.base,e.ui.divide,e.ui.ring,e.ui.rounded,e.ui.shadow,e.ui.background,e.ui.height]),static:""},{default:b(()=>[(w(!0),A(ne,null,ae(e.items,(v,c)=>(w(),A("div",{key:c,class:P(e.ui.padding)},[(w(!0),A(ne,null,ae(v,(s,h)=>(w(),U(g,L({key:h,ref_for:!0},e.getNuxtLinkProps(s),{custom:""}),{default:b(({href:I,target:O,rel:F,navigate:J,isExternal:Z,isActive:W})=>[_(M,{disabled:s.disabled},{default:b(({active:Q,disabled:f,close:N})=>[(w(),U(Be(I?"a":"button"),{href:f?void 0:I,rel:F,target:O,class:P(e.twMerge(e.twJoin(e.ui.item.base,e.ui.item.padding,e.ui.item.size,e.ui.item.rounded,Q||W?e.ui.item.active:e.ui.item.inactive,f&&e.ui.item.disabled),s.class)),onClick:X=>e.onClick(X,s,{href:I,navigate:J,close:N,isExternal:Z})},{default:b(()=>[q(e.$slots,s.slot||"item",{item:s},()=>{var X;return[s.icon?(w(),U(u,{key:0,name:s.icon,class:P(e.twMerge(e.twJoin(e.ui.item.icon.base,Q||W?e.ui.item.icon.active:e.ui.item.icon.inactive),s.iconClass))},null,8,["name","class"])):s.avatar?(w(),U(m,L({key:1,ref_for:!0},{size:e.ui.item.avatar.size,...s.avatar},{class:e.ui.item.avatar.base}),null,16,["class"])):V("",!0),D("span",{class:P(e.twMerge(e.ui.item.label,s.labelClass))},R(s.label),3),(X=s.shortcuts)!=null&&X.length?(w(),A("span",{key:2,class:P(e.ui.item.shortcuts)},[(w(!0),A(ne,null,ae(s.shortcuts,ce=>(w(),U(k,{key:ce},{default:b(()=>[z(R(ce),1)]),_:2},1024))),128))],2)):V("",!0)]})]),_:2},1032,["href","rel","target","class","onClick"]))]),_:2},1032,["disabled"])]),_:2},1040))),128))],2))),128))]),_:3},8,["class"])])]),_:3},16)],38)):V("",!0)]),_:3},16,["class","onMouseleave"])}const Tt=se(xt,[["render",Dt]]),j=re(B.ui.strategy,B.ui.chip,it),Ct=E({inheritAttrs:!1,props:{size:{type:String,default:()=>j.default.size,validator(e){return Object.keys(j.size).includes(e)}},color:{type:String,default:()=>j.default.color,validator(e){return["gray",...B.ui.colors].includes(e)}},position:{type:String,default:()=>j.default.position,validator(e){return Object.keys(j.position).includes(e)}},text:{type:[String,Number],default:null},inset:{type:Boolean,default:()=>j.default.inset},show:{type:Boolean,default:!0},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},setup(e){const{ui:l,attrs:r}=ue("chip",K(e,"ui"),j,K(e,"class")),d=C(()=>ie(l.value.base,l.value.size[e.size],l.value.position[e.position],e.inset?null:l.value.translate[e.position],l.value.background.replaceAll("{color}",e.color)));return{ui:l,attrs:r,chipClass:d}}});function Pt(e,l,r,d,p,t){return w(),A("div",L({class:e.ui.wrapper},e.attrs),[q(e.$slots,"default"),e.show?(w(),A("span",{key:0,class:P(e.chipClass)},[q(e.$slots,"content",{},()=>[z(R(e.text),1)])],2)):V("",!0)],16)}const At=se(Ct,[["render",Pt]]),Rt={class:"my-6"},Ot={class:"flex items-center justify-between mb-4"},Ft={class:"flex grid grid-cols-7 gap-3 border rounded p-3"},Nt={class:"col-span-2"},Ut={class:"col-span-2"},Et={class:"col-span-2"},jt={class:"col-span-1"},zt={class:"text-center"},Bt={class:"text-center"},Lt={class:"text-center"},en=E({__name:"users",async setup(e){let l,r;const d=Ve(),p=ge(),t=$({search:"",userId:"",region:"",role:"",users:[],form:{},collapsed:!1,viewDeleted:!1}),n=C(()=>t.value.users.filter(i=>i.deleted==t.value.viewDeleted));async function u(){const i=ge();t.value.users=await i("/api/users",{params:{search:t.value.search}})}async function m(i,o=t.value.userId){confirm("Подтвердите действие!")&&(await p("/api/users/"+o,{params:{item:i}}),Object.assign(t.value,{userId:"",region:"",role:""}),await u(),d.add({icon:"i-heroicons-check-circle",title:"Информация",description:"Действие успешно выполнено",color:"green"}))}async function k(){await p("/api/users",{method:"POST",body:t.value.form}),t.value.collapsed=!1,Object.assign(t.value.form,{fullname:"",username:""}),await u(),d.add({icon:"i-heroicons-check-circle",title:"Информация",description:"Пользователь успешно добавлен",color:"green"})}const M=i=>{const o=[];return i.fullname&&!i.fullname.match(/^[а-яёЁА-Я-\s]+$/)&&o.push({path:"surname",message:"Поле должно содержать только русские буквы"}),i.username&&!i.username.match(/^[a-zA-Z_\s]+$/)&&o.push({path:"username",message:"Поле должно содержать только латинские буквы и знаки подчеркивания"}),i.email&&!i.email.match(/^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+\.[a-zA-Z0-9-.]+$/)&&o.push({path:"email",message:"Поле должно содержать корректную почту"}),o},g=ut(async()=>{await u()},500),a=[[{label:"Сбросить пароль",click:()=>m("drop")}],[{label:"Заблокировать/разблокировать",click:()=>m("block")}],[{label:"Удалить/восстановить",click:()=>m("delete")}]];return[l,r]=He(()=>u()),await l,r(),(i,o)=>{const v=Ce,c=Pe,s=Re,h=Ke,I=Ae,O=qe,F=Tt,J=rt,Z=At,W=st,Q=ot;return w(),U(Q,null,{default:b(()=>[_(v,{div:"py-1",cls:"text-2xl text-gray-500",header:"ПОЛЬЗОВАТЕЛИ"}),D("div",Rt,[_(c,{modelValue:y(t).search,"onUpdate:modelValue":o[0]||(o[0]=f=>y(t).search=f),size:"lg",placeholder:"Поиск по имени пользователя",onInput:me(y(g),["prevent"])},null,8,["modelValue","onInput"])]),D("div",Ot,[_(s,{modelValue:y(t).viewDeleted,"onUpdate:modelValue":o[1]||(o[1]=f=>y(t).viewDeleted=f),label:"Показать удаленные"},null,8,["modelValue"]),_(h,{variant:"link",label:"Добавить пользователя",onClick:o[2]||(o[2]=f=>y(t).collapsed=!y(t).collapsed)})]),_(Se,{name:"slide-fade"},{default:b(()=>[y(t).collapsed?(w(),U(O,{key:0,state:y(t).form,validate:M,onSubmit:me(k,["prevent"])},{default:b(()=>[D("div",Ft,[D("div",Nt,[_(I,{required:"",class:"mb-3",name:"fullname"},{default:b(()=>[_(c,{modelValue:y(t).form.fullname,"onUpdate:modelValue":o[3]||(o[3]=f=>y(t).form.fullname=f),placeholder:"Имя пользователя"},null,8,["modelValue"])]),_:1})]),D("div",Ut,[_(I,{required:"",class:"mb-3",name:"username"},{default:b(()=>[_(c,{modelValue:y(t).form.username,"onUpdate:modelValue":o[4]||(o[4]=f=>y(t).form.username=f),placeholder:"Логин"},null,8,["modelValue"])]),_:1})]),D("div",Et,[_(I,{required:"",class:"mb-3",name:"email"},{default:b(()=>[_(c,{modelValue:y(t).form.email,"onUpdate:modelValue":o[5]||(o[5]=f=>y(t).form.email=f),placeholder:"Email"},null,8,["modelValue"])]),_:1})]),D("div",jt,[_(h,{block:"",variant:"outline",color:"gray",label:"Создать",type:"submit"})])])]),_:1},8,["state"])):V("",!0)]),_:1}),_(W,{columns:[{key:"id",label:"#"},{key:"fullname",label:"Пользователь"},{key:"username",label:"Логин"},{key:"email",label:"Email"},{key:"region",label:"Регион"},{key:"role",label:"Роль"},{key:"created",label:"Создан"},{key:"attempt",label:"Попытка"},{key:"blocked",label:"Блок"},{key:"pswd_create",label:"Обновлен"},{key:"change_pswd",label:"Изм.пароля"}],rows:y(n)},{"id-data":b(({row:f})=>[z(R(f.id),1)]),"fullname-data":b(({row:f})=>[z(R(f.fullname),1)]),"username-data":b(({row:f})=>[_(F,{items:a},{default:b(()=>[_(h,{variant:"link",label:f.username,onClick:N=>y(t).userId=f.id},null,8,["label","onClick"])]),_:2},1024)]),"region-data":b(({row:f})=>[_(J,{modelValue:y(t).region,"onUpdate:modelValue":o[6]||(o[6]=N=>y(t).region=N),placeholder:f.region,options:["Главный офис","РЦ Юг","РЦ Запад","РЦ Урал","РЦ Восток"],onChange:N=>m(y(t).region,f.id)},null,8,["modelValue","placeholder","onChange"])]),"role-data":b(({row:f})=>[_(J,{modelValue:y(t).role,"onUpdate:modelValue":o[7]||(o[7]=N=>y(t).role=N),placeholder:f.role,options:["admin","user","guest"],onChange:N=>m(y(t).role,f.id)},null,8,["modelValue","placeholder","onChange"])]),"created-data":b(({row:f})=>[z(R(new Date(f.created).toLocaleDateString()),1)]),"attempt-data":b(({row:f})=>[D("div",zt,R(f.attempt),1)]),"blocked-data":b(({row:f})=>[D("div",Bt,[_(Z,{size:"2xl",color:f.blocked?"red":"green"},null,8,["color"])])]),"pswd_create-data":b(({row:f})=>[z(R(new Date(f.pswd_create).toLocaleDateString()),1)]),"change_pswd-data":b(({row:f})=>[D("div",Lt,[_(Z,{size:"2xl",color:f.change_pswd?"red":"green"},null,8,["color"])])]),_:1},8,["rows"])]),_:1})}}});export{en as default};
