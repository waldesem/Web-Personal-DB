import{_ as Ae,a as Ee,b as Ce,c as He,d as xe,e as Le,f as ze,g as Ue,h as Re,i as je,j as Fe,k as Ne,l as Me,m as qe,n as Ve}from"./C7f7TDm9.js";import{i as X,u as F,o as k,A as L,s as he,N as Y,a as S,b as Ge,f as ge,T as Ke,c as ye,_ as We}from"./BNoJJA1K.js";import{f as B,r as T,J as Z,v as $,K as U,L as ie,M as _e,N as K,O as ee,P as te,F as ae,m as ce,j as M,Q as Qe,_ as Ie,k as W,p as pe,q as $e,s as ne,R as ke,S as Je,T as x,o as D,c as z,D as ue,h as H,w as h,b as g,U as be,z as N,C as de,A,V as Xe,d as le,t as G,G as Ye,H as Ze,W as et,X as me,Y as tt,a as j,B as se,Z as at,g as nt,i as _}from"./BL57t9pv.js";import{_ as lt}from"./D0Q5Al_0.js";import{t as st,i as oe,l as ot,O as V,T as J,a as it,P as R,N as C,_ as rt}from"./Bf7Arzfu.js";import{s as ut,a as dt}from"./Cthp-bJU.js";import{u as ct}from"./Bv7hFFh9.js";import"./CIkW37UV.js";import"./A1NmxWM6.js";import"./Yo-9r0Kq.js";import"./4EjplHiU.js";import"./HY00hp42.js";import"./9k-p8oBl.js";const pt={wrapper:"w-full flex flex-col",container:"w-full flex flex-col",item:{base:"",size:"text-sm",color:"text-gray-500 dark:text-gray-400",padding:"pt-1.5 pb-3",icon:"ms-auto transform transition-transform duration-200 flex-shrink-0"},transition:{enterActiveClass:"overflow-hidden transition-[height] duration-200 ease-out",leaveActiveClass:"overflow-hidden transition-[height] duration-200 ease-out"},default:{openIcon:"i-heroicons-chevron-down-20-solid",closeIcon:"",class:"mb-1.5 w-full",variant:"soft",truncate:!0}},ft={wrapper:"relative space-y-2",container:"relative w-full",base:"focus:outline-none",list:{base:"relative",background:"bg-gray-100 dark:bg-gray-800",rounded:"rounded-lg",shadow:"",padding:"p-1",height:"h-10",width:"w-full",marker:{wrapper:"absolute top-[4px] left-[4px] duration-200 ease-out focus:outline-none",base:"w-full h-full",background:"bg-white dark:bg-gray-900",rounded:"rounded-md",shadow:"shadow-sm"},tab:{base:"relative inline-flex items-center justify-center flex-shrink-0 w-full ui-focus-visible:outline-0 ui-focus-visible:ring-2 ui-focus-visible:ring-primary-500 dark:ui-focus-visible:ring-primary-400 ui-not-focus-visible:outline-none focus:outline-none disabled:cursor-not-allowed disabled:opacity-75 transition-colors duration-200 ease-out",background:"",active:"text-gray-900 dark:text-white",inactive:"text-gray-500 dark:text-gray-400",height:"h-8",padding:"px-3",size:"text-sm",font:"font-medium",rounded:"rounded-md",shadow:"",icon:"w-4 h-4 flex-shrink-0 mr-2"}}};function vt(e){typeof queueMicrotask=="function"?queueMicrotask(e):Promise.resolve().then(e).catch(d=>setTimeout(()=>{throw d}))}var bt=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(bt||{});let Te=Symbol("DisclosureContext");function fe(e){let d=K(Te,null);if(d===null){let s=new Error(`<${e} /> is missing a parent <Disclosure /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(s,fe),s}return d}let we=Symbol("DisclosurePanelContext");function mt(){return K(we,null)}let ht=B({name:"Disclosure",props:{as:{type:[Object,String],default:"template"},defaultOpen:{type:[Boolean],default:!1}},setup(e,{slots:d,attrs:s}){let f=T(e.defaultOpen?0:1),l=T(null),u=T(null),a={buttonId:T(`headlessui-disclosure-button-${X()}`),panelId:T(`headlessui-disclosure-panel-${X()}`),disclosureState:f,panel:l,button:u,toggleDisclosure(){f.value=F(f.value,{0:1,1:0})},closeDisclosure(){f.value!==1&&(f.value=1)},close(n){a.closeDisclosure();let v=n?n instanceof HTMLElement?n:n.value instanceof HTMLElement?k(n):k(a.button):k(a.button);v==null||v.focus()}};return Z(Te,a),st($(()=>F(f.value,{0:oe.Open,1:oe.Closed}))),()=>{let{defaultOpen:n,...v}=e,y={open:f.value===0,close:a.close};return L({theirProps:v,ourProps:{},slot:y,slots:d,attrs:s,name:"Disclosure"})}}}),gt=B({name:"DisclosureButton",props:{as:{type:[Object,String],default:"button"},disabled:{type:[Boolean],default:!1},id:{type:String,default:null}},setup(e,{attrs:d,slots:s,expose:f}){let l=fe("DisclosureButton"),u=mt(),a=$(()=>u===null?!1:u.value===l.panelId.value);U(()=>{a.value||e.id!==null&&(l.buttonId.value=e.id)}),ie(()=>{a.value||(l.buttonId.value=null)});let n=T(null);f({el:n,$el:n}),a.value||_e(()=>{l.button.value=n.value});let v=he($(()=>({as:e.as,type:d.type})),n);function y(){var t;e.disabled||(a.value?(l.toggleDisclosure(),(t=k(l.button))==null||t.focus()):l.toggleDisclosure())}function b(t){var r;if(!e.disabled)if(a.value)switch(t.key){case S.Space:case S.Enter:t.preventDefault(),t.stopPropagation(),l.toggleDisclosure(),(r=k(l.button))==null||r.focus();break}else switch(t.key){case S.Space:case S.Enter:t.preventDefault(),t.stopPropagation(),l.toggleDisclosure();break}}function o(t){switch(t.key){case S.Space:t.preventDefault();break}}return()=>{var t;let r={open:l.disclosureState.value===0},{id:c,...i}=e,m=a.value?{ref:n,type:v.value,onClick:y,onKeydown:b}:{id:(t=l.buttonId.value)!=null?t:c,ref:n,type:v.value,"aria-expanded":l.disclosureState.value===0,"aria-controls":l.disclosureState.value===0||k(l.panel)?l.panelId.value:void 0,disabled:e.disabled?!0:void 0,onClick:y,onKeydown:b,onKeyup:o};return L({ourProps:m,theirProps:i,slot:r,attrs:d,slots:s,name:"DisclosureButton"})}}}),yt=B({name:"DisclosurePanel",props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},id:{type:String,default:null}},setup(e,{attrs:d,slots:s,expose:f}){let l=fe("DisclosurePanel");U(()=>{e.id!==null&&(l.panelId.value=e.id)}),ie(()=>{l.panelId.value=null}),f({el:l.panel,$el:l.panel}),Z(we,l.panelId);let u=ot(),a=$(()=>u!==null?(u.value&oe.Open)===oe.Open:l.disclosureState.value===0);return()=>{var n;let v={open:l.disclosureState.value===0,close:l.close},{id:y,...b}=e,o={id:(n=l.panelId.value)!=null?n:y,ref:l.panel};return L({ourProps:o,theirProps:b,slot:v,attrs:d,slots:s,features:Y.RenderStrategy|Y.Static,visible:a.value,name:"DisclosurePanel"})}}}),_t=B({props:{onFocus:{type:Function,required:!0}},setup(e){let d=T(!0);return()=>d.value?ee(ge,{as:"button",type:"button",features:Ge.Focusable,onFocus(s){s.preventDefault();let f,l=50;function u(){var a;if(l--<=0){f&&cancelAnimationFrame(f);return}if((a=e.onFocus)!=null&&a.call(e)){d.value=!1,cancelAnimationFrame(f);return}f=requestAnimationFrame(u)}f=requestAnimationFrame(u)}}):null}});var It=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(It||{}),$t=(e=>(e[e.Less=-1]="Less",e[e.Equal=0]="Equal",e[e.Greater=1]="Greater",e))($t||{});let De=Symbol("TabsContext");function Q(e){let d=K(De,null);if(d===null){let s=new Error(`<${e} /> is missing a parent <TabGroup /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(s,Q),s}return d}let ve=Symbol("TabsSSRContext"),kt=B({name:"TabGroup",emits:{change:e=>!0},props:{as:{type:[Object,String],default:"template"},selectedIndex:{type:[Number],default:null},defaultIndex:{type:[Number],default:0},vertical:{type:[Boolean],default:!1},manual:{type:[Boolean],default:!1}},inheritAttrs:!1,setup(e,{slots:d,attrs:s,emit:f}){var l;let u=T((l=e.selectedIndex)!=null?l:e.defaultIndex),a=T([]),n=T([]),v=$(()=>e.selectedIndex!==null),y=$(()=>v.value?e.selectedIndex:u.value);function b(i){var m;let I=V(o.tabs.value,k),p=V(o.panels.value,k),w=I.filter(P=>{var O;return!((O=k(P))!=null&&O.hasAttribute("disabled"))});if(i<0||i>I.length-1){let P=F(u.value===null?0:Math.sign(i-u.value),{[-1]:()=>1,0:()=>F(Math.sign(i),{[-1]:()=>0,0:()=>0,1:()=>1}),1:()=>0}),O=F(P,{0:()=>I.indexOf(w[0]),1:()=>I.indexOf(w[w.length-1])});O!==-1&&(u.value=O),o.tabs.value=I,o.panels.value=p}else{let P=I.slice(0,i),O=[...I.slice(i),...P].find(q=>w.includes(q));if(!O)return;let E=(m=I.indexOf(O))!=null?m:o.selectedIndex.value;E===-1&&(E=o.selectedIndex.value),u.value=E,o.tabs.value=I,o.panels.value=p}}let o={selectedIndex:$(()=>{var i,m;return(m=(i=u.value)!=null?i:e.defaultIndex)!=null?m:null}),orientation:$(()=>e.vertical?"vertical":"horizontal"),activation:$(()=>e.manual?"manual":"auto"),tabs:a,panels:n,setSelectedIndex(i){y.value!==i&&f("change",i),v.value||b(i)},registerTab(i){var m;if(a.value.includes(i))return;let I=a.value[u.value];if(a.value.push(i),a.value=V(a.value,k),!v.value){let p=(m=a.value.indexOf(I))!=null?m:u.value;p!==-1&&(u.value=p)}},unregisterTab(i){let m=a.value.indexOf(i);m!==-1&&a.value.splice(m,1)},registerPanel(i){n.value.includes(i)||(n.value.push(i),n.value=V(n.value,k))},unregisterPanel(i){let m=n.value.indexOf(i);m!==-1&&n.value.splice(m,1)}};Z(De,o);let t=T({tabs:[],panels:[]}),r=T(!1);U(()=>{r.value=!0}),Z(ve,$(()=>r.value?null:t.value));let c=$(()=>e.selectedIndex);return U(()=>{te([c],()=>{var i;return b((i=e.selectedIndex)!=null?i:e.defaultIndex)},{immediate:!0})}),_e(()=>{if(!v.value||y.value==null||o.tabs.value.length<=0)return;let i=V(o.tabs.value,k);i.some((m,I)=>k(o.tabs.value[I])!==k(m))&&o.setSelectedIndex(i.findIndex(m=>k(m)===k(o.tabs.value[y.value])))}),()=>{let i={selectedIndex:u.value};return ee(ae,[a.value.length<=0&&ee(_t,{onFocus:()=>{for(let m of a.value){let I=k(m);if((I==null?void 0:I.tabIndex)===0)return I.focus(),!0}return!1}}),L({theirProps:{...s,...Ke(e,["selectedIndex","defaultIndex","manual","vertical","onChange"])},ourProps:{},slot:i,slots:d,attrs:s,name:"TabGroup"})])}}}),Tt=B({name:"TabList",props:{as:{type:[Object,String],default:"div"}},setup(e,{attrs:d,slots:s}){let f=Q("TabList");return()=>{let l={selectedIndex:f.selectedIndex.value},u={role:"tablist","aria-orientation":f.orientation.value};return L({ourProps:u,theirProps:e,slot:l,attrs:d,slots:s,name:"TabList"})}}}),wt=B({name:"Tab",props:{as:{type:[Object,String],default:"button"},disabled:{type:[Boolean],default:!1},id:{type:String,default:null}},setup(e,{attrs:d,slots:s,expose:f}){var l;let u=(l=e.id)!=null?l:`headlessui-tabs-tab-${X()}`,a=Q("Tab"),n=T(null);f({el:n,$el:n}),U(()=>a.registerTab(n)),ie(()=>a.unregisterTab(n));let v=K(ve),y=$(()=>{if(v.value){let p=v.value.tabs.indexOf(u);return p===-1?v.value.tabs.push(u)-1:p}return-1}),b=$(()=>{let p=a.tabs.value.indexOf(n);return p===-1?y.value:p}),o=$(()=>b.value===a.selectedIndex.value);function t(p){var w;let P=p();if(P===J.Success&&a.activation.value==="auto"){let O=(w=it(n))==null?void 0:w.activeElement,E=a.tabs.value.findIndex(q=>k(q)===O);E!==-1&&a.setSelectedIndex(E)}return P}function r(p){let w=a.tabs.value.map(P=>k(P)).filter(Boolean);if(p.key===S.Space||p.key===S.Enter){p.preventDefault(),p.stopPropagation(),a.setSelectedIndex(b.value);return}switch(p.key){case S.Home:case S.PageUp:return p.preventDefault(),p.stopPropagation(),t(()=>R(w,C.First));case S.End:case S.PageDown:return p.preventDefault(),p.stopPropagation(),t(()=>R(w,C.Last))}if(t(()=>F(a.orientation.value,{vertical(){return p.key===S.ArrowUp?R(w,C.Previous|C.WrapAround):p.key===S.ArrowDown?R(w,C.Next|C.WrapAround):J.Error},horizontal(){return p.key===S.ArrowLeft?R(w,C.Previous|C.WrapAround):p.key===S.ArrowRight?R(w,C.Next|C.WrapAround):J.Error}}))===J.Success)return p.preventDefault()}let c=T(!1);function i(){var p;c.value||(c.value=!0,!e.disabled&&((p=k(n))==null||p.focus({preventScroll:!0}),a.setSelectedIndex(b.value),vt(()=>{c.value=!1})))}function m(p){p.preventDefault()}let I=he($(()=>({as:e.as,type:d.type})),n);return()=>{var p,w;let P={selected:o.value,disabled:(p=e.disabled)!=null?p:!1},{...O}=e,E={ref:n,onKeydown:r,onMousedown:m,onClick:i,id:u,role:"tab",type:I.value,"aria-controls":(w=k(a.panels.value[b.value]))==null?void 0:w.id,"aria-selected":o.value,tabIndex:o.value?0:-1,disabled:e.disabled?!0:void 0};return L({ourProps:E,theirProps:O,slot:P,attrs:d,slots:s,name:"Tab"})}}}),Dt=B({name:"TabPanels",props:{as:{type:[Object,String],default:"div"}},setup(e,{slots:d,attrs:s}){let f=Q("TabPanels");return()=>{let l={selectedIndex:f.selectedIndex.value};return L({theirProps:e,ourProps:{},slot:l,attrs:s,slots:d,name:"TabPanels"})}}}),St=B({name:"TabPanel",props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},id:{type:String,default:null},tabIndex:{type:Number,default:0}},setup(e,{attrs:d,slots:s,expose:f}){var l;let u=(l=e.id)!=null?l:`headlessui-tabs-panel-${X()}`,a=Q("TabPanel"),n=T(null);f({el:n,$el:n}),U(()=>a.registerPanel(n)),ie(()=>a.unregisterPanel(n));let v=K(ve),y=$(()=>{if(v.value){let t=v.value.panels.indexOf(u);return t===-1?v.value.panels.push(u)-1:t}return-1}),b=$(()=>{let t=a.panels.value.indexOf(n);return t===-1?y.value:t}),o=$(()=>b.value===a.selectedIndex.value);return()=>{var t;let r={selected:o.value},{tabIndex:c,...i}=e,m={ref:n,id:u,role:"tabpanel","aria-labelledby":(t=k(a.tabs.value[b.value]))==null?void 0:t.id,tabIndex:o.value?c:-1};return!o.value&&e.unmount&&!e.static?ee(ge,{as:"span","aria-hidden":!0,...m}):L({ourProps:m,theirProps:i,slot:r,attrs:d,slots:s,features:Y.Static|Y.RenderStrategy,visible:o.value,name:"TabPanel"})}}});const re=ce(M.ui.strategy,M.ui.accordion,pt),Pt=ce(M.ui.strategy,M.ui.button,Qe),Ot=B({components:{HDisclosure:ht,HDisclosureButton:gt,HDisclosurePanel:yt,UIcon:W,UButton:pe},inheritAttrs:!1,props:{items:{type:Array,default:()=>[]},defaultOpen:{type:Boolean,default:!1},openIcon:{type:String,default:()=>re.default.openIcon},unmount:{type:Boolean,default:!1},closeIcon:{type:String,default:()=>re.default.closeIcon},multiple:{type:Boolean,default:!1},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},emits:["open"],setup(e,{emit:d}){const{ui:s,attrs:f}=$e("accordion",ne(e,"ui"),re,ne(e,"class")),l=$(()=>Pt),u=T([]),a=$(()=>u.value.map(({open:t})=>t));te(a,(t,r)=>{for(const c in t){const i=r[c],m=t[c];!i&&m&&d("open",c)}},{immediate:!0});function n(t,r){!e.items[t].closeOthers&&e.multiple||u.value.forEach(c=>{c.open&&c.close(r.target)})}function v(t,r){const c=t;c.style.height="0",c.offsetHeight,c.style.height=c.scrollHeight+"px",c.addEventListener("transitionend",r,{once:!0})}function y(t){const r=t;r.style.height=r.scrollHeight+"px",r.offsetHeight}function b(t){const r=t;r.style.height="auto"}function o(t,r){const c=t;c.style.height="0",c.addEventListener("transitionend",r,{once:!0})}return ye(()=>ke()),{ui:s,uiButton:l,attrs:f,buttonRefs:u,closeOthers:n,omit:Je,onEnter:v,onBeforeLeave:y,onAfterEnter:b,onLeave:o}}}),Bt={key:1};function At(e,d,s,f,l,u){const a=W,n=pe,v=x("HDisclosureButton"),y=x("HDisclosurePanel"),b=x("HDisclosure");return D(),z("div",{class:A(e.ui.wrapper)},[(D(!0),z(ae,null,ue(e.items,(o,t)=>(D(),H(b,{key:t,as:"div",class:A(e.ui.container),"default-open":e.defaultOpen||o.defaultOpen},{default:h(({open:r,close:c})=>[g(v,{ref_for:!0,ref:()=>e.buttonRefs[t]={open:r,close:c},as:"template",disabled:o.disabled,onClick:i=>e.closeOthers(t,i),onKeydown:[be(i=>e.closeOthers(t,i),["enter"]),be(i=>e.closeOthers(t,i),["space"])]},{default:h(()=>[N(e.$slots,"default",{item:o,index:t,open:r,close:c},()=>[g(n,de({ref_for:!0},{...e.omit(e.ui.default,["openIcon","closeIcon"]),...e.attrs,...e.omit(o,["slot","disabled","content","defaultOpen"])}),{trailing:h(()=>[g(a,{name:r&&e.closeIcon?e.closeIcon:e.openIcon,class:A([r&&!e.closeIcon?"-rotate-180":"",e.uiButton.icon.size[o.size||e.uiButton.default.size],e.ui.item.icon])},null,8,["name","class"])]),_:2},1040)])]),_:2},1032,["disabled","onClick","onKeydown"]),g(Xe,de({ref_for:!0},e.ui.transition,{onEnter:e.onEnter,onAfterEnter:e.onAfterEnter,onBeforeLeave:e.onBeforeLeave,onLeave:e.onLeave}),{default:h(()=>[e.unmount?(D(),H(y,{key:0,class:A([e.ui.item.base,e.ui.item.size,e.ui.item.color,e.ui.item.padding]),unmount:""},{default:h(()=>[N(e.$slots,o.slot||"item",{item:o,index:t,open:r,close:c},()=>[le(G(o.content),1)])]),_:2},1032,["class"])):Ye((D(),z("div",Bt,[g(y,{class:A([e.ui.item.base,e.ui.item.size,e.ui.item.color,e.ui.item.padding]),static:""},{default:h(()=>[N(e.$slots,o.slot||"item",{item:o,index:t,open:r,close:c},()=>[le(G(o.content),1)])]),_:2},1032,["class"])],512)),[[Ze,r]])]),_:2},1040,["onEnter","onAfterEnter","onBeforeLeave","onLeave"])]),_:2},1032,["class","default-open"]))),128))],2)}const Et=Ie(Ot,[["render",At]]),Ct=B({__name:"AnketaTab",props:{editable:{type:Boolean,default:!1},candId:{type:String,default:""},person:{type:Object,default:{}}},emits:["update"],setup(e,{emit:d}){const s=e,f=d,l=[{label:"Резюме",icon:"i-heroicons-user",defaultOpen:!0,slot:"resume"},{label:"Должности",icon:"i-heroicons-briefcase",slot:"staff"},{label:"Образование",icon:"i-heroicons-academic-cap",slot:"education"},{label:"Работа",icon:"i-heroicons-briefcase",slot:"work"},{label:"Документы",icon:"i-heroicons-document-text",slot:"document"},{label:"Адреса",icon:"i-heroicons-home-modern",slot:"address"},{label:"Контакты",icon:"i-heroicons-phone",slot:"contact"},{label:"Аффилированные",icon:"i-heroicons-user-group",slot:"affiliation"},{label:"Изменения имени",icon:"i-heroicons-archive-box-arrow-down",slot:"prev"},{label:"Связанные",icon:"i-heroicons-user-group",slot:"relate"}];return(u,a)=>{const n=Ae,v=Ee,y=Ce,b=He,o=xe,t=Le,r=ze,c=Ue,i=Re,m=je,I=Et;return D(),H(I,{items:l,size:"lg",multiple:""},{resume:h(()=>[g(n,{"cand-id":s.candId,editable:s.editable,person:s.person,onUpdate:a[0]||(a[0]=p=>f("update"))},null,8,["cand-id","editable","person"])]),staff:h(()=>[g(v,{"cand-id":s.candId,editable:s.editable},null,8,["cand-id","editable"])]),education:h(()=>[g(y,{"cand-id":s.candId,editable:s.editable},null,8,["cand-id","editable"])]),work:h(()=>[g(b,{"cand-id":s.candId,editable:s.editable},null,8,["cand-id","editable"])]),document:h(()=>[g(o,{"cand-id":s.candId,editable:s.editable},null,8,["cand-id","editable"])]),address:h(()=>[g(t,{"cand-id":s.candId,editable:s.editable},null,8,["cand-id","editable"])]),contact:h(()=>[g(r,{"cand-id":s.candId,editable:s.editable},null,8,["cand-id","editable"])]),affiliation:h(()=>[g(c,{"cand-id":s.candId,editable:s.editable},null,8,["cand-id","editable"])]),prev:h(()=>[g(i,{"cand-id":s.candId,editable:s.editable},null,8,["cand-id","editable"])]),relate:h(()=>[g(m,{"cand-id":s.candId,editable:s.editable},null,8,["cand-id","editable"])]),_:1})}}}),Ht=ce(M.ui.strategy,M.ui.tabs,ft),xt=B({components:{UIcon:W,HTabGroup:kt,HTabList:Tt,HTab:wt,HTabPanels:Dt,HTabPanel:St},inheritAttrs:!1,props:{modelValue:{type:Number,default:void 0},orientation:{type:String,default:"horizontal",validator:e=>["horizontal","vertical"].includes(e)},defaultIndex:{type:Number,default:0},items:{type:Array,default:()=>[]},unmount:{type:Boolean,default:!1},content:{type:Boolean,default:!0},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},emits:["update:modelValue","change"],setup(e,{emit:d}){const{ui:s,attrs:f}=$e("tabs",ne(e,"ui"),Ht,ne(e,"class")),l=T(),u=T([]),a=T(),n=T(e.modelValue||e.defaultIndex);function v(b){var t;const o=(t=u.value[b])==null?void 0:t.$el;o&&a.value&&(a.value.style.top=`${o.offsetTop}px`,a.value.style.left=`${o.offsetLeft}px`,a.value.style.width=`${o.offsetWidth}px`,a.value.style.height=`${o.offsetHeight}px`)}function y(b){n.value=b,d("change",b),e.modelValue!==void 0&&d("update:modelValue",n.value),v(n.value)}return et(l,()=>{v(n.value)}),te(()=>e.modelValue,b=>{n.value=b,v(n.value)}),te(()=>e.items,async()=>{await me(),v(n.value)},{deep:!0}),U(async()=>{await me(),v(n.value)}),ye(()=>ke()),{ui:s,attrs:f,listRef:l,itemRefs:u,markerRef:a,selectedIndex:n,onChange:y}}}),Lt={class:"truncate"};function zt(e,d,s,f,l,u){const a=W,n=x("HTab"),v=x("HTabList"),y=x("HTabPanel"),b=x("HTabPanels"),o=x("HTabGroup");return D(),H(o,de({vertical:e.orientation==="vertical","selected-index":e.selectedIndex,as:"div",class:e.ui.wrapper},e.attrs,{onChange:e.onChange}),{default:h(()=>[g(v,{ref:"listRef",class:A([e.ui.list.base,e.ui.list.background,e.ui.list.rounded,e.ui.list.shadow,e.ui.list.padding,e.ui.list.width,e.orientation==="horizontal"&&e.ui.list.height,e.orientation==="horizontal"&&"inline-grid items-center"]),style:tt([e.orientation==="horizontal"&&`grid-template-columns: repeat(${e.items.length}, minmax(0, 1fr))`])},{default:h(()=>[j("div",{ref:"markerRef",class:A(e.ui.list.marker.wrapper)},[j("div",{class:A([e.ui.list.marker.base,e.ui.list.marker.background,e.ui.list.marker.rounded,e.ui.list.marker.shadow])},null,2)],2),(D(!0),z(ae,null,ue(e.items,(t,r)=>(D(),H(n,{key:r,ref_for:!0,ref:"itemRefs",disabled:t.disabled,as:"template"},{default:h(({selected:c,disabled:i})=>[j("button",{class:A([e.ui.list.tab.base,e.ui.list.tab.background,e.ui.list.tab.height,e.ui.list.tab.padding,e.ui.list.tab.size,e.ui.list.tab.font,e.ui.list.tab.rounded,e.ui.list.tab.shadow,c?e.ui.list.tab.active:e.ui.list.tab.inactive])},[N(e.$slots,"icon",{item:t,index:r,selected:c,disabled:i},()=>[t.icon?(D(),H(a,{key:0,name:t.icon,class:A(e.ui.list.tab.icon)},null,8,["name","class"])):se("",!0)]),N(e.$slots,"default",{item:t,index:r,selected:c,disabled:i},()=>[j("span",Lt,G(t.label),1)])],2)]),_:2},1032,["disabled"]))),128))]),_:3},8,["class","style"]),e.content?(D(),H(b,{key:0,class:A(e.ui.container)},{default:h(()=>[(D(!0),z(ae,null,ue(e.items,(t,r)=>(D(),H(y,{key:r,class:A(e.ui.base),unmount:e.unmount},{default:h(({selected:c})=>[N(e.$slots,t.slot||"item",{item:t,index:r,selected:c},()=>[le(G(t.content),1)])]),_:2},1032,["class","unmount"]))),128))]),_:3},8,["class"])):se("",!0)]),_:3},16,["vertical","selected-index","class","onChange"])}const Ut=Ie(xt,[["render",zt]]),Rt={key:0,class:"relative"},jt={class:"absolute bottom-0 right-20"},Ft={class:"animate-pulse",style:{width:"30px"}},Nt={key:0,class:"absolute top-0 right-10"},aa=B({__name:"[id]",async setup(e){let d,s;const f=dt(),l=ut(),u=at(),a=$(()=>u.params.id),n=T({}),{refresh:v}=([d,s]=nt(async()=>ct("anketa",async()=>{const c=await f("/api/persons/"+a.value);n.value=c})),d=await d,s(),d),y=[{slot:"anketaTab",label:"Анкета",icon:"i-heroicons-user"},{slot:"checkTab",label:"Проверки",icon:"i-heroicons-check-circle"},{slot:"poligrafTab",label:"Полиграф",icon:"i-heroicons-bolt"},{slot:"investigateTab",label:"Расследования",icon:"i-heroicons-briefcase"},{slot:"inquiryTab",label:"Запросы",icon:"i-heroicons-document-text"}],b={current:{label:"Анкета редактируется текущим пользователем",color:"green"},thirdparty:{label:"Анкета редактируется другим пользователем",color:"red"},others:{label:"Анкета не редактируется пользователями",color:"blue"}},o=$(()=>{if(n.value.editable){if(n.value.user_id==l.value.id)return b.current;if(n.value.user_id!=l.value.id)return b.thirdparty}return b.others}),t=$(()=>n.value.editable&&l.value.role=="user"&&l.value.id==n.value.user_id);async function r(){confirm("Вы действительно хотите включить/выключить режим правки")&&(await f("/api/self/"+a.value),v())}return(c,i)=>{const m=Fe,I=We,p=pe,w=W,P=lt,O=Ct,E=Ne,q=Me,Se=qe,Pe=Ve,Oe=Ut,Be=rt;return D(),H(Be,null,{default:h(()=>[g(m,{"cand-id":_(a),destination:_(n).destination,editable:_(t)},null,8,["cand-id","destination","editable"]),_(l).role=="user"?(D(),z("div",Rt,[j("div",jt,[g(p,{variant:"link",size:"xl",onClick:r},{default:h(()=>[j("div",Ft,[g(I,{color:_(o).color,variant:"solid"},{default:h(()=>[le(G(_(o).label),1)]),_:1},8,["color"])])]),_:1})]),_(n).editable?se("",!0):(D(),z("div",Nt,[g(p,{variant:"link",size:"xl",to:`/profile/print/${_(a)}`},{default:h(()=>[g(w,{name:"i-heroicons-printer",class:"w-8 h-8"})]),_:1},8,["to"])]))])):se("",!0),g(P,{div:"py-3",header:`${_(n).surname} ${_(n).firstname} ${_(n).patronymic?_(n).patronymic:""}`},null,8,["header"]),g(Oe,{items:y},{anketaTab:h(()=>[g(O,{"cand-id":_(a),editable:_(t),person:_(n),onUpdate:_(v)},null,8,["cand-id","editable","person","onUpdate"])]),checkTab:h(()=>[g(E,{"cand-id":_(a),editable:_(t)},null,8,["cand-id","editable"])]),poligrafTab:h(()=>[g(q,{"cand-id":_(a),editable:_(t)},null,8,["cand-id","editable"])]),investigateTab:h(()=>[g(Se,{"cand-id":_(a),editable:_(t)},null,8,["cand-id","editable"])]),inquiryTab:h(()=>[g(Pe,{"cand-id":_(a),editable:_(t)},null,8,["cand-id","editable"])]),_:1})]),_:1})}}});export{aa as default};
