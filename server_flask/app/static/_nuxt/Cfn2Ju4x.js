import{_ as x,a as V}from"./DuoSnw_b.js";import{_ as w}from"./DUza1bqK.js";import{_ as C}from"./BQPHh6Pz.js";import{_ as U}from"./Ik7hA66Q.js";import{d as Y,r as D,u as p,a as g,w as k,c as F,b as t,e,f as a,g as d,o as M}from"./DSZgY0GN.js";import{u as $}from"./BVt5O5o3.js";import{u as A}from"./Ce3U9u9Y.js";import{a as B}from"./DXFhoKA3.js";import"./9XQBD0WK.js";import"./Ci_tIRZB.js";const N={class:"my-8"},S={class:"flex grid grid-cols-12 gap-3 mt-8"},E={class:"col-span-2"},z={class:"col-span-2"},G={class:"px-3"},H={class:"col-span-2"},I={class:"px-3"},X=Y({__name:"info",async setup(L){let l,c;const f=$(),_=A(),o=D({region:_.value.region,start:p(g(),"YYYY-MM").value+"-01",end:p(g(),"YYYY-MM-DD").value,stat:[]}),{refresh:r,status:h}=([l,c]=k(async()=>B("stats",async()=>{const m=await f("/api/information",{params:{start:o.value.start,end:o.value.end,region:o.value.region}});o.value.stat=m})),l=await l,c(),l);return(m,n)=>{const v=x,y=w,b=C,i=U,u=V;return M(),F("div",null,[t(v,{div:"py-1",header:`Информация по региону ${e(o).region} за период с ${e(o).start} г. по ${e(o).end} г.`},null,8,["header"]),a("div",N,[t(y,{loading:e(h)=="pending",progress:{color:"red",animation:"swing"},"empty-state":{icon:"i-heroicons-circle-stack-20-solid",label:"Статистика за указанный период отсутствует."},rows:e(o).stat,columns:[{key:"conclusion",label:"Решение"},{key:"count",label:"Количество"}]},null,8,["loading","rows"]),a("div",S,[a("div",E,[t(i,{class:"mb-3",label:"Регион"},{default:d(()=>[t(b,{modelValue:e(o).region,"onUpdate:modelValue":n[0]||(n[0]=s=>e(o).region=s),disabled:e(_).region!="Главный офис",options:["Главный офис","РЦ Юг","РЦ Запад","РЦ Урал","РЦ Восток"],onChange:e(r)},null,8,["modelValue","disabled","onChange"])]),_:1})]),a("div",z,[a("div",G,[t(i,{label:"Начало периода"},{default:d(()=>[t(u,{modelValue:e(o).start,"onUpdate:modelValue":n[1]||(n[1]=s=>e(o).start=s),type:"date",onChange:e(r)},null,8,["modelValue","onChange"])]),_:1})])]),a("div",H,[a("div",I,[t(i,{label:"Конец периода"},{default:d(()=>[t(u,{modelValue:e(o).end,"onUpdate:modelValue":n[2]||(n[2]=s=>e(o).end=s),type:"date",onChange:e(r)},null,8,["modelValue","onChange"])]),_:1})])])])])])}}});export{X as default};
