import{Q as gt,R as Ge,S as ht,U as qe,V as kt,K as Le,W as wt,X as We,Y as Ze,Z as $t,q as A,d as T,$ as St,r as D,a0 as ge,o as i,c as $,B as fe,e as t,m as De,h as ve,_ as Te,l as Me,t as H,s as et,v as tt,a1 as It,b as a,g as s,f as K,z as N,A as M,x as ue,T as J,w as Q,a2 as Dt,a3 as Ut,H as nt,y as I,P as He,G as ee,k as R,I as at,D as U,i as $e,j as ot,a4 as lt,a5 as Vt,F as P,E as Y,C as V,a6 as je,L as X,O as Et,a7 as te,a8 as ne,u as ce,n as Ft,a9 as Ct,aa as Fe,ab as Ae,ac as st,ad as Ue,ae as Ce,N as Ie,af as zt,ag as it,ah as xt,ai as ye,aj as Ot,ak as Ke,al as Tt,am as Mt,an as At}from"./lDZheyb0.js";import{a as pe,_ as Bt}from"./BCzKcTdV.js";import{u as Pt}from"./DAvUwKLE.js";import{_ as Z}from"./CxlEJjHY.js";import{u as G}from"./Dp_KVRGT.js";import{u as rt,r as qt,a as se,c as jt}from"./DkI-Ci4Z.js";import{_ as Ne}from"./DyiG9OG6.js";import{_ as Lt,a as ae,b as ie,c as Be}from"./kIpvmjaO.js";import{_ as be}from"./DEq9L_XB.js";import{_ as re}from"./BRtkGdMM.js";import{_ as de}from"./BMqcoA-t.js";import{_ as Ht}from"./u3ZSRJSR.js";import{i as ze,u as we,o as L,t as Nt,a as xe,A as he,s as dt,l as Yt,N as Oe,b as W,c as Rt,f as ut,O as Se,T as Gt,d as Ee,e as Wt,P as ke,g as me,h as ct}from"./C-wYTk8r.js";import{_ as Kt}from"./XQR2EF7Y.js";import{u as Jt}from"./BRI9USbw.js";import"./CsR9_4BF.js";import"./BDPSn3xW.js";const Qt={wrapper:"w-full flex flex-col",container:"w-full flex flex-col",item:{base:"",size:"text-sm",color:"text-gray-500 dark:text-gray-400",padding:"pt-1.5 pb-3",icon:"ms-auto transform transition-transform duration-200 flex-shrink-0"},transition:{enterActiveClass:"overflow-hidden transition-[height] duration-200 ease-out",leaveActiveClass:"overflow-hidden transition-[height] duration-200 ease-out"},default:{openIcon:"i-heroicons-chevron-down-20-solid",closeIcon:"",class:"mb-1.5 w-full",variant:"soft",truncate:!0}},Xt={wrapper:"relative w-full flex items-center justify-between",container:"flex items-center min-w-0",inner:"min-w-0",base:"group relative w-full flex items-center gap-1.5 px-2.5 py-3.5 rounded-md font-medium text-sm focus:outline-none focus-visible:outline-none dark:focus-visible:outline-none focus-visible:ring-inset focus-visible:ring-2 focus-visible:ring-primary-500 dark:focus-visible:ring-primary-400 disabled:cursor-not-allowed disabled:opacity-75",before:"before:absolute before:inset-x-0 before:inset-y-2 before:inset-px before:rounded-md hover:before:bg-gray-50 dark:hover:before:bg-gray-800/50",after:"after:absolute after:bottom-0 after:inset-x-2.5 after:block after:h-[2px] after:mt-2",active:"text-gray-900 dark:text-white after:bg-primary-500 dark:after:bg-primary-400 after:rounded-full",inactive:"text-gray-500 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white",label:"truncate relative",icon:{base:"flex-shrink-0 w-5 h-5 relative",active:"text-gray-700 dark:text-gray-200",inactive:"text-gray-400 dark:text-gray-500 group-hover:text-gray-700 dark:group-hover:text-gray-200"},avatar:{base:"flex-shrink-0",size:"2xs"},badge:{base:"flex-shrink-0 ml-auto relative rounded",color:"gray",variant:"solid",size:"xs"}},Zt={wrapper:"relative space-y-2",container:"relative w-full",base:"focus:outline-none",list:{base:"relative",background:"bg-gray-100 dark:bg-gray-800",rounded:"rounded-lg",shadow:"",padding:"p-1",height:"h-10",width:"w-full",marker:{wrapper:"absolute top-[4px] left-[4px] duration-200 ease-out focus:outline-none",base:"w-full h-full",background:"bg-white dark:bg-gray-900",rounded:"rounded-md",shadow:"shadow-sm"},tab:{base:"relative inline-flex items-center justify-center flex-shrink-0 w-full ui-focus-visible:outline-0 ui-focus-visible:ring-2 ui-focus-visible:ring-primary-500 dark:ui-focus-visible:ring-primary-400 ui-not-focus-visible:outline-none focus:outline-none disabled:cursor-not-allowed disabled:opacity-75 transition-colors duration-200 ease-out",background:"",active:"text-gray-900 dark:text-white",inactive:"text-gray-500 dark:text-gray-400",height:"h-8",padding:"px-3",size:"text-sm",font:"font-medium",rounded:"rounded-md",shadow:"",icon:"w-4 h-4 flex-shrink-0 mr-2"}}},en={wrapper:"relative",container:"z-20 group",width:"",background:"bg-white dark:bg-gray-900",shadow:"shadow-lg",rounded:"rounded-md",ring:"ring-1 ring-gray-200 dark:ring-gray-800",base:"overflow-hidden focus:outline-none relative",transition:{enterActiveClass:"transition ease-out duration-200",enterFromClass:"opacity-0 translate-y-1",enterToClass:"opacity-100 translate-y-0",leaveActiveClass:"transition ease-in duration-150",leaveFromClass:"opacity-100 translate-y-0",leaveToClass:"opacity-0 translate-y-1"},popper:{placement:"bottom-start",scroll:!1},arrow:gt};async function tn(e,o){return await nn(o).catch(m=>(console.error("Failed to get image meta for "+o,m+""),{width:0,height:0,ratio:0}))}async function nn(e){if(typeof Image>"u")throw new TypeError("Image not supported");return new Promise((o,u)=>{const m=new Image;m.onload=()=>{const n={width:m.width,height:m.height,ratio:m.width/m.height};o(n)},m.onerror=n=>u(n),m.src=e})}function Je(e){return o=>o?e[o]||o:e.missingValue}function an({formatter:e,keyMap:o,joinWith:u="/",valueMap:m}={}){e||(e=(l,d)=>`${l}=${d}`),o&&typeof o!="function"&&(o=Je(o));const n=m||{};return Object.keys(n).forEach(l=>{typeof n[l]!="function"&&(n[l]=Je(n[l]))}),(l={})=>Object.entries(l).filter(([c,_])=>typeof _<"u").map(([c,_])=>{const p=n[c];return typeof p=="function"&&(_=p(l[c])),c=typeof o=="function"?o(c):c,e(c,_)}).join(u)}function _e(e=""){if(typeof e=="number")return e;if(typeof e=="string"&&e.replace("px","").match(/^\d+$/g))return Number.parseInt(e,10)}function on(e=""){if(e===void 0||!e.length)return[];const o=new Set;for(const u of e.split(" ")){const m=Number.parseInt(u.replace("x",""));m&&o.add(m)}return Array.from(o)}function ln(e){if(e.length===0)throw new Error("`densities` must not be empty, configure to `1` to render regular size only (DPR 1.0)")}function sn(e){const o={};if(typeof e=="string")for(const u of e.split(/[\s,]+/).filter(m=>m)){const m=u.split(":");m.length!==2?o["1px"]=m[0].trim():o[m[0].trim()]=m[1].trim()}else Object.assign(o,e);return o}function rn(e){const o={options:e},u=(n,l={})=>pt(o,n,l),m=(n,l={},d={})=>u(n,{...d,modifiers:Le(l,d.modifiers||{})}).url;for(const n in e.presets)m[n]=(l,d,c)=>m(l,d,{...e.presets[n],...c});return m.options=e,m.getImage=u,m.getMeta=(n,l)=>dn(o,n,l),m.getSizes=(n,l)=>pn(o,n,l),o.$img=m,m}async function dn(e,o,u){const m=pt(e,o,{...u});return typeof m.getMeta=="function"?await m.getMeta():await tn(e,m.url)}function pt(e,o,u){var p,y;if(o&&typeof o!="string")throw new TypeError(`input must be a string (received ${typeof o}: ${JSON.stringify(o)})`);if(!o||o.startsWith("data:"))return{url:o};const{provider:m,defaults:n}=un(e,u.provider||e.options.provider),l=cn(e,u.preset);if(o=Ge(o)?o:ht(o),!m.supportsAlias){for(const f in e.options.alias)if(o.startsWith(f)){const r=e.options.alias[f];r&&(o=qe(r,o.slice(f.length)))}}if(m.validateDomains&&Ge(o)){const f=kt(o).host;if(!e.options.domains.find(r=>r===f))return{url:o}}const d=Le(u,l,n);d.modifiers={...d.modifiers};const c=d.modifiers.format;(p=d.modifiers)!=null&&p.width&&(d.modifiers.width=_e(d.modifiers.width)),(y=d.modifiers)!=null&&y.height&&(d.modifiers.height=_e(d.modifiers.height));const _=m.getImage(o,d,e);return _.format=_.format||c||"",_}function un(e,o){const u=e.options.providers[o];if(!u)throw new Error("Unknown provider: "+o);return u}function cn(e,o){if(!o)return{};if(!e.options.presets[o])throw new Error("Unknown preset: "+o);return e.options.presets[o]}function pn(e,o,u){var w,b,S,h,g;const m=_e((w=u.modifiers)==null?void 0:w.width),n=_e((b=u.modifiers)==null?void 0:b.height),l=sn(u.sizes),d=(S=u.densities)!=null&&S.trim()?on(u.densities.trim()):e.options.densities;ln(d);const c=m&&n?n/m:0,_=[],p=[];if(Object.keys(l).length>=1){for(const F in l){const C=Qe(F,String(l[F]),n,c,e);if(C!==void 0){_.push({size:C.size,screenMaxWidth:C.screenMaxWidth,media:`(max-width: ${C.screenMaxWidth}px)`});for(const z of d)p.push({width:C._cWidth*z,src:Xe(e,o,u,C,z)})}}mn(_)}else for(const F of d){const C=Object.keys(l)[0];let z=C?Qe(C,String(l[C]),n,c,e):void 0;z===void 0&&(z={size:"",screenMaxWidth:0,_cWidth:(h=u.modifiers)==null?void 0:h.width,_cHeight:(g=u.modifiers)==null?void 0:g.height}),p.push({width:F,src:Xe(e,o,u,z,F)})}fn(p);const y=p[p.length-1],f=_.length?_.map(F=>`${F.media?F.media+" ":""}${F.size}`).join(", "):void 0,r=f?"w":"x",k=p.map(F=>`${F.src} ${F.width}${r}`).join(", ");return{sizes:f,srcset:k,src:y==null?void 0:y.src}}function Qe(e,o,u,m,n){const l=n.options.screens&&n.options.screens[e]||Number.parseInt(e),d=o.endsWith("vw");if(!d&&/^\d+$/.test(o)&&(o=o+"px"),!d&&!o.endsWith("px"))return;let c=Number.parseInt(o);if(!l||!c)return;d&&(c=Math.round(c/100*l));const _=m?Math.round(c*m):u;return{size:o,screenMaxWidth:l,_cWidth:c,_cHeight:_}}function Xe(e,o,u,m,n){return e.$img(o,{...u.modifiers,width:m._cWidth?m._cWidth*n:void 0,height:m._cHeight?m._cHeight*n:void 0},u)}function mn(e){var u;e.sort((m,n)=>m.screenMaxWidth-n.screenMaxWidth);let o=null;for(let m=e.length-1;m>=0;m--){const n=e[m];n.media===o&&e.splice(m,1),o=n.media}for(let m=0;m<e.length;m++)e[m].media=((u=e[m+1])==null?void 0:u.media)||""}function fn(e){e.sort((u,m)=>u.width-m.width);let o=null;for(let u=e.length-1;u>=0;u--){const m=e[u];m.width===o&&e.splice(u,1),o=m.width}}const _n=an({keyMap:{format:"f",fit:"fit",width:"w",height:"h",resize:"s",quality:"q",background:"b"},joinWith:"&",formatter:(e,o)=>We(e)+"_"+We(o)}),vn=(e,{modifiers:o={},baseURL:u}={},m)=>{o.width&&o.height&&(o.resize=`${o.width}x${o.height}`,delete o.width,delete o.height);const n=_n(o)||"_";return u||(u=qe(m.options.nuxt.baseURL,"/_ipx")),{url:qe(u,n,wt(e))}},bn=!0,yn=!0,gn=Object.freeze(Object.defineProperty({__proto__:null,getImage:vn,supportsAlias:yn,validateDomains:bn},Symbol.toStringTag,{value:"Module"})),mt={screens:{xs:320,sm:640,md:768,lg:1024,xl:1280,xxl:1536,"2xl":1536},presets:{},provider:"ipxStatic",domains:[],alias:{},densities:[1,2],format:["webp"]};mt.providers={ipxStatic:{provider:gn,defaults:{}}};const ft=()=>{const e=$t(),o=Ze();return o.$img||o._img||(o._img=rn({...mt,nuxt:{baseURL:e.app.baseURL},runtimeConfig:e}))};function hn(e){var o;(o=performance==null?void 0:performance.mark)==null||o.call(performance,"mark_feature_usage",{detail:{feature:e}})}const kn={src:{type:String,required:!1},format:{type:String,required:!1},quality:{type:[Number,String],required:!1},background:{type:String,required:!1},fit:{type:String,required:!1},modifiers:{type:Object,required:!1},preset:{type:String,required:!1},provider:{type:String,required:!1},sizes:{type:[Object,String],required:!1},densities:{type:String,required:!1},preload:{type:[Boolean,Object],required:!1},width:{type:[String,Number],required:!1},height:{type:[String,Number],required:!1},alt:{type:String,required:!1},referrerpolicy:{type:String,required:!1},usemap:{type:String,required:!1},longdesc:{type:String,required:!1},ismap:{type:Boolean,required:!1},loading:{type:String,required:!1,validator:e=>["lazy","eager"].includes(e)},crossorigin:{type:[Boolean,String],required:!1,validator:e=>["anonymous","use-credentials","",!0,!1].includes(e)},decoding:{type:String,required:!1,validator:e=>["async","auto","sync"].includes(e)},nonce:{type:[String],required:!1}},wn=e=>{const o=A(()=>({provider:e.provider,preset:e.preset})),u=A(()=>({width:_e(e.width),height:_e(e.height),alt:e.alt,referrerpolicy:e.referrerpolicy,usemap:e.usemap,longdesc:e.longdesc,ismap:e.ismap,crossorigin:e.crossorigin===!0?"anonymous":e.crossorigin||void 0,loading:e.loading,decoding:e.decoding,nonce:e.nonce})),m=ft(),n=A(()=>({...e.modifiers,width:_e(e.width),height:_e(e.height),format:e.format,quality:e.quality||m.options.quality,background:e.background,fit:e.fit}));return{options:o,attrs:u,modifiers:n}},$n={...kn,placeholder:{type:[Boolean,String,Number,Array],required:!1},placeholderClass:{type:String,required:!1}},Sn=["src"],In=T({__name:"NuxtImg",props:$n,emits:["load","error"],setup(e,{emit:o}){const u=e,m=St(),n=o,l=!1,d=ft(),c=wn(u),_=D(!1),p=D(),y=A(()=>d.getSizes(u.src,{...c.options.value,sizes:u.sizes,densities:u.densities,modifiers:{...c.modifiers.value,width:_e(u.width),height:_e(u.height)}})),f=A(()=>{const h={...c.attrs.value,"data-nuxt-img":""};return(!u.placeholder||_.value)&&(h.sizes=y.value.sizes,h.srcset=y.value.srcset),h}),r=A(()=>{let h=u.placeholder;if(h===""&&(h=!0),!h||_.value)return!1;if(typeof h=="string")return h;const g=Array.isArray(h)?h:typeof h=="number"?[h,h]:[10,10];return d(u.src,{...c.modifiers.value,width:g[0],height:g[1],quality:g[2]||50,blur:g[3]||3},c.options.value)}),k=A(()=>u.sizes?y.value.src:d(u.src,c.modifiers.value,c.options.value)),w=A(()=>r.value?r.value:k.value),S=Ze().isHydrating;return ge(()=>{if(r.value){const h=new Image;k.value&&(h.src=k.value),u.sizes&&(h.sizes=y.value.sizes||"",h.srcset=y.value.srcset),h.onload=g=>{_.value=!0,n("load",g)},hn("nuxt-image");return}p.value&&(p.value.complete&&S&&(p.value.getAttribute("data-error")?n("error",new Event("error")):n("load",new Event("load"))),p.value.onload=h=>{n("load",h)},p.value.onerror=h=>{n("error",h)})}),(h,g)=>(i(),$("img",fe({ref_key:"imgEl",ref:p,class:u.placeholder&&!_.value?u.placeholderClass:void 0},{...t(l)?{onerror:"this.setAttribute('data-error', 1)"}:{},...f.value,...t(m)},{src:w.value}),null,16,Sn))}}),Dn=De(ve.ui.strategy,ve.ui.contextMenu,en),Un=T({inheritAttrs:!1,props:{modelValue:{type:Boolean,default:!1},virtualElement:{type:Object,required:!0},popper:{type:Object,default:()=>({})},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},emits:["update:modelValue","close"],setup(e,{emit:o}){const{ui:u,attrs:m}=Me("contextMenu",H(e,"ui"),Dn),n=A(()=>Le({},e.popper,u.value.popper)),l=A({get(){return e.modelValue},set(p){o("update:modelValue",p)}}),d=H(e,"virtualElement"),[,c]=Pt(n.value,d),_=A(()=>et(tt(u.value.container,u.value.width),e.class));return It(c,()=>{l.value=!1}),{ui:u,attrs:m,isOpen:l,wrapperClass:_,popper:n,container:c}}});function Vn(e,o,u,m,n,l){return e.isOpen?(i(),$("div",fe({key:0,ref:"container",class:e.wrapperClass},e.attrs),[a(J,fe({appear:""},e.ui.transition),{default:s(()=>[K("div",null,[e.popper.arrow?(i(),$("div",{key:0,"data-popper-arrow":"",class:N(Object.values(e.ui.arrow))},null,2)):M("",!0),K("div",{class:N([e.ui.base,e.ui.ring,e.ui.rounded,e.ui.shadow,e.ui.background])},[ue(e.$slots,"default")],2)])]),_:3},16)],16)):M("",!0)}const En=Te(Un,[["render",Vn]]),Fn={class:"flex justify-left"},Cn={class:"p-4"},zn=T({__name:"PhotoCard",props:{candId:{type:String,default:""},destination:{type:String,default:""},editable:{type:Boolean,default:!1}},async setup(e){let o,u;const m=G(),n=e,l=D(""),{refresh:d}=([o,u]=Q(async()=>rt("image",async()=>{const b=await $fetch("/api/image",{params:{image:n.destination},responseType:"blob"});l.value=window.URL.createObjectURL(new Blob([b]))})),o=await o,u(),o);async function c(b){if(!b)return;const S=new FormData,h=b[0];S.append("file",h),await m("/api/file/image/"+n.candId,{method:"POST",body:S}),await d()}function _(b){var S;(S=document.getElementById(b))==null||S.click()}const{x:p,y}=Dt(),{y:f}=Ut(),r=D(!1),k=D({getBoundingClientRect:()=>({})});function w(){const b=t(y)-t(f),S=t(p);k.value.getBoundingClientRect=()=>({width:0,height:0,top:b,left:S}),r.value=!0}return(b,S)=>{const h=In,g=pe,F=R,C=En,z=Z;return i(),$("div",Fn,[a(z,{ui:{body:{padding:"p-1 sm:p-1"}},onContextmenu:ee(w,["prevent"])},{default:s(()=>[a(h,{src:t(l),width:"180",height:"180"},null,8,["src"]),nt(a(g,{id:"image-file",type:"file",accept:"image/*",multiple:"",onChange:S[0]||(S[0]=x=>c(x))},null,512),[[at,!1]]),n.editable?(i(),I(C,{key:0,modelValue:t(r),"onUpdate:modelValue":S[2]||(S[2]=x=>He(r)?r.value=x:null),"virtual-element":t(k)},{default:s(()=>[K("div",Cn,[a(F,{label:"Загрузить",variant:"link",onClick:S[1]||(S[1]=x=>_("image-file"))})])]),_:1},8,["modelValue","virtual-element"])):M("",!0)]),_:1})])}}}),xn={class:"flex grid grid-cols-6 gap-3 mb-3"},oe=T({__name:"LabelSlot",props:{label:{type:String,default:""},labelClass:{type:String,default:"col-span-1"},inputClass:{type:String,default:"col-span-5 break-words"}},setup(e){const o=e;return(u,m)=>(i(),$("div",xn,[K("div",{class:N(o.labelClass)},U(o.label),3),K("div",{class:N(o.inputClass)},[ue(u.$slots,"default")],2)]))}}),On=De(ve.ui.strategy,ve.ui.horizontalNavigation,Xt),Tn=T({components:{UIcon:$e,UAvatar:ot,UBadge:Ne,ULink:lt},inheritAttrs:!1,props:{links:{type:Array,default:()=>[]},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},setup(e){const{ui:o,attrs:u}=Me("horizontalNavigation",H(e,"ui"),On,H(e,"class")),m=A(()=>Array.isArray(e.links[0])?e.links:[e.links]);return{ui:o,attrs:u,sections:m,getULinkProps:Vt,twMerge:et,twJoin:tt}}}),Mn={key:0,class:"sr-only"};function An(e,o,u,m,n,l){const d=ot,c=$e,_=Ne,p=lt;return i(),$("nav",fe({class:e.ui.wrapper},e.attrs),[(i(!0),$(P,null,Y(e.sections,(y,f)=>(i(),$("ul",{key:`section${f}`,class:N(e.ui.container)},[(i(!0),$(P,null,Y(y,(r,k)=>(i(),$("li",{key:`section${f}-${k}`,class:N(e.ui.inner)},[a(p,fe({ref_for:!0},e.getULinkProps(r),{class:[e.ui.base,e.ui.before,e.ui.after],"active-class":e.ui.active,"inactive-class":e.ui.inactive,onClick:r.click,onKeyup:o[0]||(o[0]=je(w=>w.target.blur(),["enter"]))}),{default:s(({isActive:w})=>[ue(e.$slots,"avatar",{link:r,isActive:w},()=>[r.avatar?(i(),I(d,fe({key:0,ref_for:!0},{size:e.ui.avatar.size,...r.avatar},{class:[e.ui.avatar.base]}),null,16,["class"])):M("",!0)]),ue(e.$slots,"icon",{link:r,isActive:w},()=>[r.icon?(i(),I(c,{key:0,name:r.icon,class:N(e.twMerge(e.twJoin(e.ui.icon.base,w?e.ui.icon.active:e.ui.icon.inactive),r.iconClass))},null,8,["name","class"])):M("",!0)]),ue(e.$slots,"default",{link:r,isActive:w},()=>[r.label?(i(),$("span",{key:0,class:N(e.twMerge(e.ui.label,r.labelClass))},[w?(i(),$("span",Mn," Current page: ")):M("",!0),V(" "+U(r.label),1)],2)):M("",!0)]),ue(e.$slots,"badge",{link:r,isActive:w},()=>[r.badge?(i(),I(_,fe({key:0,ref_for:!0},{size:e.ui.badge.size,color:e.ui.badge.color,variant:e.ui.badge.variant,...typeof r.badge=="string"||typeof r.badge=="number"?{label:r.badge}:r.badge},{class:e.ui.badge.base}),null,16,["class"])):M("",!0)])]),_:2},1040,["class","active-class","inactive-class","onClick"])],2))),128))],2))),128))],16)}const Bn=Te(Tn,[["render",An]]),le=T({__name:"NaviHorizont",props:{navlen:{type:Number,default:3},candId:{type:String,default:""},inputId:{type:String,default:""},item:{type:String,default:""}},emits:["delete","update"],setup(e,{emit:o}){const u=X(),m=G(),n=o,l=e,{open:d,reset:c,onCancel:_,onChange:p}=Et({multiple:!0});p(async f=>{if(!f)return;const r=new FormData;if(f){for(const k of f)r.append("file",k);await m(`/api/file/${l.item}/${l.candId}`,{method:"POST",body:r}),u.add({icon:"i-heroicons-check-circle",title:"Информация",description:"Файлы успешно загружены",color:"green"})}c()}),_(()=>{c()});const y=[{label:"Изменить",icon:"i-heroicons-pencil-square",click:()=>n("update")},{label:"Удалить",icon:"i-heroicons-trash",click:()=>n("delete")},{label:"Загрузить",icon:"i-heroicons-cloud-arrow-up",slot:"upload",click:()=>d()}];return(f,r)=>{const k=Bn;return i(),I(k,{links:y.slice(0,l.navlen)},null,8,["links"])}}}),Pn={key:0},qn={key:1},jn={key:1},Ln=T({__name:"ResumeDiv",props:{editable:{type:Boolean,default:!1},candId:{type:String,default:""},person:{type:Object,default:{}}},emits:["update"],setup(e,{emit:o}){te(["FormsResumeForm","ElementsSkeletonDiv"]);const u=o,m=X(),n=G(),l=e,d=D(!1),c=D(""),_=D(!1),p=D(!1);async function y(){confirm("Вы действительно хотите изменить регион?")&&(await n(`/api/region/${l.candId}`,{params:{region:c.value}}),u("update"),m.add({icon:"i-heroicons-check-circle",title:"Информация",description:"Изменение региона успешно",color:"green"}))}async function f(){l.person.destination&&(p.value=!0,await n("/api/folder",{params:{folder:l.person.destination}}),p.value=!1)}async function r(b){_.value=!0,d.value=!1,await n("/api/persons/"+l.candId,{method:"POST",body:b}),m.add({icon:"i-heroicons-check-circle",title:"Успешно",description:"Информация обновлена",color:"green"}),_.value=!1,u("update")}async function k(){if(confirm("Вы действительно хотите удалить запись?"))return _.value=!0,await n(`/api/persons/${l.candId}`,{method:"DELETE"}),m.add({icon:"i-heroicons-information-circle",title:"Информация",description:`Запись с ID ${l.candId} удалена`,color:"primary"}),_.value=!1,qt("candidates"),Ft("/persons")}async function w(){d.value=!1,u("update")}return(b,S)=>{const h=Lt,g=ae,F=be,C=oe,z=R,x=le,O=Z;return i(),I(O,null,ne({default:s(()=>[t(d)?(i(),$("div",Pn,[a(h,{resume:l.person,onCancel:w,onUpdate:r},null,8,["resume"])])):(i(),$("div",qn,[t(_)?(i(),I(g,{key:0,rows:14})):(i(),$("div",jn,[a(C,{label:"Регион"},{default:s(()=>[a(F,{modelValue:t(c),"onUpdate:modelValue":S[0]||(S[0]=E=>He(c)?c.value=E:null),style:{width:"20%"},options:["Главный офис","РЦ Юг","РЦ Запад","РЦ Урал","РЦ Восток"],disabled:!l.editable,placeholder:l.person.region,onChange:y},null,8,["modelValue","disabled","placeholder"])]),_:1}),a(C,{label:"Фамилия"},{default:s(()=>[V(U(l.person.surname),1)]),_:1}),a(C,{label:"Имя"},{default:s(()=>[V(U(l.person.firstname),1)]),_:1}),a(C,{label:"Отчество"},{default:s(()=>[V(U(l.person.patronymic),1)]),_:1}),a(C,{label:"Дата рождения"},{default:s(()=>[V(U(t(ce)(l.person.birthday,"DD.MM.YYYY")),1)]),_:1}),a(C,{label:"Место рождения"},{default:s(()=>[V(U(l.person.birthplace),1)]),_:1}),a(C,{label:"Гражданство"},{default:s(()=>[V(U(l.person.citizenship),1)]),_:1}),l.person.dual?(i(),I(C,{key:0,label:"Двойное гражданство"},{default:s(()=>[V(U(l.person.dual),1)]),_:1})):M("",!0),a(C,{label:"СНИЛС"},{default:s(()=>[V(U(l.person.snils),1)]),_:1}),a(C,{label:"ИНН"},{default:s(()=>[V(U(l.person.inn),1)]),_:1}),a(C,{label:"Семейное положение"},{default:s(()=>[V(U(l.person.marital),1)]),_:1}),a(C,{label:"Дата записи"},{default:s(()=>[V(U(t(ce)(l.person.created,"DD.MM.YYYY HH:mm")),1)]),_:1}),a(C,{label:"Пользователь"},{default:s(()=>[V(U(l.person.username?l.person.username:""),1)]),_:1}),l.person.addition?(i(),I(C,{key:1,label:"Дополнительная информация"},{default:s(()=>[V(U(l.person.addition),1)]),_:1})):M("",!0),a(C,{label:"Материалы"},{default:s(()=>[a(z,{loading:t(p),label:"Открыть",variant:"link",onClick:f},null,8,["loading"])]),_:1})]))]))]),_:2},[l.editable&&!t(d)?{name:"footer",fn:s(()=>[a(x,{"cand-id":l.candId,item:"persons",onDelete:k,onUpdate:S[1]||(S[1]=E=>d.value=!0)},null,8,["cand-id"])]),key:"0"}:void 0]),1024)}}}),Hn=T({__name:"StaffForm",props:{staff:{type:Object,default:{}},candId:{type:String,default:""}},emits:["cancel","update"],setup(e,{emit:o}){const u=o,n=H(e.staff);function l(){u("update",n.value),c()}function d(){u("cancel"),c()}function c(){Object.assign(n.value,{position:"",department:""})}return(_,p)=>{const y=pe,f=re,r=ie,k=de;return i(),I(k,{state:t(n),onSubmit:ee(l,["prevent"])},{default:s(()=>[a(f,{class:"mb-3",label:"Должность"},{default:s(()=>[a(y,{modelValue:t(n).position,"onUpdate:modelValue":p[0]||(p[0]=w=>t(n).position=w),modelModifiers:{trim:!0,lazy:!0},required:"",placeholder:"Должность"},null,8,["modelValue"])]),_:1}),a(f,{class:"mb-3",label:"Подразделение"},{default:s(()=>[a(y,{modelValue:t(n).department,"onUpdate:modelValue":p[1]||(p[1]=w=>t(n).department=w),modelModifiers:{trim:!0,lazy:!0},placeholder:"Подразделение"},null,8,["modelValue"])]),_:1}),a(r,{onCancel:d})]),_:1},8,["state"])}}}),Nn={key:0,class:"py-3"},Yn={key:1},Rn={key:1},Gn={key:2,class:"p-3"},Wn={key:1,class:"text-primary"},Kn=T({__name:"StaffDiv",props:{candId:{type:String,default:""},editable:{type:Boolean,default:!1}},async setup(e){let o,u;te(["FormsStaffForm","ElementsSkeletonDiv"]);const m=G(),n=X(),l=e,d=D(!1),c=D(!1),_=D(!1),p=D(""),y=D({}),{data:f,refresh:r,status:k}=([o,u]=Q(async()=>se("staffs",async()=>await m("/api/staffs/"+l.candId))),o=await o,u(),o);async function w(g){c.value=!0,h(),await m("/api/staffs/"+l.candId,{method:"POST",body:g}),n.add({icon:"i-heroicons-check-circle",title:"Успешно",description:"Информация обновлена",color:"green"}),c.value=!1,r()}async function b(g){h(),confirm("Вы действительно хотите удалить запись?")&&(await m("/api/staffs/"+g,{method:"DELETE"}),n.add({icon:"i-heroicons-information-circle",title:"Информация",description:`Запись с ID ${g} удалена`,color:"primary"}),r())}function S(){h(),r()}function h(){_.value=!1,p.value="",d.value=!1}return(g,F)=>{const C=R,z=Hn,x=Z,O=ae,E=oe,q=le;return i(),$(P,null,[l.editable?(i(),I(C,{key:0,label:t(d)?"Скрыть форму":"Добавить запись",variant:"link",onClick:F[0]||(F[0]=v=>d.value=!t(d))},null,8,["label"])):M("",!0),a(J,{name:"slide-fade"},{default:s(()=>[t(d)?(i(),$("div",Nn,[a(x,null,{default:s(()=>[a(z,{"cand-id":l.candId,onCancel:S,onUpdate:w},null,8,["cand-id"])]),_:1})])):M("",!0)]),_:1}),t(f)&&t(f).length?(i(),$("div",Yn,[(i(!0),$(P,null,Y(t(f),(v,B)=>(i(),$("div",{key:B,class:"p-1"},[t(k)=="pending"||t(c)?(i(),I(O,{key:0,rows:2})):(i(),I(x,{key:1},ne({default:s(()=>[t(_)&&t(p)==v.id.toString()?(i(),I(z,{key:0,"cand-id":l.candId,staff:t(y),onCancel:S,onUpdate:w},null,8,["cand-id","staff"])):(i(),$("div",Rn,[a(E,{label:"Должность"},{default:s(()=>[V(U(v.position),1)]),_:2},1024),a(E,{label:"Департамент"},{default:s(()=>[V(U(v.department),1)]),_:2},1024)]))]),_:2},[l.editable&&(!t(_)||t(p)!=v.id.toString())?{name:"footer",fn:s(()=>[a(q,{navlen:2,onDelete:j=>b(v.id),onUpdate:j=>{y.value=v,p.value=v.id.toString(),_.value=!0}},null,8,["onDelete","onUpdate"])]),key:"0"}:void 0]),1024))]))),128))])):(i(),$("div",Gn,[t(k)=="pending"||t(c)?(i(),I(O,{key:0,rows:2})):(i(),$("p",Wn,"Данные о должностях отсутствуют"))]))],64)}}}),Jn=T({__name:"EducationForm",props:{education:{type:Object,default:{}},candId:{type:String,default:""}},emits:["cancel","update"],setup(e,{emit:o}){const u=o,n=H(e.education);function l(){u("update",n.value),c()}function d(){u("cancel"),c()}function c(){Object.assign(n.value,{view:"",institution:"",finished:"",specialty:""})}return(_,p)=>{const y=be,f=re,r=pe,k=ie,w=de;return i(),I(w,{state:t(n),onSubmit:ee(l,["prevent"])},{default:s(()=>[a(f,{class:"mb-3",label:"Вид образования"},{default:s(()=>[a(y,{modelValue:t(n).view,"onUpdate:modelValue":p[0]||(p[0]=b=>t(n).view=b),required:"",options:["Основное общее","Среднее общее","Среднее профессиональное","Высшее","Неоконченное высшее образование","Другое образование"]},null,8,["modelValue"])]),_:1}),a(f,{class:"mb-3",label:"Название учебного заведения"},{default:s(()=>[a(r,{modelValue:t(n).institution,"onUpdate:modelValue":p[1]||(p[1]=b=>t(n).institution=b),modelModifiers:{trim:!0,lazy:!0},required:"",placeholder:"Название учебного заведения"},null,8,["modelValue"])]),_:1}),a(f,{class:"mb-3",label:"Год окончания"},{default:s(()=>[a(r,{modelValue:t(n).finished,"onUpdate:modelValue":p[2]||(p[2]=b=>t(n).finished=b),modelModifiers:{trim:!0,lazy:!0},placeholder:"Год окончания"},null,8,["modelValue"])]),_:1}),a(f,{class:"mb-3",label:"Специальность"},{default:s(()=>[a(r,{modelValue:t(n).specialty,"onUpdate:modelValue":p[3]||(p[3]=b=>t(n).specialty=b),modelModifiers:{trim:!0,lazy:!0},placeholder:"Специальность"},null,8,["modelValue"])]),_:1}),a(k,{onCancel:d})]),_:1},8,["state"])}}}),Qn={key:0,class:"py-3"},Xn={key:1},Zn={key:1},ea={key:2,class:"p-3"},ta={key:1,class:"text-primary"},na=T({__name:"EducateDiv",props:{candId:{type:String,default:""},editable:{type:Boolean,default:!1}},async setup(e){let o,u;te(["FormsEducationForm","ElementsSkeletonDiv"]);const m=G(),n=X(),l=e,d=D(!1),c=D(!1),_=D(""),p=D(!1),y=D({}),{data:f,refresh:r,status:k}=([o,u]=Q(async()=>se("educations",async()=>await m("/api/educations/"+l.candId))),o=await o,u(),o);async function w(g){c.value=!0,h(),await m("/api/educations/"+l.candId,{method:"POST",body:g}),n.add({icon:"i-heroicons-check-circle",title:"Успешно",description:"Информация обновлена",color:"green"}),c.value=!1,r()}async function b(g){h(),confirm("Вы действительно хотите удалить запись?")&&(await m("/api/educations/"+g,{method:"DELETE"}),n.add({icon:"i-heroicons-information-circle",title:"Информация",description:`Запись с ID ${g} удалена`,color:"primary"}),r())}async function S(){h(),r()}function h(){p.value=!1,_.value="",d.value=!1}return(g,F)=>{const C=R,z=Jn,x=Z,O=ae,E=oe,q=le;return i(),$(P,null,[l.editable?(i(),I(C,{key:0,label:t(d)?"Скрыть форму":"Добавить запись",variant:"link",onClick:F[0]||(F[0]=v=>d.value=!t(d))},null,8,["label"])):M("",!0),a(J,{name:"slide-fade"},{default:s(()=>[t(d)?(i(),$("div",Qn,[a(x,null,{default:s(()=>[a(z,{"cand-id":l.candId,onCancel:S,onUpdate:w},null,8,["cand-id"])]),_:1})])):M("",!0)]),_:1}),t(f)&&t(f).length?(i(),$("div",Xn,[(i(!0),$(P,null,Y(t(f),(v,B)=>(i(),$("div",{key:B,class:"p-1"},[t(k)=="pending"||t(c)?(i(),I(O,{key:0,rows:8})):(i(),I(x,{key:1},ne({default:s(()=>[t(p)&&t(_)==v.id.toString()?(i(),I(z,{key:0,"cand-id":l.candId,education:t(y),onCancel:S,onUpdate:w},null,8,["cand-id","education"])):(i(),$("div",Zn,[a(E,{label:"Уровень образования"},{default:s(()=>[V(U(v.view),1)]),_:2},1024),a(E,{label:"Название учебного заведения"},{default:s(()=>[V(U(v.institution),1)]),_:2},1024),a(E,{label:"Год окончания"},{default:s(()=>[V(U(v.finished),1)]),_:2},1024),a(E,{label:"Специальность"},{default:s(()=>[V(U(v.specialty),1)]),_:2},1024)]))]),_:2},[l.editable&&(!t(p)||t(_)!=v.id.toString())?{name:"footer",fn:s(()=>[a(q,{navlen:2,onDelete:j=>b(v.id),onUpdate:j=>{y.value=v,_.value=v.id.toString(),p.value=!0}},null,8,["onDelete","onUpdate"])]),key:"0"}:void 0]),1024))]))),128))])):(i(),$("div",ea,[t(k)=="pending"||t(c)?(i(),I(O,{key:0,rows:8})):(i(),$("p",ta,"Данные отсутствуют"))]))],64)}}}),aa=T({__name:"WorkplaceForm",props:{work:{type:Object,default:{}},candId:{type:String,default:""}},emits:["cancel","update"],setup(e,{emit:o}){const u=o,n=H(e.work);n.value.starts=n.value.starts?ce(n.value.starts,"YYYY-MM-DD").value:"",n.value.finished=n.value.finished?ce(n.value.finished,"YYYY-MM-DD").value:"";function l(){u("update",n.value),c()}function d(){u("cancel"),c()}function c(){Object.assign(n.value,{now_work:!1,starts:"",finished:"",workplace:"",position:"",addresses:"",reason:""})}return(_,p)=>{const y=Ht,f=re,r=pe,k=ie,w=de;return i(),I(w,{state:t(n),onSubmit:ee(l,["prevent"])},{default:s(()=>[a(f,{class:"mb-3",label:"Текущая работа"},{default:s(()=>[a(y,{modelValue:t(n).now_work,"onUpdate:modelValue":p[0]||(p[0]=b=>t(n).now_work=b)},null,8,["modelValue"])]),_:1}),a(f,{class:"mb-3",label:"Начало работы"},{default:s(()=>[a(r,{modelValue:t(n).starts,"onUpdate:modelValue":p[1]||(p[1]=b=>t(n).starts=b),required:"",placeholder:"Начало работы",type:"date"},null,8,["modelValue"])]),_:1}),a(f,{class:"mb-3",label:"Окончание работы"},{default:s(()=>[a(r,{modelValue:t(n).finished,"onUpdate:modelValue":p[2]||(p[2]=b=>t(n).finished=b),required:"",placeholder:"Окончание работы",type:"date"},null,8,["modelValue"])]),_:1}),a(f,{class:"mb-3",label:"Место работы"},{default:s(()=>[a(r,{modelValue:t(n).workplace,"onUpdate:modelValue":p[3]||(p[3]=b=>t(n).workplace=b),modelModifiers:{trim:!0,lazy:!0},required:"",placeholder:"Место работы"},null,8,["modelValue"])]),_:1}),a(f,{class:"mb-3",label:"Должность"},{default:s(()=>[a(r,{modelValue:t(n).position,"onUpdate:modelValue":p[4]||(p[4]=b=>t(n).position=b),modelModifiers:{trim:!0,lazy:!0},required:"",placeholder:"Должность"},null,8,["modelValue"])]),_:1}),a(f,{class:"mb-3",label:"Адрес организации"},{default:s(()=>[a(r,{modelValue:t(n).addresses,"onUpdate:modelValue":p[5]||(p[5]=b=>t(n).addresses=b),modelModifiers:{trim:!0,lazy:!0},placeholder:"Адрес организации"},null,8,["modelValue"])]),_:1}),a(f,{class:"mb-3",label:"Причина увольнения"},{default:s(()=>[a(r,{modelValue:t(n).reason,"onUpdate:modelValue":p[6]||(p[6]=b=>t(n).reason=b),modelModifiers:{trim:!0,lazy:!0},placeholder:"Причина увольнения"},null,8,["modelValue"])]),_:1}),a(k,{onCancel:d})]),_:1},8,["state"])}}}),oa={key:0,class:"py-3"},la={key:1},sa={key:1},ia={key:2,class:"p-3"},ra={key:1,class:"text-primary"},da=T({__name:"WorkDiv",props:{candId:{type:String,default:""},editable:{type:Boolean,default:!1}},async setup(e){let o,u;te(["FormsWorkForm","ElementsSkeletonDiv"]);const m=G(),n=X(),l=e,d=D(!1),c=D(!1),_=D(!1),p=D(""),y=D({}),{data:f,refresh:r,status:k}=([o,u]=Q(async()=>se("workplaces",async()=>await m("/api/workplaces/"+l.candId))),o=await o,u(),o);async function w(g){c.value=!1,h(),await m("/api/workplaces/"+l.candId,{method:"POST",body:g}),n.add({icon:"i-heroicons-check-circle",title:"Успешно",description:"Информация обновлена",color:"green"}),c.value=!1,r()}async function b(g){h(),confirm("Вы действительно хотите удалить запись?")&&(await m("/api/workplaces/"+g,{method:"DELETE"}),n.add({icon:"i-heroicons-information-circle",title:"Информация",description:`Запись с ID ${g} удалена`,color:"primary"}),r())}async function S(){h(),r()}function h(){_.value=!1,p.value="",d.value=!1}return(g,F)=>{const C=R,z=aa,x=Z,O=ae,E=oe,q=le;return i(),$(P,null,[l.editable?(i(),I(C,{key:0,label:t(d)?"Скрыть форму":"Добавить запись",variant:"link",onClick:F[0]||(F[0]=v=>d.value=!t(d))},null,8,["label"])):M("",!0),a(J,{name:"slide-fade"},{default:s(()=>[t(d)?(i(),$("div",oa,[a(x,null,{default:s(()=>[a(z,{"cand-id":l.candId,onCancel:S,onUpdate:w},null,8,["cand-id"])]),_:1})])):M("",!0)]),_:1}),t(f)&&t(f).length?(i(),$("div",la,[(i(!0),$(P,null,Y(t(f),(v,B)=>(i(),$("div",{key:B,class:"p-1"},[t(k)=="pending"||t(c)?(i(),I(O,{key:0,rows:8})):(i(),I(x,{key:1},ne({default:s(()=>[t(_)&&t(p)==v.id.toString()?(i(),I(z,{key:0,"cand-id":l.candId,work:t(y),onCancel:S,onUpdate:w},null,8,["cand-id","work"])):(i(),$("div",sa,[v.now_work?(i(),I(E,{key:0,label:"Текущая работа"},{default:s(()=>[V(U(v.now_work?"Да":"Нет"),1)]),_:2},1024)):M("",!0),a(E,{label:"Начало работы"},{default:s(()=>[V(U(t(ce)(v.starts,"DD.MM.YYYY")),1)]),_:2},1024),v.now_work?M("",!0):(i(),I(E,{key:1,label:"Окончание работы"},{default:s(()=>[V(U(t(ce)(v.finished,"DD.MM.YYYY")),1)]),_:2},1024)),a(E,{label:"Место работы"},{default:s(()=>[V(U(v.workplace),1)]),_:2},1024),a(E,{label:"Адрес"},{default:s(()=>[V(U(v.addresses),1)]),_:2},1024),a(E,{label:"Должность"},{default:s(()=>[V(U(v.position),1)]),_:2},1024),v.reason?(i(),I(E,{key:2,label:"Причина увольнения"},{default:s(()=>[V(U(v.reason),1)]),_:2},1024)):M("",!0)]))]),_:2},[l.editable&&(!t(_)||t(p)!=v.id.toString())?{name:"footer",fn:s(()=>[a(q,{navlen:2,onDelete:j=>b(v.id),onUpdate:j=>{y.value=v,p.value=v.id.toString(),_.value=!0}},null,8,["onDelete","onUpdate"])]),key:"0"}:void 0]),1024))]))),128))])):(i(),$("div",ia,[t(k)=="pending"||t(c)?(i(),I(O,{key:0,rows:8})):(i(),$("p",ra,"Данные о работе отсутствуют"))]))],64)}}}),ua=T({__name:"DocumentForm",props:{docs:{type:Object,default:{}},candId:{type:String,default:""}},emits:["cancel","update"],setup(e,{emit:o}){const u=o,n=H(e.docs);n.value.issue=n.value.issue?ce(n.value.issue,"YYYY-MM-DD").value:"";function l(){u("update",n.value),c()}function d(){u("cancel"),c()}function c(){Object.assign(n.value,{view:"",series:"",digits:"",agency:"",issue:""})}return(_,p)=>{const y=be,f=re,r=pe,k=ie,w=de;return i(),I(w,{state:t(n),onSubmit:ee(l,["prevent"])},{default:s(()=>[a(f,{class:"mb-3",label:"Вид документа"},{default:s(()=>[a(y,{modelValue:t(n).view,"onUpdate:modelValue":p[0]||(p[0]=b=>t(n).view=b),required:"",options:["Паспорт","Иностарнный паспорт","Другое"]},null,8,["modelValue"])]),_:1}),a(f,{class:"mb-3",label:"Серия документа"},{default:s(()=>[a(r,{modelValue:t(n).series,"onUpdate:modelValue":p[1]||(p[1]=b=>t(n).series=b),modelModifiers:{trim:!0,lazy:!0},placeholder:"Серия документа"},null,8,["modelValue"])]),_:1}),a(f,{class:"mb-3",label:"Номер документа"},{default:s(()=>[a(r,{modelValue:t(n).digits,"onUpdate:modelValue":p[2]||(p[2]=b=>t(n).digits=b),modelModifiers:{trim:!0,lazy:!0},required:"",placeholder:"Номер документа"},null,8,["modelValue"])]),_:1}),a(f,{class:"mb-3",label:"Кем выдан"},{default:s(()=>[a(r,{modelValue:t(n).agency,"onUpdate:modelValue":p[3]||(p[3]=b=>t(n).agency=b),modelModifiers:{trim:!0},placeholder:"Кем выдан"},null,8,["modelValue"])]),_:1}),a(f,{class:"mb-3",label:"Дата выдачи"},{default:s(()=>[a(r,{modelValue:t(n).issue,"onUpdate:modelValue":p[4]||(p[4]=b=>t(n).issue=b),modelModifiers:{trim:!0,lazy:!0},required:"",type:"date"},null,8,["modelValue"])]),_:1}),a(k,{onCancel:d})]),_:1},8,["state"])}}}),ca={key:0,class:"py-3"},pa={key:1},ma={key:1},fa={key:2,class:"p-3"},_a={key:1,class:"text-primary"},va=T({__name:"DocumDiv",props:{candId:{type:String,default:""},editable:{type:Boolean,default:!1}},async setup(e){let o,u;te(["FormsDocumentForm","ElementsSkeletonDiv"]);const m=G(),n=X(),l=e,d=D(!1),c=D(!1),_=D(""),p=D(!1),y=D({}),{data:f,refresh:r,status:k}=([o,u]=Q(async()=>se("documents",async()=>await m("/api/documents/"+l.candId))),o=await o,u(),o);async function w(g){c.value=!0,h(),await m("/api/documents/"+l.candId,{method:"POST",body:g}),n.add({icon:"i-heroicons-check-circle",title:"Успешно",description:"Информация обновлена",color:"green"}),c.value=!1,r()}async function b(g){h(),confirm("Вы действительно хотите удалить запись?")&&(await m("/api/documents/"+g,{method:"DELETE"}),n.add({icon:"i-heroicons-information-circle",title:"Информация",description:`Запись с ID ${g} удалена`,color:"primary"}),r())}async function S(){h(),r()}function h(){p.value=!1,_.value="",d.value=!1}return(g,F)=>{const C=R,z=ua,x=Z,O=ae,E=oe,q=le;return i(),$(P,null,[l.editable?(i(),I(C,{key:0,label:t(d)?"Скрыть форму":"Добавить запись",variant:"link",onClick:F[0]||(F[0]=v=>d.value=!t(d))},null,8,["label"])):M("",!0),a(J,{name:"slide-fade"},{default:s(()=>[t(d)?(i(),$("div",ca,[a(x,null,{default:s(()=>[a(z,{"cand-id":l.candId,onCancel:S,onUpdate:w},null,8,["cand-id"])]),_:1})])):M("",!0)]),_:1}),t(f)&&t(f).length?(i(),$("div",pa,[(i(!0),$(P,null,Y(t(f),(v,B)=>(i(),$("div",{key:B,class:"p-1"},[t(k)=="pending"||t(c)?(i(),I(O,{key:0,rows:8})):(i(),I(x,{key:1},ne({default:s(()=>[t(p)&&t(_)==v.id.toString()?(i(),I(z,{key:0,"cand-id":l.candId,docs:t(y),onCancel:S,onUpdate:w},null,8,["cand-id","docs"])):(i(),$("div",ma,[a(E,{label:"Вид документа"},{default:s(()=>[V(U(v.view),1)]),_:2},1024),a(E,{label:"Номер документа"},{default:s(()=>[V(U(v.digits),1)]),_:2},1024),a(E,{label:"Серия документа"},{default:s(()=>[V(U(v.series),1)]),_:2},1024),a(E,{label:"Дата выдачи"},{default:s(()=>[V(U(t(ce)(v.issue,"DD.MM.YYYY")),1)]),_:2},1024),a(E,{label:"Кем выдан"},{default:s(()=>[V(U(v.agency),1)]),_:2},1024)]))]),_:2},[l.editable&&(!t(p)||t(_)!=v.id.toString())?{name:"footer",fn:s(()=>[a(q,{navlen:2,onDelete:j=>b(v.id),onUpdate:j=>{y.value=v,_.value=v.id.toString(),p.value=!0}},null,8,["onDelete","onUpdate"])]),key:"0"}:void 0]),1024))]))),128))])):(i(),$("div",fa,[t(k)=="pending"||t(c)?(i(),I(O,{key:0,rows:8})):(i(),$("p",_a,"Данные отсутствуют"))]))],64)}}}),ba=T({__name:"AddressForm",props:{addrs:{type:Object,default:{}},candId:{type:String,default:""}},emits:["cancel","update"],setup(e,{emit:o}){const u=o,n=H(e.addrs);function l(){u("update",n.value),c()}function d(){u("cancel"),c()}function c(){Object.assign(n.value,{view:"",addresses:""})}return(_,p)=>{const y=be,f=re,r=pe,k=ie,w=de;return i(),I(w,{state:t(n),onSubmit:ee(l,["prevent"])},{default:s(()=>[a(f,{class:"mb-3",label:"Вид адреса"},{default:s(()=>[a(y,{modelValue:t(n).view,"onUpdate:modelValue":p[0]||(p[0]=b=>t(n).view=b),modelModifiers:{trim:!0,lazy:!0},required:"",options:["Адрес регистрации","Адрес проживания","Другое"]},null,8,["modelValue"])]),_:1}),a(f,{class:"mb-3",label:"Адрес"},{default:s(()=>[a(r,{modelValue:t(n).addresses,"onUpdate:modelValue":p[1]||(p[1]=b=>t(n).addresses=b),modelModifiers:{trim:!0,lazy:!0},required:"",placeholder:"Адрес"},null,8,["modelValue"])]),_:1}),a(k,{onCancel:d})]),_:1},8,["state"])}}}),ya={key:0,class:"p-1"},ga={key:1},ha={key:1},ka={key:2,class:"p-3"},wa={key:1,class:"text-primary"},$a=T({__name:"AddressDiv",props:{candId:{type:String,default:""},editable:{type:Boolean,default:!1}},async setup(e){let o,u;te(["FormsAddressForm","ElementsSkeletonDiv"]);const m=G(),n=X(),l=e,d=D(!1),c=D(!1),_=D(!1),p=D(""),y=D({}),{data:f,refresh:r,status:k}=([o,u]=Q(async()=>se("addresses",async()=>await m("/api/addresses/"+l.candId))),o=await o,u(),o);async function w(g){c.value=!0,h(),await m("/api/addresses/"+l.candId,{method:"POST",body:g}),n.add({icon:"i-heroicons-check-circle",title:"Успешно",description:"Информация обновлена",color:"green"}),c.value=!1,r()}async function b(g){h(),confirm("Вы действительно хотите удалить запись?")&&(await m("/api/addresses/"+g,{method:"DELETE"}),n.add({icon:"i-heroicons-information-circle",title:"Информация",description:`Запись с ID ${g} удалена`,color:"primary"}),r())}async function S(){h(),r()}function h(){_.value=!1,d.value=!1,p.value=""}return(g,F)=>{const C=R,z=ba,x=Z,O=ae,E=oe,q=le;return i(),$(P,null,[l.editable?(i(),I(C,{key:0,label:t(d)?"Скрыть форму":"Добавить запись",variant:"link",onClick:F[0]||(F[0]=v=>d.value=!t(d))},null,8,["label"])):M("",!0),a(J,{name:"slide-fade"},{default:s(()=>[t(d)?(i(),$("div",ya,[a(x,null,{default:s(()=>[a(z,{"cand-id":l.candId,onCancel:S,onUpdate:w},null,8,["cand-id"])]),_:1})])):M("",!0)]),_:1}),t(f)&&t(f).length?(i(),$("div",ga,[(i(!0),$(P,null,Y(t(f),(v,B)=>(i(),$("div",{key:B,class:"py-3"},[t(k)=="pending"||t(c)?(i(),I(O,{key:0,rows:8})):(i(),I(x,{key:1},ne({default:s(()=>[t(_)&&t(p)==v.id.toString()?(i(),I(z,{key:0,"cand-id":l.candId,addrs:t(y),onCancel:S,onUpdate:w},null,8,["cand-id","addrs"])):(i(),$("div",ha,[a(E,{label:"Тип"},{default:s(()=>[V(U(v.view),1)]),_:2},1024),a(E,{label:"Адрес"},{default:s(()=>[V(U(v.addresses),1)]),_:2},1024)]))]),_:2},[l.editable&&(!t(_)||t(p)!=v.id.toString())?{name:"footer",fn:s(()=>[a(q,{navlen:2,onDelete:j=>b(v.id),onUpdate:j=>{y.value=v,p.value=v.id.toString(),_.value=!0}},null,8,["onDelete","onUpdate"])]),key:"0"}:void 0]),1024))]))),128))])):(i(),$("div",ka,[t(k)=="pending"||t(c)?(i(),I(O,{key:0,rows:8})):(i(),$("p",wa,"Адреса отсутствуют"))]))],64)}}}),Sa=T({__name:"ContactForm",props:{contact:{type:Object,default:{}},candId:{type:String,default:""}},emits:["cancel","update"],setup(e,{emit:o}){const u=o,n=H(e.contact);function l(){u("update",n.value),c()}function d(){u("cancel"),c()}function c(){Object.assign(n.value,{view:"",contact:""})}return(_,p)=>{const y=be,f=re,r=pe,k=ie,w=de;return i(),I(w,{state:t(n),onSubmit:ee(l,["prevent"])},{default:s(()=>[a(f,{class:"mb-3",label:"Вид контакта"},{default:s(()=>[a(y,{modelValue:t(n).view,"onUpdate:modelValue":p[0]||(p[0]=b=>t(n).view=b),modelModifiers:{trim:!0,lazy:!0},required:"",options:["Телефон","Электронная почта","Другое"]},null,8,["modelValue"])]),_:1}),a(f,{class:"mb-3",label:"Контакт"},{default:s(()=>[a(r,{modelValue:t(n).contact,"onUpdate:modelValue":p[1]||(p[1]=b=>t(n).contact=b),modelModifiers:{trim:!0,lazy:!0},required:"",placeholder:"Контакт"},null,8,["modelValue"])]),_:1}),a(k,{onCancel:d})]),_:1},8,["state"])}}}),Ia={key:0,class:"py-3"},Da={key:1},Ua={key:1},Va={key:2,class:"p-3"},Ea={key:1,class:"text-primary"},Fa=T({__name:"ContactDiv",props:{candId:{type:String,default:""},editable:{type:Boolean,default:!1}},async setup(e){let o,u;te(["FormsContactForm","ElementsSkeletonDiv"]);const m=G(),n=X(),l=e,d=D(!1),c=D(!1),_=D(""),p=D(!1),y=D({}),{data:f,refresh:r,status:k}=([o,u]=Q(async()=>se("contacts",async()=>await m("/api/contacts/"+l.candId))),o=await o,u(),o);async function w(g){c.value=!0,h(),await m("/api/contacts/"+l.candId,{method:"POST",body:g}),n.add({icon:"i-heroicons-check-circle",title:"Успешно",description:"Информация обновлена",color:"green"}),c.value=!1,r()}async function b(g){h(),confirm("Вы действительно хотите удалить запись?")&&(await m("/api/contacts/"+g,{method:"DELETE"}),n.add({icon:"i-heroicons-information-circle",title:"Информация",description:`Запись с ID ${g} удалена`,color:"primary"}),r())}async function S(){h(),r()}function h(){p.value=!1,_.value="",d.value=!1}return(g,F)=>{const C=R,z=Sa,x=Z,O=ae,E=oe,q=le;return i(),$(P,null,[l.editable?(i(),I(C,{key:0,label:t(d)?"Скрыть форму":"Добавить запись",variant:"link",onClick:F[0]||(F[0]=v=>d.value=!t(d))},null,8,["label"])):M("",!0),a(J,{name:"slide-fade"},{default:s(()=>[t(d)?(i(),$("div",Ia,[a(x,null,{default:s(()=>[a(z,{"cand-id":l.candId,onCancel:S,onUpdate:w},null,8,["cand-id"])]),_:1})])):M("",!0)]),_:1}),t(f)&&t(f).length?(i(),$("div",Da,[(i(!0),$(P,null,Y(t(f),(v,B)=>(i(),$("div",{key:B,class:"p-1"},[t(k)=="pending"||t(c)?(i(),I(O,{key:0,rows:8})):(i(),I(x,{key:1},ne({default:s(()=>[t(p)&&t(_)==v.id.toString()?(i(),I(z,{key:0,"cand-id":l.candId,contact:t(y),onCancel:S,onUpdate:w},null,8,["cand-id","contact"])):(i(),$("div",Ua,[a(E,{label:"Вид"},{default:s(()=>[V(U(v.view),1)]),_:2},1024),a(E,{label:"Контакт"},{default:s(()=>[V(U(v.contact),1)]),_:2},1024)]))]),_:2},[l.editable&&(!t(p)||t(_)!=v.id.toString())?{name:"footer",fn:s(()=>[a(q,{navlen:2,onDelete:j=>b(v.id),onUpdate:j=>{y.value=v,_.value=v.id.toString(),p.value=!0}},null,8,["onDelete","onUpdate"])]),key:"0"}:void 0]),1024))]))),128))])):(i(),$("div",Va,[t(k)=="pending"||t(c)?(i(),I(O,{key:0,rows:2})):(i(),$("p",Ea,"Данные отсутствуют"))]))],64)}}}),Ca=T({__name:"AffilationForm",props:{affils:{type:Object,default:{}},candId:{type:String,default:""}},emits:["cancel","update"],setup(e,{emit:o}){const u=o,n=H(e.affils);function l(){u("update",n.value),c()}function d(){u("cancel"),c()}function c(){Object.assign(n.value,{view:"",organization:"",inn:""})}return(_,p)=>{const y=be,f=re,r=pe,k=ie,w=de;return i(),I(w,{state:t(n),onSubmit:ee(l,["prevent"])},{default:s(()=>[a(f,{class:"mb-3",label:"Тип участия"},{default:s(()=>[a(y,{modelValue:t(n).view,"onUpdate:modelValue":p[0]||(p[0]=b=>t(n).view=b),modelModifiers:{trim:!0,lazy:!0},required:"",options:["Являлся государственным/муниципальным служащим","Являлся государственным должностным лицом","Связанные лица работают в государственных организациях","Участвует в деятельности коммерческих организаций"]},null,8,["modelValue"])]),_:1}),a(f,{class:"mb-3",label:"Организация"},{default:s(()=>[a(r,{modelValue:t(n).organization,"onUpdate:modelValue":p[1]||(p[1]=b=>t(n).organization=b),modelModifiers:{trim:!0,lazy:!0},required:"",placeholder:"Организация"},null,8,["modelValue"])]),_:1}),a(f,{class:"mb-3",label:"ИНН"},{default:s(()=>[a(r,{modelValue:t(n).inn,"onUpdate:modelValue":p[2]||(p[2]=b=>t(n).inn=b),modelModifiers:{trim:!0,lazy:!0},placeholder:"ИНН"},null,8,["modelValue"])]),_:1}),a(k,{onCancel:d})]),_:1},8,["state"])}}}),za={key:0,class:"py-3"},xa={key:1},Oa={key:1},Ta={key:2,class:"p-3"},Ma={key:1,class:"text-primary"},Aa=T({__name:"AffilDiv",props:{candId:{type:String,default:""},editable:{type:Boolean,default:!1}},async setup(e){let o,u;te(["FormsAffilationForm","ElementsSkeletonDiv"]);const m=G(),n=X(),l=e,d=D(!1),c=D(!1),_=D(!1),p=D(""),y=D({}),{data:f,refresh:r,status:k}=([o,u]=Q(async()=>se("affilations",async()=>await m("/api/affilations/"+l.candId))),o=await o,u(),o);async function w(g){c.value=!0,h(),await m("/api/affilations/"+l.candId,{method:"POST",body:g}),n.add({icon:"i-heroicons-check-circle",title:"Успешно",description:"Информация обновлена",color:"green"}),c.value=!1,r()}async function b(g){h(),confirm("Вы действительно хотите удалить запись?")&&(await m("/api/affilations/"+g,{method:"DELETE"}),n.add({icon:"i-heroicons-information-circle",title:"Информация",description:`Запись с ID ${g} удалена`,color:"primary"}),r())}async function S(){h(),r()}function h(){_.value=!1,p.value="",d.value=!1}return(g,F)=>{const C=R,z=Ca,x=Z,O=ae,E=oe,q=le;return i(),$(P,null,[l.editable?(i(),I(C,{key:0,label:t(d)?"Скрыть форму":"Добавить запись",variant:"link",onClick:F[0]||(F[0]=v=>d.value=!t(d))},null,8,["label"])):M("",!0),a(J,{name:"slide-fade"},{default:s(()=>[t(d)?(i(),$("div",za,[a(x,null,{default:s(()=>[a(z,{"cand-id":l.candId,onCancel:S,onUpdate:w},null,8,["cand-id"])]),_:1})])):M("",!0)]),_:1}),t(f)&&t(f).length?(i(),$("div",xa,[(i(!0),$(P,null,Y(t(f),(v,B)=>(i(),$("div",{key:B,class:"p-1"},[t(k)=="pending"||t(c)?(i(),I(O,{key:0,rows:8})):(i(),I(x,{key:1},ne({default:s(()=>[t(_)&&t(p)==v.id.toString()?(i(),I(z,{key:0,"cand-id":l.candId,affils:t(y),onCancel:S,onUpdate:w},null,8,["cand-id","affils"])):(i(),$("div",Oa,[a(E,{label:"Тип участия"},{default:s(()=>[V(U(v.view),1)]),_:2},1024),a(E,{label:"Организация"},{default:s(()=>[V(U(v.organization),1)]),_:2},1024),a(E,{label:"ИНН"},{default:s(()=>[V(U(v.inn),1)]),_:2},1024)]))]),_:2},[l.editable&&(!t(_)||t(p)!=v.id.toString())?{name:"footer",fn:s(()=>[a(q,{navlen:2,onDelete:j=>b(v.id),onUpdate:j=>{y.value=v,p.value=v.id.toString(),_.value=!0}},null,8,["onDelete","onUpdate"])]),key:"0"}:void 0]),1024))]))),128))])):(i(),$("div",Ta,[t(k)=="pending"||t(c)?(i(),I(O,{key:0,rows:8})):(i(),$("p",Ma,"Данные отсутствуют"))]))],64)}}}),Ba=T({__name:"PreviousForm",props:{previous:{type:Object,default:{}},candId:{type:String,default:""}},emits:["cancel","update"],setup(e,{emit:o}){const u=o,n=H(e.previous);function l(){u("update",n.value),c()}function d(){u("cancel"),c()}function c(){Object.assign(n.value,{surname:"",firstname:"",patronymic:"",changed:"",reason:""})}return(_,p)=>{const y=pe,f=re,r=ie,k=de;return i(),I(k,{state:t(n),onSubmit:ee(l,["prevent"])},{default:s(()=>[a(f,{class:"mb-3",label:"Фамилия"},{default:s(()=>[a(y,{modelValue:t(n).surname,"onUpdate:modelValue":p[0]||(p[0]=w=>t(n).surname=w),modelModifiers:{trim:!0,lazy:!0},required:"",placeholder:"Фамилия"},null,8,["modelValue"])]),_:1}),a(f,{class:"mb-3",label:"Имя"},{default:s(()=>[a(y,{modelValue:t(n).firstname,"onUpdate:modelValue":p[1]||(p[1]=w=>t(n).firstname=w),modelModifiers:{trim:!0,lazy:!0},required:"",placeholder:"Имя"},null,8,["modelValue"])]),_:1}),a(f,{class:"mb-3",label:"Отчество"},{default:s(()=>[a(y,{modelValue:t(n).patronymic,"onUpdate:modelValue":p[2]||(p[2]=w=>t(n).patronymic=w),modelModifiers:{trim:!0,lazy:!0},placeholder:"Отчество"},null,8,["modelValue"])]),_:1}),a(f,{class:"mb-3",label:"Год изменения"},{default:s(()=>[a(y,{modelValue:t(n).changed,"onUpdate:modelValue":p[3]||(p[3]=w=>t(n).changed=w),modelModifiers:{trim:!0,lazy:!0},placeholder:"Год изменения"},null,8,["modelValue"])]),_:1}),a(f,{class:"mb-3",label:"Причина изменения"},{default:s(()=>[a(y,{modelValue:t(n).reason,"onUpdate:modelValue":p[4]||(p[4]=w=>t(n).reason=w),modelModifiers:{trim:!0,lazy:!0},placeholder:"Причина изменения"},null,8,["modelValue"])]),_:1}),a(r,{onCancel:d})]),_:1},8,["state"])}}}),Pa={key:0,class:"py-3"},qa={key:1},ja={key:1},La={key:2,class:"p-3"},Ha={key:1,class:"text-primary"},Na=T({__name:"PrevDiv",props:{candId:{type:String,default:""},editable:{type:Boolean,default:!1}},async setup(e){let o,u;te(["FormsPreviousForm","ElementsSkeletonDiv"]);const m=G(),n=X(),l=e,d=D(!1),c=D(!1),_=D(!1),p=D(""),y=D({}),{data:f,refresh:r,status:k}=([o,u]=Q(async()=>se("previous",async()=>await m("/api/previous/"+l.candId))),o=await o,u(),o);async function w(g){c.value=!0,h(),await m("/api/previous/"+l.candId,{method:"POST",body:g}),n.add({icon:"i-heroicons-check-circle",title:"Успешно",description:"Информация обновлена",color:"green"}),c.value=!1,r()}async function b(g){h(),confirm("Вы действительно хотите удалить запись?")&&(await m("/api/previous/"+g,{method:"DELETE"}),n.add({icon:"i-heroicons-information-circle",title:"Информация",description:`Запись с ID ${g} удалена`,color:"primary"}),r())}async function S(){h(),r()}function h(){_.value=!1,p.value="",d.value=!1}return(g,F)=>{const C=R,z=Ba,x=Z,O=ae,E=oe,q=le;return i(),$(P,null,[l.editable?(i(),I(C,{key:0,label:t(d)?"Скрыть форму":"Добавить запись",variant:"link",onClick:F[0]||(F[0]=v=>d.value=!t(d))},null,8,["label"])):M("",!0),a(J,{name:"slide-fade"},{default:s(()=>[t(d)?(i(),$("div",Pa,[a(x,null,{default:s(()=>[a(z,{"cand-id":l.candId,onCancel:S,onUpdate:w},null,8,["cand-id"])]),_:1})])):M("",!0)]),_:1}),t(f)&&t(f).length?(i(),$("div",qa,[(i(!0),$(P,null,Y(t(f),(v,B)=>(i(),$("div",{key:B,class:"p-1"},[t(k)=="pending"||t(c)?(i(),I(O,{key:0,rows:4})):(i(),I(x,{key:1},ne({default:s(()=>[t(_)&&t(p)==v.id.toString()?(i(),I(z,{key:0,"cand-id":l.candId,previous:t(y),onCancel:S,onUpdate:w},null,8,["cand-id","previous"])):(i(),$("div",ja,[a(E,{label:"Фамилия"},{default:s(()=>[V(U(v.surname),1)]),_:2},1024),a(E,{label:"Имя"},{default:s(()=>[V(U(v.firstname),1)]),_:2},1024),v.patronymic?(i(),I(E,{key:0,label:"Отчество"},{default:s(()=>[V(U(v.patronymic),1)]),_:2},1024)):M("",!0),v.changed?(i(),I(E,{key:1,label:"Год изменения"},{default:s(()=>[V(U(v.changed),1)]),_:2},1024)):M("",!0),v.reason?(i(),I(E,{key:2,label:"Причина"},{default:s(()=>[V(U(v.reason),1)]),_:2},1024)):M("",!0)]))]),_:2},[l.editable&&(!t(_)||t(p)!=v.id.toString())?{name:"footer",fn:s(()=>[a(q,{navlen:2,onDelete:j=>b(v.id.toString()),onUpdate:j=>{y.value=v,p.value=v.id.toString(),_.value=!0}},null,8,["onDelete","onUpdate"])]),key:"0"}:void 0]),1024))]))),128))])):(i(),$("div",La,[t(k)=="pending"||t(c)?(i(),I(O,{key:0,rows:4})):(i(),$("p",Ha,"Данные отсутствуют"))]))],64)}}}),Ya=T({__name:"RelationForm",props:{relation:{type:Object,default:{}},candId:{type:String,default:""}},emits:["cancel","update"],setup(e,{emit:o}){const u=o,n=H(e.relation);async function l(){u("update",n.value),c()}function d(){u("cancel"),c()}function c(){Object.assign(n.value,{relation:"",relation_id:""})}return(_,p)=>{const y=be,f=re,r=pe,k=ie,w=de;return i(),I(w,{state:t(n),onSubmit:ee(l,["prevent"])},{default:s(()=>[a(f,{class:"mb-3",label:"Тип связи"},{default:s(()=>[a(y,{modelValue:t(n).relation,"onUpdate:modelValue":p[0]||(p[0]=b=>t(n).relation=b),modelModifiers:{trim:!0,lazy:!0},required:"",options:["Одно лицо","Родители-Дети","Братья-Сестры","Супруг-Супруга","Родственники","Близкая связь"]},null,8,["modelValue"])]),_:1}),a(f,{class:"mb-3",label:"ID связи"},{default:s(()=>[a(r,{modelValue:t(n).relation_id,"onUpdate:modelValue":p[1]||(p[1]=b=>t(n).relation_id=b),modelModifiers:{trim:!0,lazy:!0},required:"",type:"number"},null,8,["modelValue"])]),_:1}),a(k,{onCancel:d})]),_:1},8,["state"])}}}),Ra={key:0,class:"py-3"},Ga={key:1},Wa={key:1},Ka={key:2,class:"p-3"},Ja={key:1,class:"text-primary"},Qa=T({__name:"RelateDiv",props:{candId:{type:String,default:""},editable:{type:Boolean,default:!1}},async setup(e){let o,u;te(["FormsRelationForm","ElementsSkeletonDiv"]);const m=G(),n=X(),l=e,d=D(!1),c=D(!1),_=D(!1),p=D(""),y=D({}),{data:f,refresh:r,status:k}=([o,u]=Q(async()=>se("relations",async()=>await m("/api/relations/"+l.candId))),o=await o,u(),o);async function w(g){c.value=!0,h(),await m("/api/relations/"+l.candId,{method:"POST",body:g}),n.add({icon:"i-heroicons-check-circle",title:"Успешно",description:"Информация обновлена",color:"green"}),c.value=!1,r()}async function b(g){h(),confirm("Вы действительно хотите удалить запись?")&&(await m("/api/relations/"+g,{method:"DELETE"}),n.add({icon:"i-heroicons-information-circle",title:"Информация",description:`Запись с ID ${g} удалена`,color:"primary"}),r())}async function S(){h(),r()}function h(){_.value=!1,p.value="",d.value=!1}return(g,F)=>{const C=R,z=Ya,x=Z,O=ae,E=oe,q=Ct,v=le;return i(),$(P,null,[l.editable?(i(),I(C,{key:0,label:t(d)?"Скрыть форму":"Добавить запись",variant:"link",onClick:F[0]||(F[0]=B=>d.value=!t(d))},null,8,["label"])):M("",!0),a(J,{name:"slide-fade"},{default:s(()=>[t(d)?(i(),$("div",Ra,[a(x,null,{default:s(()=>[a(z,{"cand-id":l.candId,onCancel:S,onUpdate:w},null,8,["cand-id"])]),_:1})])):M("",!0)]),_:1}),t(f)&&t(f).length?(i(),$("div",Ga,[(i(!0),$(P,null,Y(t(f),(B,j)=>(i(),$("div",{key:j,class:"p-1"},[t(k)=="pending"||t(c)?(i(),I(O,{key:0,rows:2})):(i(),I(x,{key:1},ne({default:s(()=>[t(_)&&t(p)==B.id.toString()?(i(),I(z,{key:0,"cand-id":l.candId,relation:t(y),onCancel:S,onUpdate:w},null,8,["cand-id","relation"])):(i(),$("div",Wa,[a(E,{label:"Тип"},{default:s(()=>[V(U(B.relation),1)]),_:2},1024),a(E,{label:"Связь"},{default:s(()=>[a(q,{to:`/profile/${B.relation_id}`},{default:s(()=>[V(" ID #"+U(B.relation_id),1)]),_:2},1032,["to"])]),_:2},1024)]))]),_:2},[l.editable&&(!t(_)||t(p)!=B.id.toString())?{name:"footer",fn:s(()=>[a(v,{navlen:2,onDelete:yt=>b(B.id.toString()),onUpdate:yt=>{y.value=B,p.value=B.id.toString(),_.value=!0}},null,8,["onDelete","onUpdate"])]),key:"0"}:void 0]),1024))]))),128))])):(i(),$("div",Ka,[t(k)=="pending"||t(c)?(i(),I(O,{key:0,rows:2})):(i(),$("p",Ja,"Данные отсутствуют"))]))],64)}}});function Xa(e){typeof queueMicrotask=="function"?queueMicrotask(e):Promise.resolve().then(e).catch(o=>setTimeout(()=>{throw o}))}var Za=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(Za||{});let _t=Symbol("DisclosureContext");function Ye(e){let o=Ue(_t,null);if(o===null){let u=new Error(`<${e} /> is missing a parent <Disclosure /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(u,Ye),u}return o}let vt=Symbol("DisclosurePanelContext");function eo(){return Ue(vt,null)}let to=T({name:"Disclosure",props:{as:{type:[Object,String],default:"template"},defaultOpen:{type:[Boolean],default:!1}},setup(e,{slots:o,attrs:u}){let m=D(e.defaultOpen?0:1),n=D(null),l=D(null),d={buttonId:D(`headlessui-disclosure-button-${ze()}`),panelId:D(`headlessui-disclosure-panel-${ze()}`),disclosureState:m,panel:n,button:l,toggleDisclosure(){m.value=we(m.value,{0:1,1:0})},closeDisclosure(){m.value!==1&&(m.value=1)},close(c){d.closeDisclosure();let _=c?c instanceof HTMLElement?c:c.value instanceof HTMLElement?L(c):L(d.button):L(d.button);_==null||_.focus()}};return Fe(_t,d),Nt(A(()=>we(m.value,{0:xe.Open,1:xe.Closed}))),()=>{let{defaultOpen:c,..._}=e,p={open:m.value===0,close:d.close};return he({theirProps:_,ourProps:{},slot:p,slots:o,attrs:u,name:"Disclosure"})}}}),no=T({name:"DisclosureButton",props:{as:{type:[Object,String],default:"button"},disabled:{type:[Boolean],default:!1},id:{type:String,default:null}},setup(e,{attrs:o,slots:u,expose:m}){let n=Ye("DisclosureButton"),l=eo(),d=A(()=>l===null?!1:l.value===n.panelId.value);ge(()=>{d.value||e.id!==null&&(n.buttonId.value=e.id)}),Ae(()=>{d.value||(n.buttonId.value=null)});let c=D(null);m({el:c,$el:c}),d.value||st(()=>{n.button.value=c.value});let _=dt(A(()=>({as:e.as,type:o.type})),c);function p(){var r;e.disabled||(d.value?(n.toggleDisclosure(),(r=L(n.button))==null||r.focus()):n.toggleDisclosure())}function y(r){var k;if(!e.disabled)if(d.value)switch(r.key){case W.Space:case W.Enter:r.preventDefault(),r.stopPropagation(),n.toggleDisclosure(),(k=L(n.button))==null||k.focus();break}else switch(r.key){case W.Space:case W.Enter:r.preventDefault(),r.stopPropagation(),n.toggleDisclosure();break}}function f(r){switch(r.key){case W.Space:r.preventDefault();break}}return()=>{var r;let k={open:n.disclosureState.value===0},{id:w,...b}=e,S=d.value?{ref:c,type:_.value,onClick:p,onKeydown:y}:{id:(r=n.buttonId.value)!=null?r:w,ref:c,type:_.value,"aria-expanded":n.disclosureState.value===0,"aria-controls":n.disclosureState.value===0||L(n.panel)?n.panelId.value:void 0,disabled:e.disabled?!0:void 0,onClick:p,onKeydown:y,onKeyup:f};return he({ourProps:S,theirProps:b,slot:k,attrs:o,slots:u,name:"DisclosureButton"})}}}),ao=T({name:"DisclosurePanel",props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},id:{type:String,default:null}},setup(e,{attrs:o,slots:u,expose:m}){let n=Ye("DisclosurePanel");ge(()=>{e.id!==null&&(n.panelId.value=e.id)}),Ae(()=>{n.panelId.value=null}),m({el:n.panel,$el:n.panel}),Fe(vt,n.panelId);let l=Yt(),d=A(()=>l!==null?(l.value&xe.Open)===xe.Open:n.disclosureState.value===0);return()=>{var c;let _={open:n.disclosureState.value===0,close:n.close},{id:p,...y}=e,f={id:(c=n.panelId.value)!=null?c:p,ref:n.panel};return he({ourProps:f,theirProps:y,slot:_,attrs:o,slots:u,features:Oe.RenderStrategy|Oe.Static,visible:d.value,name:"DisclosurePanel"})}}}),oo=T({props:{onFocus:{type:Function,required:!0}},setup(e){let o=D(!0);return()=>o.value?Ce(ut,{as:"button",type:"button",features:Rt.Focusable,onFocus(u){u.preventDefault();let m,n=50;function l(){var d;if(n--<=0){m&&cancelAnimationFrame(m);return}if((d=e.onFocus)!=null&&d.call(e)){o.value=!1,cancelAnimationFrame(m);return}m=requestAnimationFrame(l)}m=requestAnimationFrame(l)}}):null}});var lo=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(lo||{}),so=(e=>(e[e.Less=-1]="Less",e[e.Equal=0]="Equal",e[e.Greater=1]="Greater",e))(so||{});let bt=Symbol("TabsContext");function Ve(e){let o=Ue(bt,null);if(o===null){let u=new Error(`<${e} /> is missing a parent <TabGroup /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(u,Ve),u}return o}let Re=Symbol("TabsSSRContext"),io=T({name:"TabGroup",emits:{change:e=>!0},props:{as:{type:[Object,String],default:"template"},selectedIndex:{type:[Number],default:null},defaultIndex:{type:[Number],default:0},vertical:{type:[Boolean],default:!1},manual:{type:[Boolean],default:!1}},inheritAttrs:!1,setup(e,{slots:o,attrs:u,emit:m}){var n;let l=D((n=e.selectedIndex)!=null?n:e.defaultIndex),d=D([]),c=D([]),_=A(()=>e.selectedIndex!==null),p=A(()=>_.value?e.selectedIndex:l.value);function y(b){var S;let h=Se(f.tabs.value,L),g=Se(f.panels.value,L),F=h.filter(C=>{var z;return!((z=L(C))!=null&&z.hasAttribute("disabled"))});if(b<0||b>h.length-1){let C=we(l.value===null?0:Math.sign(b-l.value),{[-1]:()=>1,0:()=>we(Math.sign(b),{[-1]:()=>0,0:()=>0,1:()=>1}),1:()=>0}),z=we(C,{0:()=>h.indexOf(F[0]),1:()=>h.indexOf(F[F.length-1])});z!==-1&&(l.value=z),f.tabs.value=h,f.panels.value=g}else{let C=h.slice(0,b),z=[...h.slice(b),...C].find(O=>F.includes(O));if(!z)return;let x=(S=h.indexOf(z))!=null?S:f.selectedIndex.value;x===-1&&(x=f.selectedIndex.value),l.value=x,f.tabs.value=h,f.panels.value=g}}let f={selectedIndex:A(()=>{var b,S;return(S=(b=l.value)!=null?b:e.defaultIndex)!=null?S:null}),orientation:A(()=>e.vertical?"vertical":"horizontal"),activation:A(()=>e.manual?"manual":"auto"),tabs:d,panels:c,setSelectedIndex(b){p.value!==b&&m("change",b),_.value||y(b)},registerTab(b){var S;if(d.value.includes(b))return;let h=d.value[l.value];if(d.value.push(b),d.value=Se(d.value,L),!_.value){let g=(S=d.value.indexOf(h))!=null?S:l.value;g!==-1&&(l.value=g)}},unregisterTab(b){let S=d.value.indexOf(b);S!==-1&&d.value.splice(S,1)},registerPanel(b){c.value.includes(b)||(c.value.push(b),c.value=Se(c.value,L))},unregisterPanel(b){let S=c.value.indexOf(b);S!==-1&&c.value.splice(S,1)}};Fe(bt,f);let r=D({tabs:[],panels:[]}),k=D(!1);ge(()=>{k.value=!0}),Fe(Re,A(()=>k.value?null:r.value));let w=A(()=>e.selectedIndex);return ge(()=>{Ie([w],()=>{var b;return y((b=e.selectedIndex)!=null?b:e.defaultIndex)},{immediate:!0})}),st(()=>{if(!_.value||p.value==null||f.tabs.value.length<=0)return;let b=Se(f.tabs.value,L);b.some((S,h)=>L(f.tabs.value[h])!==L(S))&&f.setSelectedIndex(b.findIndex(S=>L(S)===L(f.tabs.value[p.value])))}),()=>{let b={selectedIndex:l.value};return Ce(P,[d.value.length<=0&&Ce(oo,{onFocus:()=>{for(let S of d.value){let h=L(S);if((h==null?void 0:h.tabIndex)===0)return h.focus(),!0}return!1}}),he({theirProps:{...u,...Gt(e,["selectedIndex","defaultIndex","manual","vertical","onChange"])},ourProps:{},slot:b,slots:o,attrs:u,name:"TabGroup"})])}}}),ro=T({name:"TabList",props:{as:{type:[Object,String],default:"div"}},setup(e,{attrs:o,slots:u}){let m=Ve("TabList");return()=>{let n={selectedIndex:m.selectedIndex.value},l={role:"tablist","aria-orientation":m.orientation.value};return he({ourProps:l,theirProps:e,slot:n,attrs:o,slots:u,name:"TabList"})}}}),uo=T({name:"Tab",props:{as:{type:[Object,String],default:"button"},disabled:{type:[Boolean],default:!1},id:{type:String,default:null}},setup(e,{attrs:o,slots:u,expose:m}){var n;let l=(n=e.id)!=null?n:`headlessui-tabs-tab-${ze()}`,d=Ve("Tab"),c=D(null);m({el:c,$el:c}),ge(()=>d.registerTab(c)),Ae(()=>d.unregisterTab(c));let _=Ue(Re),p=A(()=>{if(_.value){let g=_.value.tabs.indexOf(l);return g===-1?_.value.tabs.push(l)-1:g}return-1}),y=A(()=>{let g=d.tabs.value.indexOf(c);return g===-1?p.value:g}),f=A(()=>y.value===d.selectedIndex.value);function r(g){var F;let C=g();if(C===Ee.Success&&d.activation.value==="auto"){let z=(F=Wt(c))==null?void 0:F.activeElement,x=d.tabs.value.findIndex(O=>L(O)===z);x!==-1&&d.setSelectedIndex(x)}return C}function k(g){let F=d.tabs.value.map(C=>L(C)).filter(Boolean);if(g.key===W.Space||g.key===W.Enter){g.preventDefault(),g.stopPropagation(),d.setSelectedIndex(y.value);return}switch(g.key){case W.Home:case W.PageUp:return g.preventDefault(),g.stopPropagation(),r(()=>ke(F,me.First));case W.End:case W.PageDown:return g.preventDefault(),g.stopPropagation(),r(()=>ke(F,me.Last))}if(r(()=>we(d.orientation.value,{vertical(){return g.key===W.ArrowUp?ke(F,me.Previous|me.WrapAround):g.key===W.ArrowDown?ke(F,me.Next|me.WrapAround):Ee.Error},horizontal(){return g.key===W.ArrowLeft?ke(F,me.Previous|me.WrapAround):g.key===W.ArrowRight?ke(F,me.Next|me.WrapAround):Ee.Error}}))===Ee.Success)return g.preventDefault()}let w=D(!1);function b(){var g;w.value||(w.value=!0,!e.disabled&&((g=L(c))==null||g.focus({preventScroll:!0}),d.setSelectedIndex(y.value),Xa(()=>{w.value=!1})))}function S(g){g.preventDefault()}let h=dt(A(()=>({as:e.as,type:o.type})),c);return()=>{var g,F;let C={selected:f.value,disabled:(g=e.disabled)!=null?g:!1},{...z}=e,x={ref:c,onKeydown:k,onMousedown:S,onClick:b,id:l,role:"tab",type:h.value,"aria-controls":(F=L(d.panels.value[y.value]))==null?void 0:F.id,"aria-selected":f.value,tabIndex:f.value?0:-1,disabled:e.disabled?!0:void 0};return he({ourProps:x,theirProps:z,slot:C,attrs:o,slots:u,name:"Tab"})}}}),co=T({name:"TabPanels",props:{as:{type:[Object,String],default:"div"}},setup(e,{slots:o,attrs:u}){let m=Ve("TabPanels");return()=>{let n={selectedIndex:m.selectedIndex.value};return he({theirProps:e,ourProps:{},slot:n,attrs:u,slots:o,name:"TabPanels"})}}}),po=T({name:"TabPanel",props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},id:{type:String,default:null},tabIndex:{type:Number,default:0}},setup(e,{attrs:o,slots:u,expose:m}){var n;let l=(n=e.id)!=null?n:`headlessui-tabs-panel-${ze()}`,d=Ve("TabPanel"),c=D(null);m({el:c,$el:c}),ge(()=>d.registerPanel(c)),Ae(()=>d.unregisterPanel(c));let _=Ue(Re),p=A(()=>{if(_.value){let r=_.value.panels.indexOf(l);return r===-1?_.value.panels.push(l)-1:r}return-1}),y=A(()=>{let r=d.panels.value.indexOf(c);return r===-1?p.value:r}),f=A(()=>y.value===d.selectedIndex.value);return()=>{var r;let k={selected:f.value},{tabIndex:w,...b}=e,S={ref:c,id:l,role:"tabpanel","aria-labelledby":(r=L(d.tabs.value[y.value]))==null?void 0:r.id,tabIndex:f.value?w:-1};return!f.value&&e.unmount&&!e.static?Ce(ut,{as:"span","aria-hidden":!0,...S}):he({ourProps:S,theirProps:b,slot:k,attrs:o,slots:u,features:Oe.Static|Oe.RenderStrategy,visible:f.value,name:"TabPanel"})}}});const Pe=De(ve.ui.strategy,ve.ui.accordion,Qt),mo=De(ve.ui.strategy,ve.ui.button,zt),fo=T({components:{HDisclosure:to,HDisclosureButton:no,HDisclosurePanel:ao,UIcon:$e,UButton:R},inheritAttrs:!1,props:{items:{type:Array,default:()=>[]},defaultOpen:{type:Boolean,default:!1},openIcon:{type:String,default:()=>Pe.default.openIcon},unmount:{type:Boolean,default:!1},closeIcon:{type:String,default:()=>Pe.default.closeIcon},multiple:{type:Boolean,default:!1},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},emits:["open"],setup(e,{emit:o}){const{ui:u,attrs:m}=Me("accordion",H(e,"ui"),Pe,H(e,"class")),n=A(()=>mo),l=D([]),d=A(()=>l.value.map(({open:r})=>r));Ie(d,(r,k)=>{for(const w in r){const b=k[w],S=r[w];!b&&S&&o("open",w)}},{immediate:!0});function c(r,k){!e.items[r].closeOthers&&e.multiple||l.value.forEach(w=>{w.open&&w.close(k.target)})}function _(r,k){const w=r;w.style.height="0",w.offsetHeight,w.style.height=w.scrollHeight+"px",w.addEventListener("transitionend",k,{once:!0})}function p(r){const k=r;k.style.height=k.scrollHeight+"px",k.offsetHeight}function y(r){const k=r;k.style.height="auto"}function f(r,k){const w=r;w.style.height="0",w.addEventListener("transitionend",k,{once:!0})}return ct(()=>it()),{ui:u,uiButton:n,attrs:m,buttonRefs:l,closeOthers:c,omit:xt,onEnter:_,onBeforeLeave:p,onAfterEnter:y,onLeave:f}}}),_o={key:1};function vo(e,o,u,m,n,l){const d=$e,c=R,_=ye("HDisclosureButton"),p=ye("HDisclosurePanel"),y=ye("HDisclosure");return i(),$("div",{class:N(e.ui.wrapper)},[(i(!0),$(P,null,Y(e.items,(f,r)=>(i(),I(y,{key:r,as:"div",class:N(e.ui.container),"default-open":e.defaultOpen||f.defaultOpen},{default:s(({open:k,close:w})=>[a(_,{ref_for:!0,ref:()=>e.buttonRefs[r]={open:k,close:w},as:"template",disabled:f.disabled,onClick:b=>e.closeOthers(r,b),onKeydown:[je(b=>e.closeOthers(r,b),["enter"]),je(b=>e.closeOthers(r,b),["space"])]},{default:s(()=>[ue(e.$slots,"default",{item:f,index:r,open:k,close:w},()=>[a(c,fe({ref_for:!0},{...e.omit(e.ui.default,["openIcon","closeIcon"]),...e.attrs,...e.omit(f,["slot","disabled","content","defaultOpen"])}),{trailing:s(()=>[a(d,{name:k&&e.closeIcon?e.closeIcon:e.openIcon,class:N([k&&!e.closeIcon?"-rotate-180":"",e.uiButton.icon.size[f.size||e.uiButton.default.size],e.ui.item.icon])},null,8,["name","class"])]),_:2},1040)])]),_:2},1032,["disabled","onClick","onKeydown"]),a(J,fe({ref_for:!0},e.ui.transition,{onEnter:e.onEnter,onAfterEnter:e.onAfterEnter,onBeforeLeave:e.onBeforeLeave,onLeave:e.onLeave}),{default:s(()=>[e.unmount?(i(),I(p,{key:0,class:N([e.ui.item.base,e.ui.item.size,e.ui.item.color,e.ui.item.padding]),unmount:""},{default:s(()=>[ue(e.$slots,f.slot||"item",{item:f,index:r,open:k,close:w},()=>[V(U(f.content),1)])]),_:2},1032,["class"])):nt((i(),$("div",_o,[a(p,{class:N([e.ui.item.base,e.ui.item.size,e.ui.item.color,e.ui.item.padding]),static:""},{default:s(()=>[ue(e.$slots,f.slot||"item",{item:f,index:r,open:k,close:w},()=>[V(U(f.content),1)])]),_:2},1032,["class"])],512)),[[at,k]])]),_:2},1040,["onEnter","onAfterEnter","onBeforeLeave","onLeave"])]),_:2},1032,["class","default-open"]))),128))],2)}const bo=Te(fo,[["render",vo]]),yo=T({__name:"AnketaTab",props:{editable:{type:Boolean,default:!1},candId:{type:String,default:""},person:{type:Object,default:{}}},emits:["update"],setup(e,{emit:o}){const u=e,m=o,n=[{label:"Резюме",icon:"i-heroicons-user",defaultOpen:!0,slot:"resume"},{label:"Должности",icon:"i-heroicons-briefcase",slot:"staff"},{label:"Образование",icon:"i-heroicons-academic-cap",slot:"education"},{label:"Работа",icon:"i-heroicons-briefcase",slot:"work"},{label:"Документы",icon:"i-heroicons-document-text",slot:"document"},{label:"Адреса",icon:"i-heroicons-home-modern",slot:"address"},{label:"Контакты",icon:"i-heroicons-phone",slot:"contact"},{label:"Аффилированные",icon:"i-heroicons-user-group",slot:"affiliation"},{label:"Изменения имени",icon:"i-heroicons-archive-box-arrow-down",slot:"prev"},{label:"Связанные",icon:"i-heroicons-user-group",slot:"relate"}];return(l,d)=>{const c=Ln,_=Kn,p=na,y=da,f=va,r=$a,k=Fa,w=Aa,b=Na,S=Qa,h=bo;return i(),I(h,{items:n,size:"lg",multiple:""},{resume:s(()=>[a(c,{"cand-id":u.candId,editable:u.editable,person:u.person,onUpdate:d[0]||(d[0]=g=>m("update"))},null,8,["cand-id","editable","person"])]),staff:s(()=>[a(_,{"cand-id":u.candId,editable:u.editable},null,8,["cand-id","editable"])]),education:s(()=>[a(p,{"cand-id":u.candId,editable:u.editable},null,8,["cand-id","editable"])]),work:s(()=>[a(y,{"cand-id":u.candId,editable:u.editable},null,8,["cand-id","editable"])]),document:s(()=>[a(f,{"cand-id":u.candId,editable:u.editable},null,8,["cand-id","editable"])]),address:s(()=>[a(r,{"cand-id":u.candId,editable:u.editable},null,8,["cand-id","editable"])]),contact:s(()=>[a(k,{"cand-id":u.candId,editable:u.editable},null,8,["cand-id","editable"])]),affiliation:s(()=>[a(w,{"cand-id":u.candId,editable:u.editable},null,8,["cand-id","editable"])]),prev:s(()=>[a(b,{"cand-id":u.candId,editable:u.editable},null,8,["cand-id","editable"])]),relate:s(()=>[a(S,{"cand-id":u.candId,editable:u.editable},null,8,["cand-id","editable"])]),_:1})}}}),go=T({__name:"CheckForm",props:{check:{type:Object,default:{}},candId:{type:String,default:""}},emits:["cancel","update"],setup(e,{emit:o}){const u=o,n=H(e.check),l=D(!1);function d(){u("update",n.value),_()}function c(){u("cancel"),_()}function _(){l.value=!1,Object.keys(n.value).forEach(p=>{n.value[p]=""})}return Ie(l,()=>{l.value&&Object.assign(n.value,{workplace:"Негатив по местам работы не выявлен",document:"Среди недействительных документов не значится",inn:"ИНН соответствует",debt:"Задолженности не обнаружены",bankruptcy:"Решений о признании банкротом не имеется",bki:"Кредитная история положительная",courts:"Судебные дела не обнаружены",affilation:"Аффилированность не выявлена",terrorist:"В списке террористов не обнаружен",mvd:"В розыск не объявлен",internet:"В открытых источниках негатив не обнаружен",cronos:"В Кронос негатив не выявлен"})}),(p,y)=>{const f=Kt,r=re,k=Be,w=be,b=ie,S=de;return i(),$(P,null,[a(r,{state:t(l),class:"mb-3",label:"Негатива нет"},{default:s(()=>[a(f,{modelValue:t(l),"onUpdate:modelValue":y[0]||(y[0]=h=>He(l)?l.value=h:null)},null,8,["modelValue"])]),_:1},8,["state"]),a(S,{state:t(n),onSubmit:ee(d,["prevent"])},{default:s(()=>[a(r,{class:"mb-3",label:"Проверка по местам работы"},{default:s(()=>[a(k,{modelValue:t(n).workplace,"onUpdate:modelValue":y[1]||(y[1]=h=>t(n).workplace=h),modelModifiers:{trim:!0,lazy:!0},autoresize:"",placeholder:"Проверка по местам работы"},null,8,["modelValue"])]),_:1}),a(r,{class:"mb-3",label:"Проверка документов"},{default:s(()=>[a(k,{modelValue:t(n).document,"onUpdate:modelValue":y[2]||(y[2]=h=>t(n).document=h),modelModifiers:{trim:!0,lazy:!0},autoresize:"",placeholder:"Проверка документов"},null,8,["modelValue"])]),_:1}),a(r,{class:"mb-3",label:"Проверка ИНН"},{default:s(()=>[a(k,{modelValue:t(n).inn,"onUpdate:modelValue":y[3]||(y[3]=h=>t(n).inn=h),modelModifiers:{trim:!0,lazy:!0},autoresize:"",placeholder:"Проверка ИНН"},null,8,["modelValue"])]),_:1}),a(r,{class:"mb-3",label:"Проверка задолженностей"},{default:s(()=>[a(k,{modelValue:t(n).debt,"onUpdate:modelValue":y[4]||(y[4]=h=>t(n).debt=h),modelModifiers:{trim:!0,lazy:!0},autoresize:"",placeholder:"Проверка задолженностей"},null,8,["modelValue"])]),_:1}),a(r,{class:"mb-3",label:"Проверка банкротства"},{default:s(()=>[a(k,{modelValue:t(n).bankruptcy,"onUpdate:modelValue":y[5]||(y[5]=h=>t(n).bankruptcy=h),modelModifiers:{trim:!0,lazy:!0},autoresize:"",placeholder:"Проверка банкротства"},null,8,["modelValue"])]),_:1}),a(r,{class:"mb-3",label:"Проверка Кредитной истории"},{default:s(()=>[a(k,{modelValue:t(n).bki,"onUpdate:modelValue":y[6]||(y[6]=h=>t(n).bki=h),modelModifiers:{trim:!0,lazy:!0},autoresize:"",placeholder:"Проверка Кредитной истории"},null,8,["modelValue"])]),_:1}),a(r,{class:"mb-3",label:"Проверка судебных дел"},{default:s(()=>[a(k,{modelValue:t(n).courts,"onUpdate:modelValue":y[7]||(y[7]=h=>t(n).courts=h),modelModifiers:{trim:!0,lazy:!0},autoresize:"",placeholder:"Проверка судебных дел"},null,8,["modelValue"])]),_:1}),a(r,{class:"mb-3",label:"Проверка аффилированности"},{default:s(()=>[a(k,{modelValue:t(n).affilation,"onUpdate:modelValue":y[8]||(y[8]=h=>t(n).affilation=h),modelModifiers:{trim:!0,lazy:!0},autoresize:"",placeholder:"Проверка аффилированности"},null,8,["modelValue"])]),_:1}),a(r,{class:"mb-3",label:"Проверка в списке террористов"},{default:s(()=>[a(k,{modelValue:t(n).terrorist,"onUpdate:modelValue":y[9]||(y[9]=h=>t(n).terrorist=h),modelModifiers:{trim:!0,lazy:!0},autoresize:"",placeholder:"Проверка в списке террористов"},null,8,["modelValue"])]),_:1}),a(r,{class:"mb-3",label:"Проверка в розыск"},{default:s(()=>[a(k,{modelValue:t(n).mvd,"onUpdate:modelValue":y[10]||(y[10]=h=>t(n).mvd=h),modelModifiers:{trim:!0,lazy:!0},autoresize:"",placeholder:"Проверка в розыск"},null,8,["modelValue"])]),_:1}),a(r,{class:"mb-3",label:"Проверка в открытых источниках"},{default:s(()=>[a(k,{modelValue:t(n).internet,"onUpdate:modelValue":y[11]||(y[11]=h=>t(n).internet=h),modelModifiers:{trim:!0,lazy:!0},autoresize:"",placeholder:"Проверка в открытых источниках"},null,8,["modelValue"])]),_:1}),a(r,{class:"mb-3",label:"Проверка в Кронос"},{default:s(()=>[a(k,{modelValue:t(n).cronos,"onUpdate:modelValue":y[12]||(y[12]=h=>t(n).cronos=h),modelModifiers:{trim:!0,lazy:!0},autoresize:"",placeholder:"Проверка в Кронос/Крос"},null,8,["modelValue"])]),_:1}),a(r,{class:"mb-3",label:"Дополнительная информация"},{default:s(()=>[a(k,{modelValue:t(n).addition,"onUpdate:modelValue":y[13]||(y[13]=h=>t(n).addition=h),modelModifiers:{trim:!0,lazy:!0},autoresize:"",placeholder:"Дополнительная информация"},null,8,["modelValue"])]),_:1}),a(r,{class:"mb-3",label:"Комментарии"},{default:s(()=>[a(k,{modelValue:t(n).comment,"onUpdate:modelValue":y[14]||(y[14]=h=>t(n).comment=h),modelModifiers:{trim:!0,lazy:!0},autoresize:"",placeholder:"Комментарии"},null,8,["modelValue"])]),_:1}),a(r,{class:"mb-3",label:"Результат"},{default:s(()=>[a(w,{modelValue:t(n).conclusion,"onUpdate:modelValue":y[15]||(y[15]=h=>t(n).conclusion=h),modelModifiers:{trim:!0,lazy:!0},required:"",options:["СОГЛАСОВАНО","СОГЛАСОВАНО С КОММЕНТАРИЕМ","ОТКАЗАНО В СОГЛАСОВАНИИ"]},null,8,["modelValue"])]),_:1}),a(b,{onCancel:c})]),_:1},8,["state"])],64)}}}),ho={key:0,class:"py-3"},ko={key:1},wo={class:"tex-base text-red-800 dark:text-gray-400 font-medium"},$o={key:1},So={key:2,class:"p-3"},Io={key:1,class:"text-red-800"},Do=T({__name:"CheckTab",props:{candId:{type:String,default:""},editable:{type:Boolean,default:!1}},async setup(e){let o,u;te(["FormsCheckForm","ElementsSkeletonDiv"]);const m=G(),n=X(),l=e,d=D(!1),c=D(!1),_=D(!1),p=D(""),y=D({}),{data:f,refresh:r,status:k}=([o,u]=Q(async()=>se("checks",async()=>await m(`/api/checks/${l.candId}`))),o=await o,u(),o);async function w(g){c.value=!0,h(),await m("/api/checks/"+l.candId,{method:"POST",body:g}),n.add({icon:"i-heroicons-check-circle",title:"Успешно",description:"Информация обновлена",color:"green"}),c.value=!1,r()}async function b(g){h(),confirm("Вы действительно хотите удалить запись?")&&(await m(`/api/checks/${g}`,{method:"DELETE"}),n.add({icon:"i-heroicons-information-circle",title:"Информация",description:`Запись с ID ${g} удалена`,color:"primary"}),r())}async function S(){h(),r()}function h(){d.value=!1,p.value="",_.value=!1}return(g,F)=>{const C=R,z=go,x=Z,O=ae,E=oe,q=le;return i(),$(P,null,[l.editable?(i(),I(C,{key:0,class:"py-3",label:t(_)?"Скрыть форму":"Добавить запись",variant:"link",onClick:F[0]||(F[0]=v=>_.value=!t(_))},null,8,["label"])):M("",!0),a(J,{name:"slide-fade"},{default:s(()=>[t(_)?(i(),$("div",ho,[a(x,null,{default:s(()=>[a(z,{"cand-id":l.candId,onUpdate:w,onCancel:S},null,8,["cand-id"])]),_:1})])):M("",!0)]),_:1}),t(f)&&t(f).length?(i(),$("div",ko,[(i(!0),$(P,null,Y(t(f),(v,B)=>(i(),$("div",{key:B,class:"text-sm text-gray-500 dark:text-gray-400 py-1"},[t(k)=="pending"||t(c)?(i(),I(O,{key:0,rows:18})):(i(),I(x,{key:1},ne({header:s(()=>[K("div",wo,U("Проверка кандидата ID #"+v.id),1)]),default:s(()=>[t(d)&&t(p)==v.id.toString()?(i(),I(z,{key:0,"cand-id":l.candId,check:v,onCancel:S,onUpdate:w},null,8,["cand-id","check"])):(i(),$("div",$o,[a(E,{label:"Проверка по местам работы"},{default:s(()=>[V(U(v.workplace),1)]),_:2},1024),a(E,{label:"Проверка паспорта"},{default:s(()=>[V(U(v.document),1)]),_:2},1024),a(E,{label:"Проверка ИНН"},{default:s(()=>[V(U(v.inn),1)]),_:2},1024),a(E,{label:"Проверка ФССП"},{default:s(()=>[V(U(v.debt),1)]),_:2},1024),a(E,{label:"Проверка банкротства"},{default:s(()=>[V(U(v.bankruptcy),1)]),_:2},1024),a(E,{label:"Проверка БКИ"},{default:s(()=>[V(U(v.bki),1)]),_:2},1024),a(E,{label:"Проверка судебных решений"},{default:s(()=>[V(U(v.courts),1)]),_:2},1024),a(E,{label:"Проверка аффилированности"},{default:s(()=>[V(U(v.affilation),1)]),_:2},1024),a(E,{label:"Проверка по списку террористов"},{default:s(()=>[V(U(v.terrorist),1)]),_:2},1024),a(E,{label:"Проверка в розыск"},{default:s(()=>[V(U(v.mvd),1)]),_:2},1024),a(E,{label:"Проверка в открытых источниках"},{default:s(()=>[V(U(v.internet),1)]),_:2},1024),a(E,{label:"Проверка в Кронос"},{default:s(()=>[V(U(v.cronos),1)]),_:2},1024),a(E,{label:"Дополнительная информация"},{default:s(()=>[V(U(v.addition),1)]),_:2},1024),a(E,{label:"Комментарии"},{default:s(()=>[V(U(v.comment),1)]),_:2},1024),a(E,{label:"Результат"},{default:s(()=>[V(U(v.conclusion),1)]),_:2},1024),a(E,{label:"Сотрудник"},{default:s(()=>[V(U(v.username),1)]),_:2},1024),a(E,{label:"Дата записи"},{default:s(()=>[V(U(t(ce)(v.created,"YYYY-MM-DD HH:mm:ss")),1)]),_:2},1024)]))]),_:2},[l.editable&&(!t(d)||t(p)!=v.id.toString())?{name:"footer",fn:s(()=>[a(q,{"cand-id":l.candId,item:"checks",onUpdate:j=>{y.value=v,p.value=v.id.toString(),d.value=!0},onDelete:j=>b(v.id)},null,8,["cand-id","onUpdate","onDelete"])]),key:"0"}:void 0]),1024))]))),128))])):(i(),$("div",So,[t(k)=="pending"||t(c)?(i(),I(O,{key:0,rows:18})):(i(),$("p",Io,"Проверка кандидата отсутствует"))]))],64)}}}),Uo=T({__name:"PoligrafForm",props:{poligraf:{type:Object,default:{}},candId:{type:String,default:""}},emits:["cancel","update"],setup(e,{emit:o}){const u=o,n=H(e.poligraf);function l(){u("update",n.value),n.value.theme="",n.value.results=""}function d(){u("cancel"),n.value.theme="",n.value.results=""}return(c,_)=>{const p=be,y=re,f=Be,r=ie,k=de;return i(),I(k,{state:t(n),onSubmit:ee(l,["prevent"])},{default:s(()=>[a(y,{class:"mb-3",label:"Тема проверки"},{default:s(()=>[a(p,{modelValue:t(n).theme,"onUpdate:modelValue":_[0]||(_[0]=w=>t(n).theme=w),required:"",options:["Проверка кандидата","Служебная проверка","Служебное расследование","Плановое мероприятие"]},null,8,["modelValue"])]),_:1}),a(y,{class:"mb-3",label:"Результат"},{default:s(()=>[a(f,{modelValue:t(n).results,"onUpdate:modelValue":_[1]||(_[1]=w=>t(n).results=w),modelModifiers:{trim:!0,lazy:!0},required:"",autoresize:"",placeholder:"Результат"},null,8,["modelValue"])]),_:1}),a(r,{onCancel:d})]),_:1},8,["state"])}}}),Vo={key:0,class:"py-3"},Eo={key:1},Fo={class:"tex-base text-red-800 font-medium"},Co={key:1},zo={key:2,class:"p-3"},xo={key:1,class:"text-red-800"},Oo=T({__name:"PoligrafTab",props:{candId:{type:String,default:""},editable:{type:Boolean,default:!1}},async setup(e){let o,u;te(["FormsPoligrafForm","ElementsSkeletonDiv"]);const m=G(),n=X(),l=e,d=D(!1),c=D(!1),_=D(!1),p=D(""),y=D({}),{data:f,refresh:r,status:k}=([o,u]=Q(async()=>se("poligrafs",async()=>await m("/api/poligrafs/"+l.candId))),o=await o,u(),o);async function w(g){c.value=!0,h(),await m("/api/poligrafs/"+l.candId,{method:"POST",body:g}),n.add({icon:"i-heroicons-check-circle",title:"Успешно",description:"Информация обновлена",color:"green"}),c.value=!1,r()}async function b(g){h(),confirm("Вы действительно хотите удалить запись?")&&(await m("/api/poligrafs/"+g,{method:"DELETE"}),n.add({icon:"i-heroicons-information-circle",title:"Информация",description:`Запись с ID ${g} удалена`,color:"primary"}),r())}async function S(){h(),r()}function h(){_.value=!1,d.value=!1,p.value=""}return(g,F)=>{const C=R,z=Uo,x=Z,O=ae,E=oe,q=le;return i(),$(P,null,[e.editable?(i(),I(C,{key:0,class:"py-3",label:t(_)?"Скрыть форму":"Добавить запись",variant:"link",onClick:F[0]||(F[0]=v=>_.value=!t(_))},null,8,["label"])):M("",!0),a(J,{name:"slide-fade"},{default:s(()=>[t(_)?(i(),$("div",Vo,[a(x,null,{default:s(()=>[a(z,{"cand-id":l.candId,onCancel:S,onUpdate:w},null,8,["cand-id"])]),_:1})])):M("",!0)]),_:1}),t(f)&&t(f).length?(i(),$("div",Eo,[(i(!0),$(P,null,Y(t(f),(v,B)=>(i(),$("div",{key:B,class:"text-sm text-gray-500 dark:text-gray-400 py-1"},[t(k)=="pending"||t(c)?(i(),I(O,{key:0,rows:4})):(i(),I(x,{key:1},ne({header:s(()=>[K("div",Fo,U("Обследование на полиграфе ID #"+v.id),1)]),default:s(()=>[t(d)&&t(p)==v.id.toString()?(i(),I(z,{key:0,"cand-id":l.candId,poligraf:v,onCancel:S,onUpdate:w},null,8,["cand-id","poligraf"])):(i(),$("div",Co,[a(E,{label:"Тема проверки"},{default:s(()=>[V(U(v.theme),1)]),_:2},1024),a(E,{label:"Результат"},{default:s(()=>[V(U(v.results),1)]),_:2},1024),a(E,{label:"Сотрудник"},{default:s(()=>[V(U(v.username),1)]),_:2},1024),a(E,{label:"Дата записи"},{default:s(()=>[V(U(t(ce)(v.created,"YYYY-MM-DD HH:mm:ss")),1)]),_:2},1024)]))]),_:2},[l.editable&&(!t(d)||t(p)!=v.id.toString())?{name:"footer",fn:s(()=>[a(q,{"cand-id":l.candId,item:"poligrafs",onUpdate:j=>{y.value=v,p.value=v.id.toString(),d.value=!0},onDelete:j=>b(v.id)},null,8,["cand-id","onUpdate","onDelete"])]),key:"0"}:void 0]),1024))]))),128))])):(i(),$("div",zo,[t(k)=="pending"||t(c)?(i(),I(O,{key:0,rows:4})):(i(),$("p",xo,"Обследование на полиграфе не проводилось"))]))],64)}}}),To=T({__name:"InvestigationForm",props:{investigation:{type:Object,default:{}},candId:{type:String,default:""}},emits:["cancel","update"],setup(e,{emit:o}){const u=o,n=H(e.investigation);function l(){u("update",n.value),c()}function d(){u("cancel"),c()}function c(){Object.assign(n.value,{theme:"",info:""})}return(_,p)=>{const y=pe,f=re,r=Be,k=ie,w=de;return i(),I(w,{state:t(n),onSubmit:ee(l,["prevent"])},{default:s(()=>[a(f,{class:"mb-3",label:"Тема проверки"},{default:s(()=>[a(y,{modelValue:t(n).theme,"onUpdate:modelValue":p[0]||(p[0]=b=>t(n).theme=b),modelModifiers:{trim:!0,lazy:!0},required:"",placeholder:"Тема проверки"},null,8,["modelValue"])]),_:1}),a(f,{class:"mb-3",label:"Информация"},{default:s(()=>[a(r,{modelValue:t(n).info,"onUpdate:modelValue":p[1]||(p[1]=b=>t(n).info=b),modelModifiers:{trim:!0,lazy:!0},required:"",autoresize:"",placeholder:"Информация"},null,8,["modelValue"])]),_:1}),a(k,{onCancel:d})]),_:1},8,["state"])}}}),Mo={key:0,class:"py-3"},Ao={key:1},Bo={class:"tex-base text-red-800 font-medium"},Po={key:1},qo={key:2,class:"p-3"},jo={key:1,class:"text-red-800"},Lo=T({__name:"InvestigateTab",props:{candId:{type:String,default:""},editable:{type:Boolean,default:!1}},async setup(e){let o,u;te(["FormsInvestigationForm","ElementsSkeletonDiv"]);const m=G(),n=X(),l=e,d=D(!1),c=D(!1),_=D(!1),p=D(""),y=D({}),{data:f,refresh:r,status:k}=([o,u]=Q(async()=>se("investigations",async()=>await m("/api/investigations/"+l.candId))),o=await o,u(),o);async function w(g){c.value=!0,h(),await m("/api/investigations/"+l.candId,{method:"POST",body:g}),n.add({icon:"i-heroicons-check-circle",title:"Успешно",description:"Информация обновлена",color:"green"}),c.value=!1,r()}async function b(g){h(),confirm("Вы действительно хотите удалить запись?")&&(await m(`/api/investigations/${g}`,{method:"DELETE"}),n.add({icon:"i-heroicons-information-circle",title:"Информация",description:`Запись с ID ${g} удалена`,color:"primary"}),r())}async function S(){h(),r()}function h(){_.value=!1,p.value="",d.value=!1}return(g,F)=>{const C=R,z=To,x=Z,O=ae,E=oe,q=le;return i(),$(P,null,[l.editable?(i(),I(C,{key:0,class:"py-3",label:t(d)?"Скрыть форму":"Добавить запись",variant:"link",onClick:F[0]||(F[0]=v=>d.value=!t(d))},null,8,["label"])):M("",!0),a(J,{name:"slide-fade"},{default:s(()=>[t(d)?(i(),$("div",Mo,[a(x,null,{default:s(()=>[a(z,{"cand-id":l.candId,onCancel:S,onUpdate:w},null,8,["cand-id"])]),_:1})])):M("",!0)]),_:1}),t(f)&&t(f).length?(i(),$("div",Ao,[(i(!0),$(P,null,Y(t(f),(v,B)=>(i(),$("div",{key:B,class:"text-sm text-gray-500 dark:text-gray-400 py-1"},[t(k)=="pending"||t(c)?(i(),I(O,{key:0,rows:4})):(i(),I(x,{key:1},ne({header:s(()=>[K("div",Bo,U("Расследование/проверка ID #"+v.id),1)]),default:s(()=>[t(_)&&t(p)==v.id.toString()?(i(),I(z,{key:0,"cand-id":l.candId,investigation:v,onCancel:S,onUpdate:w},null,8,["cand-id","investigation"])):(i(),$("div",Po,[a(E,{label:"Тема проверки"},{default:s(()=>[V(U(v.theme),1)]),_:2},1024),a(E,{label:"Информация"},{default:s(()=>[V(U(v.info),1)]),_:2},1024),a(E,{label:"Сотрудник"},{default:s(()=>[V(U(v.username),1)]),_:2},1024),a(E,{label:"Дата записи"},{default:s(()=>[V(U(t(ce)(v.created,"YYYY-MM-DD HH:mm:ss")),1)]),_:2},1024)]))]),_:2},[l.editable&&(!t(_)||t(p)!=v.id.toString())?{name:"footer",fn:s(()=>[a(q,{"cand-id":l.candId,item:"investigations",onUpdate:j=>{y.value=v,p.value=v.id.toString(),_.value=!0},onDelete:j=>b(v.id)},null,8,["cand-id","onUpdate","onDelete"])]),key:"0"}:void 0]),1024))]))),128))])):(i(),$("div",qo,[t(k)=="pending"||t(c)?(i(),I(O,{key:0,rows:4})):(i(),$("p",jo,"Расследования/Проверки не проводились"))]))],64)}}}),Ho=T({__name:"InquiryForm",props:{inquiry:{type:Object,default:{}},candId:{type:String,default:""}},emits:["cancel","update"],setup(e,{emit:o}){const u=o,n=H(e.inquiry);function l(){u("update",n.value),c()}function d(){u("cancel"),c()}function c(){Object.assign(n.value,{info:"",origins:"",initiator:""})}return(_,p)=>{const y=Be,f=re,r=pe,k=ie,w=de;return i(),I(w,{state:t(n),onSubmit:ee(l,["prevent"])},{default:s(()=>[a(f,{class:"mb-3",label:"Информация"},{default:s(()=>[a(y,{modelValue:t(n).info,"onUpdate:modelValue":p[0]||(p[0]=b=>t(n).info=b),modelModifiers:{trim:!0,lazy:!0},required:"",autoresize:"",placeholder:"Информация"},null,8,["modelValue"])]),_:1}),a(f,{class:"mb-3",label:"Инициатор"},{default:s(()=>[a(r,{modelValue:t(n).initiator,"onUpdate:modelValue":p[1]||(p[1]=b=>t(n).initiator=b),modelModifiers:{trim:!0,lazy:!0},required:"",placeholder:"Инициатор"},null,8,["modelValue"])]),_:1}),a(f,{class:"mb-3",label:"Источники"},{default:s(()=>[a(r,{modelValue:t(n).origins,"onUpdate:modelValue":p[2]||(p[2]=b=>t(n).origins=b),modelModifiers:{trim:!0,lazy:!0},placeholder:"Источники"},null,8,["modelValue"])]),_:1}),a(k,{onCancel:d})]),_:1},8,["state"])}}}),No={key:0,class:"py-3"},Yo={key:1},Ro={class:"tex-base text-red-800 font-medium"},Go={key:1},Wo={key:2,class:"p-3"},Ko={key:1,class:"text-red-800"},Jo=T({__name:"InquiryTab",props:{candId:{type:String,default:""},editable:{type:Boolean,default:!1}},async setup(e){let o,u;te(["FormsInquiryForm","ElementsSkeletonDiv"]);const m=G(),n=X(),l=e,d=D(!1),c=D(!1),_=D(!1),p=D(""),y=D({}),{data:f,refresh:r,status:k}=([o,u]=Q(async()=>se("inquiries",async()=>await m(`/api/inquiries/${l.candId}`))),o=await o,u(),o);async function w(g){c.value=!0,S(),await m("/api/inquiries/"+l.candId,{method:"POST",body:g}),n.add({icon:"i-heroicons-check-circle",title:"Успешно",description:"Информация обновлена",color:"green"}),c.value=!1,r()}async function b(g){S(),confirm("Вы действительно хотите удалить запись?")&&(await m(`/api/inquiries/${g}`,{method:"DELETE"}),n.add({icon:"i-heroicons-information-circle",title:"Информация",description:`Запись с ID ${g} удалена`,color:"primary"}),r())}function S(){_.value=!1,p.value="",d.value=!1}function h(){S(),r()}return(g,F)=>{const C=R,z=Ho,x=Z,O=ae,E=oe,q=le;return i(),$(P,null,[l.editable?(i(),I(C,{key:0,class:"py-3",label:t(d)?"Скрыть форму":"Добавить запись",variant:"link",onClick:F[0]||(F[0]=v=>d.value=!t(d))},null,8,["label"])):M("",!0),a(J,{name:"slide-fade"},{default:s(()=>[t(d)?(i(),$("div",No,[a(x,null,{default:s(()=>[a(z,{"cand-id":l.candId,onCancel:h,onUpdate:w},null,8,["cand-id"])]),_:1})])):M("",!0)]),_:1}),t(f)&&t(f).length?(i(),$("div",Yo,[(i(!0),$(P,null,Y(t(f),(v,B)=>(i(),$("div",{key:B,class:"text-sm text-gray-500 dark:text-gray-400 py-1"},[t(k)=="pending"||t(c)?(i(),I(O,{key:0,rows:6})):(i(),I(x,{key:1},ne({header:s(()=>[K("div",Ro,U("Запрос о сотруднике ID #"+v.id),1)]),default:s(()=>[t(_)&&t(p)==v.id.toString()?(i(),I(z,{key:0,"cand-id":l.candId,inquiry:v,onCancel:h,onUpdate:w},null,8,["cand-id","inquiry"])):(i(),$("div",Go,[a(E,{label:"Информация"},{default:s(()=>[V(U(v.info),1)]),_:2},1024),a(E,{label:"Иннициатор"},{default:s(()=>[V(U(v.initiator),1)]),_:2},1024),a(E,{label:"Источники"},{default:s(()=>[V(U(v.origins),1)]),_:2},1024),a(E,{label:"Сотрудник"},{default:s(()=>[V(U(v.username),1)]),_:2},1024),a(E,{label:"Дата записи"},{default:s(()=>[V(U(t(ce)(v.created,"YYYY-MM-DD HH:mm:ss")),1)]),_:2},1024)]))]),_:2},[l.editable&&(!t(_)||t(p)!=v.id.toString())?{name:"footer",fn:s(()=>[a(q,{"cand-id":l.candId,item:"inquiries",onDelete:j=>b(v.id),onUpdate:j=>{y.value=v,p.value=v.id.toString(),_.value=!0}},null,8,["cand-id","onDelete","onUpdate"])]),key:"0"}:void 0]),1024))]))),128))])):(i(),$("div",Wo,[t(k)=="pending"||t(c)?(i(),I(O,{key:0,rows:6})):(i(),$("p",Ko,"Запросы о сотруднике не поступали"))]))],64)}}}),Qo=De(ve.ui.strategy,ve.ui.tabs,Zt),Xo=T({components:{UIcon:$e,HTabGroup:io,HTabList:ro,HTab:uo,HTabPanels:co,HTabPanel:po},inheritAttrs:!1,props:{modelValue:{type:Number,default:void 0},orientation:{type:String,default:"horizontal",validator:e=>["horizontal","vertical"].includes(e)},defaultIndex:{type:Number,default:0},items:{type:Array,default:()=>[]},unmount:{type:Boolean,default:!1},content:{type:Boolean,default:!0},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},emits:["update:modelValue","change"],setup(e,{emit:o}){const{ui:u,attrs:m}=Me("tabs",H(e,"ui"),Qo,H(e,"class")),n=D(),l=D([]),d=D(),c=D(e.modelValue||e.defaultIndex);function _(y){var r;const f=(r=l.value[y])==null?void 0:r.$el;f&&d.value&&(d.value.style.top=`${f.offsetTop}px`,d.value.style.left=`${f.offsetLeft}px`,d.value.style.width=`${f.offsetWidth}px`,d.value.style.height=`${f.offsetHeight}px`)}function p(y){c.value=y,o("change",y),e.modelValue!==void 0&&o("update:modelValue",c.value),_(c.value)}return Ot(n,()=>{_(c.value)}),Ie(()=>e.modelValue,y=>{c.value=y,_(c.value)}),Ie(()=>e.items,async()=>{await Ke(),_(c.value)},{deep:!0}),ge(async()=>{await Ke(),_(c.value)}),ct(()=>it()),{ui:u,attrs:m,listRef:n,itemRefs:l,markerRef:d,selectedIndex:c,onChange:p}}}),Zo={class:"truncate"};function el(e,o,u,m,n,l){const d=$e,c=ye("HTab"),_=ye("HTabList"),p=ye("HTabPanel"),y=ye("HTabPanels"),f=ye("HTabGroup");return i(),I(f,fe({vertical:e.orientation==="vertical","selected-index":e.selectedIndex,as:"div",class:e.ui.wrapper},e.attrs,{onChange:e.onChange}),{default:s(()=>[a(_,{ref:"listRef",class:N([e.ui.list.base,e.ui.list.background,e.ui.list.rounded,e.ui.list.shadow,e.ui.list.padding,e.ui.list.width,e.orientation==="horizontal"&&e.ui.list.height,e.orientation==="horizontal"&&"inline-grid items-center"]),style:Tt([e.orientation==="horizontal"&&`grid-template-columns: repeat(${e.items.length}, minmax(0, 1fr))`])},{default:s(()=>[K("div",{ref:"markerRef",class:N(e.ui.list.marker.wrapper)},[K("div",{class:N([e.ui.list.marker.base,e.ui.list.marker.background,e.ui.list.marker.rounded,e.ui.list.marker.shadow])},null,2)],2),(i(!0),$(P,null,Y(e.items,(r,k)=>(i(),I(c,{key:k,ref_for:!0,ref:"itemRefs",disabled:r.disabled,as:"template"},{default:s(({selected:w,disabled:b})=>[K("button",{class:N([e.ui.list.tab.base,e.ui.list.tab.background,e.ui.list.tab.height,e.ui.list.tab.padding,e.ui.list.tab.size,e.ui.list.tab.font,e.ui.list.tab.rounded,e.ui.list.tab.shadow,w?e.ui.list.tab.active:e.ui.list.tab.inactive])},[ue(e.$slots,"icon",{item:r,index:k,selected:w,disabled:b},()=>[r.icon?(i(),I(d,{key:0,name:r.icon,class:N(e.ui.list.tab.icon)},null,8,["name","class"])):M("",!0)]),ue(e.$slots,"default",{item:r,index:k,selected:w,disabled:b},()=>[K("span",Zo,U(r.label),1)])],2)]),_:2},1032,["disabled"]))),128))]),_:3},8,["class","style"]),e.content?(i(),I(y,{key:0,class:N(e.ui.container)},{default:s(()=>[(i(!0),$(P,null,Y(e.items,(r,k)=>(i(),I(p,{key:k,class:N(e.ui.base),unmount:e.unmount},{default:s(({selected:w})=>[ue(e.$slots,r.slot||"item",{item:r,index:k,selected:w},()=>[V(U(r.content),1)])]),_:2},1032,["class","unmount"]))),128))]),_:3},8,["class"])):M("",!0)]),_:3},16,["vertical","selected-index","class","onChange"])}const tl=Te(Xo,[["render",el]]),nl={key:0,class:"relative"},al={class:"absolute bottom-0 right-20"},ol={class:"animate-pulse",style:{width:"30px"}},wl=T({__name:"[id]",async setup(e){let o,u;const m=G(),n=Jt(),l=Mt(),d=A(()=>l.params.id),c=D({}),{refresh:_}=([o,u]=Q(async()=>rt("anketa",async()=>{const w=await m("/api/persons/"+d.value);c.value=w})),o=await o,u(),o),p=[{slot:"anketaTab",label:"Анкета",icon:"i-heroicons-user"},{slot:"checkTab",label:"Проверки",icon:"i-heroicons-check-circle"},{slot:"poligrafTab",label:"Полиграф",icon:"i-heroicons-bolt"},{slot:"investigateTab",label:"Расследования",icon:"i-heroicons-briefcase"},{slot:"inquiryTab",label:"Запросы",icon:"i-heroicons-document-text"}],y={current:{label:"Анкета редактируется текущим пользователем",color:"green"},thirdparty:{label:"Анкета редактируется другим пользователем",color:"red"},others:{label:"Анкета не редактируется пользователями",color:"blue"}},f=A(()=>{if(c.value.editable){if(c.value.user_id==n.value.id)return y.current;if(c.value.user_id!=n.value.id)return y.thirdparty}return y.others}),r=A(()=>c.value.editable&&n.value.role=="user"&&n.value.id==c.value.user_id);async function k(){confirm("Вы действительно хотите включить/выключить режим правки")&&(await m("/api/self/"+d.value),_())}return At((w,b,S)=>{jt(),S()}),(w,b)=>{const S=zn,h=Ne,g=R,F=Bt,C=yo,z=Do,x=Oo,O=Lo,E=Jo,q=tl;return i(),$("div",null,[a(S,{"cand-id":t(d),destination:t(c).destination,editable:t(r)},null,8,["cand-id","destination","editable"]),t(n).role=="user"?(i(),$("div",nl,[K("div",al,[a(g,{variant:"link",size:"xl",onClick:k},{default:s(()=>[K("div",ol,[a(h,{color:t(f).color,variant:"solid"},{default:s(()=>[V(U(t(f).label),1)]),_:1},8,["color"])])]),_:1})])])):M("",!0),a(F,{div:"py-3",header:`${t(c).surname} ${t(c).firstname} ${t(c).patronymic?t(c).patronymic:""}`},null,8,["header"]),a(q,{items:p},{anketaTab:s(()=>[a(C,{"cand-id":t(d),editable:t(r),person:t(c),onUpdate:b[0]||(b[0]=v=>t(_)())},null,8,["cand-id","editable","person"])]),checkTab:s(()=>[a(z,{"cand-id":t(d),editable:t(r)},null,8,["cand-id","editable"])]),poligrafTab:s(()=>[a(x,{"cand-id":t(d),editable:t(r)},null,8,["cand-id","editable"])]),investigateTab:s(()=>[a(O,{"cand-id":t(d),editable:t(r)},null,8,["cand-id","editable"])]),inquiryTab:s(()=>[a(E,{"cand-id":t(d),editable:t(r)},null,8,["cand-id","editable"])]),_:1})])}}});export{wl as default};
