import{_ as b,a as w,b as x}from"./3LUgmtMX.js";import{_ as V}from"./BY7nR318.js";import{_ as D}from"./DngatSCA.js";import{u as C}from"./lDHJ1TUT.js";import{s as S}from"./B5F0X6Ps.js";import{a as U}from"./Cz8Yms9K.js";import{d as k,r as z,w as F,c as $,a as o,u as e,b as n,e as d,o as A}from"./C4_eX3-n.js";import"./B4-F_tj2.js";import"./qGH1BmY5.js";const B={class:"my-8"},I={class:"flex grid grid-cols-12 gap-3 mt-8"},L={class:"col-span-2"},E={class:"col-span-2"},N={class:"px-3"},O={class:"col-span-2"},G={class:"px-3"},R=k({__name:"info",async setup(H){let l,m;const g=C(),_=S(),i=new Date,t=z({region:_.value.region,start:new Date(i.getFullYear(),i.getMonth(),1).toISOString().slice(0,10),end:i.toISOString().slice(0,10),stat:[]}),{refresh:r,status:f}=([l,m]=F(async()=>U("statistics",async()=>{const p=await g("/api/information",{params:{start:t.value.start,end:t.value.end,region:t.value.region}});t.value.stat=p})),l=await l,m(),l);return(p,a)=>{const h=b,v=V,y=D,c=w,u=x;return A(),$("div",null,[o(h,{div:"py-1",header:`Информация по региону ${e(t).region} за период с ${new Date(e(t).start).toLocaleDateString()} г. по ${new Date(e(t).end).toLocaleDateString()} г.`},null,8,["header"]),n("div",B,[o(v,{loading:e(f)=="pending",progress:{color:"red",animation:"swing"},"empty-state":{icon:"i-heroicons-circle-stack-20-solid",label:"Статистика за указанный период отсутствует."},rows:e(t).stat,columns:[{key:"conclusion",label:"Решение"},{key:"count",label:"Количество"}]},null,8,["loading","rows"]),n("div",I,[n("div",L,[o(c,{class:"mb-3",size:"md",label:"Регион"},{default:d(()=>[o(y,{modelValue:e(t).region,"onUpdate:modelValue":a[0]||(a[0]=s=>e(t).region=s),disable:e(_).region!="main",options:["Главный офис","РЦ Юг","РЦ Запад","РЦ Урал","РЦ Восток"],onChange:e(r)},null,8,["modelValue","disable","onChange"])]),_:1})]),n("div",E,[n("div",N,[o(c,{size:"md",label:"Начало периода"},{default:d(()=>[o(u,{modelValue:e(t).start,"onUpdate:modelValue":a[1]||(a[1]=s=>e(t).start=s),type:"date",onChange:e(r)},null,8,["modelValue","onChange"])]),_:1})])]),n("div",O,[n("div",G,[o(c,{size:"md",label:"Конец периода"},{default:d(()=>[o(u,{modelValue:e(t).end,"onUpdate:modelValue":a[2]||(a[2]=s=>e(t).end=s),type:"date",onChange:e(r)},null,8,["modelValue","onChange"])]),_:1})])])])])])}}});export{R as default};
