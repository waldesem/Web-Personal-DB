import{I as yt,J as Ke,K as gt,L as qe,M as ht,N as Le,O as Je,P as kt,Q as et,R as wt,k as B,d as A,S as $t,r as U,T as be,o as i,c as $,z as pe,u as t,m as Se,f as me,_ as Oe,j as Te,t as H,l as tt,q as nt,U as St,a,e as s,b as J,x as N,y as z,s as ue,V as Q,w as X,W as It,X as Ut,E as je,v as I,Y as He,D as ee,i as G,G as Ne,B as V,g as ke,h as at,Z as ot,$ as Dt,F as P,C as R,A as E,a0 as Me,H as Y,a1 as te,n as Vt,a2 as Et,a3 as Ve,a4 as ze,a5 as lt,a6 as Ie,a7 as Ee,a8 as $e,a9 as Ct,aa as st,ab as Ft,ac as ve,ad as Ae,ae as xt,af as Qe,ag as Ot,ah as Tt,ai as zt}from"./B8dkklNN.js";import{b as le,a as se,_ as At}from"./DvJ7HPBa.js";import{u as Bt,i as Ce,a as he,o as j,t as Pt,b as Fe,A as ye,s as it,l as qt,N as xe,c as K,d as Mt,f as rt,O as we,T as Lt,e as De,g as jt,P as ge,h as ce,j as dt}from"./BXmCudNl.js";import{_ as Z}from"./wK6jobyL.js";import{u as W}from"./BiO4k2Z1.js";import{u as ut,a as ie,c as Ht}from"./DMxhoATW.js";import{_ as Re}from"./BlNUQN_2.js";import{_ as Nt,a as ne,b as re,c as Be}from"./Dw7swcBq.js";import{_ as _e}from"./CXniYARz.js";import{_ as de}from"./CaecZw4b.js";import{_ as Rt}from"./DuHKWUSG.js";import{_ as Gt}from"./PDcmDzXE.js";import{s as Wt}from"./CxQq410P.js";import"./DceBsjlI.js";import"./CxDeDL45.js";const Kt={wrapper:"w-full flex flex-col",container:"w-full flex flex-col",item:{base:"",size:"text-sm",color:"text-gray-500 dark:text-gray-400",padding:"pt-1.5 pb-3",icon:"ms-auto transform transition-transform duration-200 flex-shrink-0"},transition:{enterActiveClass:"overflow-hidden transition-[height] duration-200 ease-out",leaveActiveClass:"overflow-hidden transition-[height] duration-200 ease-out"},default:{openIcon:"i-heroicons-chevron-down-20-solid",closeIcon:"",class:"mb-1.5 w-full",variant:"soft",truncate:!0}},Jt={wrapper:"relative w-full flex items-center justify-between",container:"flex items-center min-w-0",inner:"min-w-0",base:"group relative w-full flex items-center gap-1.5 px-2.5 py-3.5 rounded-md font-medium text-sm focus:outline-none focus-visible:outline-none dark:focus-visible:outline-none focus-visible:ring-inset focus-visible:ring-2 focus-visible:ring-primary-500 dark:focus-visible:ring-primary-400 disabled:cursor-not-allowed disabled:opacity-75",before:"before:absolute before:inset-x-0 before:inset-y-2 before:inset-px before:rounded-md hover:before:bg-gray-50 dark:hover:before:bg-gray-800/50",after:"after:absolute after:bottom-0 after:inset-x-2.5 after:block after:h-[2px] after:mt-2",active:"text-gray-900 dark:text-white after:bg-primary-500 dark:after:bg-primary-400 after:rounded-full",inactive:"text-gray-500 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white",label:"truncate relative",icon:{base:"flex-shrink-0 w-5 h-5 relative",active:"text-gray-700 dark:text-gray-200",inactive:"text-gray-400 dark:text-gray-500 group-hover:text-gray-700 dark:group-hover:text-gray-200"},avatar:{base:"flex-shrink-0",size:"2xs"},badge:{base:"flex-shrink-0 ml-auto relative rounded",color:"gray",variant:"solid",size:"xs"}},Qt={wrapper:"relative space-y-2",container:"relative w-full",base:"focus:outline-none",list:{base:"relative",background:"bg-gray-100 dark:bg-gray-800",rounded:"rounded-lg",shadow:"",padding:"p-1",height:"h-10",width:"w-full",marker:{wrapper:"absolute top-[4px] left-[4px] duration-200 ease-out focus:outline-none",base:"w-full h-full",background:"bg-white dark:bg-gray-900",rounded:"rounded-md",shadow:"shadow-sm"},tab:{base:"relative inline-flex items-center justify-center flex-shrink-0 w-full ui-focus-visible:outline-0 ui-focus-visible:ring-2 ui-focus-visible:ring-primary-500 dark:ui-focus-visible:ring-primary-400 ui-not-focus-visible:outline-none focus:outline-none disabled:cursor-not-allowed disabled:opacity-75 transition-colors duration-200 ease-out",background:"",active:"text-gray-900 dark:text-white",inactive:"text-gray-500 dark:text-gray-400",height:"h-8",padding:"px-3",size:"text-sm",font:"font-medium",rounded:"rounded-md",shadow:"",icon:"w-4 h-4 flex-shrink-0 mr-2"}}},Xt={wrapper:"relative",container:"z-20 group",width:"",background:"bg-white dark:bg-gray-900",shadow:"shadow-lg",rounded:"rounded-md",ring:"ring-1 ring-gray-200 dark:ring-gray-800",base:"overflow-hidden focus:outline-none relative",transition:{enterActiveClass:"transition ease-out duration-200",enterFromClass:"opacity-0 translate-y-1",enterToClass:"opacity-100 translate-y-0",leaveActiveClass:"transition ease-in duration-150",leaveFromClass:"opacity-100 translate-y-0",leaveToClass:"opacity-0 translate-y-1"},popper:{placement:"bottom-start",scroll:!1},arrow:yt};async function Yt(e,o){return await Zt(o).catch(f=>(console.error("Failed to get image meta for "+o,f+""),{width:0,height:0,ratio:0}))}async function Zt(e){if(typeof Image>"u")throw new TypeError("Image not supported");return new Promise((o,u)=>{const f=new Image;f.onload=()=>{const n={width:f.width,height:f.height,ratio:f.width/f.height};o(n)},f.onerror=n=>u(n),f.src=e})}function Xe(e){return o=>o?e[o]||o:e.missingValue}function en({formatter:e,keyMap:o,joinWith:u="/",valueMap:f}={}){e||(e=(l,d)=>`${l}=${d}`),o&&typeof o!="function"&&(o=Xe(o));const n=f||{};return Object.keys(n).forEach(l=>{typeof n[l]!="function"&&(n[l]=Xe(n[l]))}),(l={})=>Object.entries(l).filter(([p,_])=>typeof _<"u").map(([p,_])=>{const c=n[p];return typeof c=="function"&&(_=c(l[p])),p=typeof o=="function"?o(p):p,e(p,_)}).join(u)}function fe(e=""){if(typeof e=="number")return e;if(typeof e=="string"&&e.replace("px","").match(/^\d+$/g))return Number.parseInt(e,10)}function tn(e=""){if(e===void 0||!e.length)return[];const o=new Set;for(const u of e.split(" ")){const f=Number.parseInt(u.replace("x",""));f&&o.add(f)}return Array.from(o)}function nn(e){if(e.length===0)throw new Error("`densities` must not be empty, configure to `1` to render regular size only (DPR 1.0)")}function an(e){const o={};if(typeof e=="string")for(const u of e.split(/[\s,]+/).filter(f=>f)){const f=u.split(":");f.length!==2?o["1px"]=f[0].trim():o[f[0].trim()]=f[1].trim()}else Object.assign(o,e);return o}function on(e){const o={options:e},u=(n,l={})=>ct(o,n,l),f=(n,l={},d={})=>u(n,{...d,modifiers:Le(l,d.modifiers||{})}).url;for(const n in e.presets)f[n]=(l,d,p)=>f(l,d,{...e.presets[n],...p});return f.options=e,f.getImage=u,f.getMeta=(n,l)=>ln(o,n,l),f.getSizes=(n,l)=>dn(o,n,l),o.$img=f,f}async function ln(e,o,u){const f=ct(e,o,{...u});return typeof f.getMeta=="function"?await f.getMeta():await Yt(e,f.url)}function ct(e,o,u){var c,y;if(o&&typeof o!="string")throw new TypeError(`input must be a string (received ${typeof o}: ${JSON.stringify(o)})`);if(!o||o.startsWith("data:"))return{url:o};const{provider:f,defaults:n}=sn(e,u.provider||e.options.provider),l=rn(e,u.preset);if(o=Ke(o)?o:gt(o),!f.supportsAlias){for(const m in e.options.alias)if(o.startsWith(m)){const r=e.options.alias[m];r&&(o=qe(r,o.slice(m.length)))}}if(f.validateDomains&&Ke(o)){const m=ht(o).host;if(!e.options.domains.find(r=>r===m))return{url:o}}const d=Le(u,l,n);d.modifiers={...d.modifiers};const p=d.modifiers.format;(c=d.modifiers)!=null&&c.width&&(d.modifiers.width=fe(d.modifiers.width)),(y=d.modifiers)!=null&&y.height&&(d.modifiers.height=fe(d.modifiers.height));const _=f.getImage(o,d,e);return _.format=_.format||p||"",_}function sn(e,o){const u=e.options.providers[o];if(!u)throw new Error("Unknown provider: "+o);return u}function rn(e,o){if(!o)return{};if(!e.options.presets[o])throw new Error("Unknown preset: "+o);return e.options.presets[o]}function dn(e,o,u){var k,b,S,h,g;const f=fe((k=u.modifiers)==null?void 0:k.width),n=fe((b=u.modifiers)==null?void 0:b.height),l=an(u.sizes),d=(S=u.densities)!=null&&S.trim()?tn(u.densities.trim()):e.options.densities;nn(d);const p=f&&n?n/f:0,_=[],c=[];if(Object.keys(l).length>=1){for(const D in l){const O=Ye(D,String(l[D]),n,p,e);if(O!==void 0){_.push({size:O.size,screenMaxWidth:O.screenMaxWidth,media:`(max-width: ${O.screenMaxWidth}px)`});for(const F of d)c.push({width:O._cWidth*F,src:Ze(e,o,u,O,F)})}}un(_)}else for(const D of d){const O=Object.keys(l)[0];let F=O?Ye(O,String(l[O]),n,p,e):void 0;F===void 0&&(F={size:"",screenMaxWidth:0,_cWidth:(h=u.modifiers)==null?void 0:h.width,_cHeight:(g=u.modifiers)==null?void 0:g.height}),c.push({width:D,src:Ze(e,o,u,F,D)})}cn(c);const y=c[c.length-1],m=_.length?_.map(D=>`${D.media?D.media+" ":""}${D.size}`).join(", "):void 0,r=m?"w":"x",w=c.map(D=>`${D.src} ${D.width}${r}`).join(", ");return{sizes:m,srcset:w,src:y==null?void 0:y.src}}function Ye(e,o,u,f,n){const l=n.options.screens&&n.options.screens[e]||Number.parseInt(e),d=o.endsWith("vw");if(!d&&/^\d+$/.test(o)&&(o=o+"px"),!d&&!o.endsWith("px"))return;let p=Number.parseInt(o);if(!l||!p)return;d&&(p=Math.round(p/100*l));const _=f?Math.round(p*f):u;return{size:o,screenMaxWidth:l,_cWidth:p,_cHeight:_}}function Ze(e,o,u,f,n){return e.$img(o,{...u.modifiers,width:f._cWidth?f._cWidth*n:void 0,height:f._cHeight?f._cHeight*n:void 0},u)}function un(e){var u;e.sort((f,n)=>f.screenMaxWidth-n.screenMaxWidth);let o=null;for(let f=e.length-1;f>=0;f--){const n=e[f];n.media===o&&e.splice(f,1),o=n.media}for(let f=0;f<e.length;f++)e[f].media=((u=e[f+1])==null?void 0:u.media)||""}function cn(e){e.sort((u,f)=>u.width-f.width);let o=null;for(let u=e.length-1;u>=0;u--){const f=e[u];f.width===o&&e.splice(u,1),o=f.width}}const pn=en({keyMap:{format:"f",fit:"fit",width:"w",height:"h",resize:"s",quality:"q",background:"b"},joinWith:"&",formatter:(e,o)=>Je(e)+"_"+Je(o)}),fn=(e,{modifiers:o={},baseURL:u}={},f)=>{o.width&&o.height&&(o.resize=`${o.width}x${o.height}`,delete o.width,delete o.height);const n=pn(o)||"_";return u||(u=qe(f.options.nuxt.baseURL,"/_ipx")),{url:qe(u,n,kt(e))}},mn=!0,_n=!0,vn=Object.freeze(Object.defineProperty({__proto__:null,getImage:fn,supportsAlias:_n,validateDomains:mn},Symbol.toStringTag,{value:"Module"})),pt={screens:{xs:320,sm:640,md:768,lg:1024,xl:1280,xxl:1536,"2xl":1536},presets:{},provider:"ipx",domains:[],alias:{},densities:[1,2],format:["webp"]};pt.providers={ipx:{provider:vn,defaults:{}}};const ft=()=>{const e=wt(),o=et();return o.$img||o._img||(o._img=on({...pt,nuxt:{baseURL:e.app.baseURL},runtimeConfig:e}))};function bn(e){var o;(o=performance==null?void 0:performance.mark)==null||o.call(performance,"mark_feature_usage",{detail:{feature:e}})}const yn={src:{type:String,required:!1},format:{type:String,required:!1},quality:{type:[Number,String],required:!1},background:{type:String,required:!1},fit:{type:String,required:!1},modifiers:{type:Object,required:!1},preset:{type:String,required:!1},provider:{type:String,required:!1},sizes:{type:[Object,String],required:!1},densities:{type:String,required:!1},preload:{type:[Boolean,Object],required:!1},width:{type:[String,Number],required:!1},height:{type:[String,Number],required:!1},alt:{type:String,required:!1},referrerpolicy:{type:String,required:!1},usemap:{type:String,required:!1},longdesc:{type:String,required:!1},ismap:{type:Boolean,required:!1},loading:{type:String,required:!1,validator:e=>["lazy","eager"].includes(e)},crossorigin:{type:[Boolean,String],required:!1,validator:e=>["anonymous","use-credentials","",!0,!1].includes(e)},decoding:{type:String,required:!1,validator:e=>["async","auto","sync"].includes(e)},nonce:{type:[String],required:!1}},gn=e=>{const o=B(()=>({provider:e.provider,preset:e.preset})),u=B(()=>({width:fe(e.width),height:fe(e.height),alt:e.alt,referrerpolicy:e.referrerpolicy,usemap:e.usemap,longdesc:e.longdesc,ismap:e.ismap,crossorigin:e.crossorigin===!0?"anonymous":e.crossorigin||void 0,loading:e.loading,decoding:e.decoding,nonce:e.nonce})),f=ft(),n=B(()=>({...e.modifiers,width:fe(e.width),height:fe(e.height),format:e.format,quality:e.quality||f.options.quality,background:e.background,fit:e.fit}));return{options:o,attrs:u,modifiers:n}},hn={...yn,placeholder:{type:[Boolean,String,Number,Array],required:!1},placeholderClass:{type:String,required:!1}},kn=["src"],wn=A({__name:"NuxtImg",props:hn,emits:["load","error"],setup(e,{emit:o}){const u=e,f=$t(),n=o,l=!1,d=ft(),p=gn(u),_=U(!1),c=U(),y=B(()=>d.getSizes(u.src,{...p.options.value,sizes:u.sizes,densities:u.densities,modifiers:{...p.modifiers.value,width:fe(u.width),height:fe(u.height)}})),m=B(()=>{const h={...p.attrs.value,"data-nuxt-img":""};return(!u.placeholder||_.value)&&(h.sizes=y.value.sizes,h.srcset=y.value.srcset),h}),r=B(()=>{let h=u.placeholder;if(h===""&&(h=!0),!h||_.value)return!1;if(typeof h=="string")return h;const g=Array.isArray(h)?h:typeof h=="number"?[h,h]:[10,10];return d(u.src,{...p.modifiers.value,width:g[0],height:g[1],quality:g[2]||50,blur:g[3]||3},p.options.value)}),w=B(()=>u.sizes?y.value.src:d(u.src,p.modifiers.value,p.options.value)),k=B(()=>r.value?r.value:w.value),S=et().isHydrating;return be(()=>{if(r.value){const h=new Image;w.value&&(h.src=w.value),u.sizes&&(h.sizes=y.value.sizes||"",h.srcset=y.value.srcset),h.onload=g=>{_.value=!0,n("load",g)},bn("nuxt-image");return}c.value&&(c.value.complete&&S&&(c.value.getAttribute("data-error")?n("error",new Event("error")):n("load",new Event("load"))),c.value.onload=h=>{n("load",h)},c.value.onerror=h=>{n("error",h)})}),(h,g)=>(i(),$("img",pe({ref_key:"imgEl",ref:c,class:u.placeholder&&!_.value?u.placeholderClass:void 0},{...t(l)?{onerror:"this.setAttribute('data-error', 1)"}:{},...m.value,...t(f)},{src:k.value}),null,16,kn))}}),$n=Se(me.ui.strategy,me.ui.contextMenu,Xt),Sn=A({inheritAttrs:!1,props:{modelValue:{type:Boolean,default:!1},virtualElement:{type:Object,required:!0},popper:{type:Object,default:()=>({})},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},emits:["update:modelValue","close"],setup(e,{emit:o}){const{ui:u,attrs:f}=Te("contextMenu",H(e,"ui"),$n),n=B(()=>Le({},e.popper,u.value.popper)),l=B({get(){return e.modelValue},set(c){o("update:modelValue",c)}}),d=H(e,"virtualElement"),[,p]=Bt(n.value,d),_=B(()=>tt(nt(u.value.container,u.value.width),e.class));return St(p,()=>{l.value=!1}),{ui:u,attrs:f,isOpen:l,wrapperClass:_,popper:n,container:p}}});function In(e,o,u,f,n,l){return e.isOpen?(i(),$("div",pe({key:0,ref:"container",class:e.wrapperClass},e.attrs),[a(Q,pe({appear:""},e.ui.transition),{default:s(()=>[J("div",null,[e.popper.arrow?(i(),$("div",{key:0,"data-popper-arrow":"",class:N(Object.values(e.ui.arrow))},null,2)):z("",!0),J("div",{class:N([e.ui.base,e.ui.ring,e.ui.rounded,e.ui.shadow,e.ui.background])},[ue(e.$slots,"default")],2)])]),_:3},16)],16)):z("",!0)}const Un=Oe(Sn,[["render",In]]),Dn={class:"flex justify-left"},Vn={class:"p-4"},En=A({__name:"PhotoCard",props:{candId:{type:String,default:""},destination:{type:String,default:""},editable:{type:Boolean,default:!1}},async setup(e){let o,u;const f=W(),n=e,l=U(""),{refresh:d}=([o,u]=X(async()=>ut("image",async()=>{const b=await $fetch("/api/image",{params:{image:n.destination},responseType:"blob"});l.value=window.URL.createObjectURL(new Blob([b]))})),o=await o,u(),o);async function p(b){if(!b)return;const S=new FormData,h=b[0];S.append("file",h),await f("/api/file/image/"+n.candId,{method:"POST",body:S}),await d()}function _(b){var S;(S=document.getElementById(b))==null||S.click()}const{x:c,y}=It(),{y:m}=Ut(),r=U(!1),w=U({getBoundingClientRect:()=>({})});function k(){const b=t(y)-t(m),S=t(c);w.value.getBoundingClientRect=()=>({width:0,height:0,top:b,left:S}),r.value=!0}return(b,S)=>{const h=wn,g=le,D=G,O=Un,F=Z;return i(),$("div",Dn,[a(F,{ui:{body:{padding:"p-1 sm:p-1"}},onContextmenu:ee(k,["prevent"])},{default:s(()=>[a(h,{src:t(l),width:"200",height:"200"},null,8,["src"]),je(a(g,{id:"image-file",type:"file",accept:"image/*",multiple:"",onChange:S[0]||(S[0]=x=>p(x))},null,512),[[Ne,!1]]),n.editable?(i(),I(O,{key:0,modelValue:t(r),"onUpdate:modelValue":S[2]||(S[2]=x=>He(r)?r.value=x:null),"virtual-element":t(w)},{default:s(()=>[J("div",Vn,[a(D,{label:"Загрузить",variant:"link",onClick:S[1]||(S[1]=x=>_("image-file"))})])]),_:1},8,["modelValue","virtual-element"])):z("",!0)]),_:1})])}}}),Cn={class:"flex grid grid-cols-6 gap-3 mb-3"},ae=A({__name:"LabelSlot",props:{label:{type:String,default:""},labelClass:{type:String,default:"col-span-1"},inputClass:{type:String,default:"col-span-5 break-words"}},setup(e){const o=e;return(u,f)=>(i(),$("div",Cn,[J("div",{class:N(o.labelClass)},V(o.label),3),J("div",{class:N(o.inputClass)},[ue(u.$slots,"default")],2)]))}}),Fn=Se(me.ui.strategy,me.ui.horizontalNavigation,Jt),xn=A({components:{UIcon:ke,UAvatar:at,UBadge:Re,ULink:ot},inheritAttrs:!1,props:{links:{type:Array,default:()=>[]},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},setup(e){const{ui:o,attrs:u}=Te("horizontalNavigation",H(e,"ui"),Fn,H(e,"class")),f=B(()=>Array.isArray(e.links[0])?e.links:[e.links]);return{ui:o,attrs:u,sections:f,getULinkProps:Dt,twMerge:tt,twJoin:nt}}}),On={key:0,class:"sr-only"};function Tn(e,o,u,f,n,l){const d=at,p=ke,_=Re,c=ot;return i(),$("nav",pe({class:e.ui.wrapper},e.attrs),[(i(!0),$(P,null,R(e.sections,(y,m)=>(i(),$("ul",{key:`section${m}`,class:N(e.ui.container)},[(i(!0),$(P,null,R(y,(r,w)=>(i(),$("li",{key:`section${m}-${w}`,class:N(e.ui.inner)},[a(c,pe({ref_for:!0},e.getULinkProps(r),{class:[e.ui.base,e.ui.before,e.ui.after],"active-class":e.ui.active,"inactive-class":e.ui.inactive,onClick:r.click,onKeyup:o[0]||(o[0]=Me(k=>k.target.blur(),["enter"]))}),{default:s(({isActive:k})=>[ue(e.$slots,"avatar",{link:r,isActive:k},()=>[r.avatar?(i(),I(d,pe({key:0,ref_for:!0},{size:e.ui.avatar.size,...r.avatar},{class:[e.ui.avatar.base]}),null,16,["class"])):z("",!0)]),ue(e.$slots,"icon",{link:r,isActive:k},()=>[r.icon?(i(),I(p,{key:0,name:r.icon,class:N(e.twMerge(e.twJoin(e.ui.icon.base,k?e.ui.icon.active:e.ui.icon.inactive),r.iconClass))},null,8,["name","class"])):z("",!0)]),ue(e.$slots,"default",{link:r,isActive:k},()=>[r.label?(i(),$("span",{key:0,class:N(e.twMerge(e.ui.label,r.labelClass))},[k?(i(),$("span",On," Current page: ")):z("",!0),E(" "+V(r.label),1)],2)):z("",!0)]),ue(e.$slots,"badge",{link:r,isActive:k},()=>[r.badge?(i(),I(_,pe({key:0,ref_for:!0},{size:e.ui.badge.size,color:e.ui.badge.color,variant:e.ui.badge.variant,...typeof r.badge=="string"||typeof r.badge=="number"?{label:r.badge}:r.badge},{class:e.ui.badge.base}),null,16,["class"])):z("",!0)])]),_:2},1040,["class","active-class","inactive-class","onClick"])],2))),128))],2))),128))],16)}const zn=Oe(xn,[["render",Tn]]),An={key:0},oe=A({__name:"NaviHorizont",props:{navlen:{type:Number,default:3},candId:{type:String,default:""},inputId:{type:String,default:""},item:{type:String,default:""}},emits:["delete","update","upload"],setup(e,{emit:o}){const u=Y(),f=W(),n=o,l=e,d=[{label:"Изменить",icon:"i-heroicons-pencil-square",click:()=>n("update")},{label:"Удалить",icon:"i-heroicons-trash",click:()=>n("delete")},{label:"Загрузить",icon:"i-heroicons-cloud-arrow-up",slot:"upload",click:()=>{var _;return(_=document.getElementById(l.inputId))==null?void 0:_.click()}}];async function p(_){const c=new FormData;if(_){for(const y of _)c.append("file",y);await f(`/api/file/${l.item}/${l.candId}`,{method:"POST",body:c}),u.add({icon:"i-heroicons-check-circle",title:"Информация",description:"Файлы успешно загружены",color:"green"})}c.delete("file")}return(_,c)=>{const y=zn,m=le;return i(),$(P,null,[a(y,{links:d.slice(0,l.navlen)},null,8,["links"]),e.navlen==3?(i(),$("div",An,[je(a(m,{id:l.inputId,type:"file",accept:"*",multiple:"",onChange:c[0]||(c[0]=r=>p(r))},null,8,["id"]),[[Ne,!1]])])):z("",!0)],64)}}}),Bn={key:0},Pn={key:1},qn={key:1},Mn=A({__name:"ResumeDiv",props:{editable:{type:Boolean,default:!1},candId:{type:String,default:""},person:{type:Object,default:{}}},emits:["update"],setup(e,{emit:o}){const u=o,f=Y(),n=W(),l=e,d=U(!1),p=U(""),_=U(!1);async function c(){confirm("Вы действительно хотите изменить регион?")&&(await n(`/api/region/${l.candId}`,{params:{region:p.value}}),u("update"),f.add({icon:"i-heroicons-check-circle",title:"Информация",description:"Изменение региона успешно",color:"green"}))}async function y(){await n("/api/folder/"+l.candId)}async function m(k){_.value=!0,d.value=!1,await n("/api/persons/"+l.candId,{method:"POST",body:k}),f.add({icon:"i-heroicons-check-circle",title:"Успешно",description:"Информация обновлена",color:"green"}),_.value=!1,u("update")}async function r(){confirm("Вы действительно хотите удалить запись?")&&(await n(`/api/persons/${l.candId}`,{method:"DELETE"}),f.add({icon:"i-heroicons-information-circle",title:"Информация",description:`Запись с ID ${l.candId} удалена`,color:"primary"}),Vt("/persons"))}function w(){d.value=!1,u("update")}return(k,b)=>{const S=Nt,h=ne,g=_e,D=ae,O=G,F=oe,x=Z;return i(),I(x,null,te({default:s(()=>[t(d)?(i(),$("div",Bn,[a(S,{resume:l.person,onCancel:w,onUpdate:m},null,8,["resume"])])):(i(),$("div",Pn,[t(_)?(i(),I(h,{key:0,rows:14})):(i(),$("div",qn,[a(D,{label:"Регион"},{default:s(()=>[a(g,{modelValue:t(p),"onUpdate:modelValue":b[0]||(b[0]=T=>He(p)?p.value=T:null),style:{width:"20%"},options:["Главный офис","РЦ Юг","РЦ Запад","РЦ Урал","РЦ Восток"],disabled:!l.editable,placeholder:l.person.region,onChange:c},null,8,["modelValue","disabled","placeholder"])]),_:1}),a(D,{label:"Фамилия"},{default:s(()=>[E(V(l.person.surname),1)]),_:1}),a(D,{label:"Имя"},{default:s(()=>[E(V(l.person.firstname),1)]),_:1}),a(D,{label:"Отчество"},{default:s(()=>[E(V(l.person.patronymic),1)]),_:1}),a(D,{label:"Дата рождения"},{default:s(()=>[E(V(new Date(String(l.person.birthday)).toLocaleDateString("ru-RU")),1)]),_:1}),a(D,{label:"Место рождения"},{default:s(()=>[E(V(l.person.birthplace),1)]),_:1}),a(D,{label:"Гражданство"},{default:s(()=>[E(V(l.person.citizenship),1)]),_:1}),l.person.dual?(i(),I(D,{key:0,label:"Двойное гражданство"},{default:s(()=>[E(V(l.person.dual),1)]),_:1})):z("",!0),a(D,{label:"СНИЛС"},{default:s(()=>[E(V(l.person.snils),1)]),_:1}),a(D,{label:"ИНН"},{default:s(()=>[E(V(l.person.inn),1)]),_:1}),a(D,{label:"Семейное положение"},{default:s(()=>[E(V(l.person.marital),1)]),_:1}),a(D,{label:"Дата записи"},{default:s(()=>[E(V(l.person.created?new Date(l.person.created+" UTC").toLocaleString("ru-RU"):""),1)]),_:1}),a(D,{label:"Пользователь"},{default:s(()=>[E(V(l.person.username?l.person.username:""),1)]),_:1}),l.person.addition?(i(),I(D,{key:1,label:"Дополнительная информация"},{default:s(()=>[E(V(l.person.addition),1)]),_:1})):z("",!0),a(D,{label:"Материалы"},{default:s(()=>[a(O,{label:l.person.destination,variant:"link",onClick:y},null,8,["label"])]),_:1})]))]))]),_:2},[l.editable&&!t(d)?{name:"footer",fn:s(()=>[a(F,{"cand-id":l.candId,"input-id":"resume-file",item:"persons",onDelete:r,onUpdate:b[1]||(b[1]=T=>d.value=!0)},null,8,["cand-id"])]),key:"0"}:void 0]),1024)}}}),Ln=A({__name:"StaffForm",props:{staff:{type:Object,default:{}},candId:{type:String,default:""}},emits:["cancel","update"],setup(e,{emit:o}){const u=o,n=H(e.staff);function l(){u("update",n.value),p()}function d(){u("cancel"),p()}function p(){Object.assign(n.value,{position:"",department:""})}return(_,c)=>{const y=le,m=se,r=re,w=de;return i(),I(w,{state:t(n),onSubmit:ee(l,["prevent"])},{default:s(()=>[a(m,{class:"mb-3",label:"Должность"},{default:s(()=>[a(y,{modelValue:t(n).position,"onUpdate:modelValue":c[0]||(c[0]=k=>t(n).position=k),modelModifiers:{trim:!0,lazy:!0},required:"",placeholder:"Должность"},null,8,["modelValue"])]),_:1}),a(m,{class:"mb-3",label:"Подразделение"},{default:s(()=>[a(y,{modelValue:t(n).department,"onUpdate:modelValue":c[1]||(c[1]=k=>t(n).department=k),modelModifiers:{trim:!0,lazy:!0},placeholder:"Подразделение"},null,8,["modelValue"])]),_:1}),a(r,{onCancel:d})]),_:1},8,["state"])}}}),jn={key:0,class:"py-3"},Hn={key:1},Nn={key:1},Rn={key:2,class:"p-3"},Gn={key:1,class:"text-primary"},Wn=A({__name:"StaffDiv",props:{candId:{type:String,default:""},editable:{type:Boolean,default:!1}},async setup(e){let o,u;const f=W(),n=Y(),l=e,d=U(!1),p=U(!1),_=U(!1),c=U(""),y=U({}),{data:m,refresh:r,status:w}=([o,u]=X(async()=>ie("staffs",async()=>await f("/api/staffs/"+l.candId))),o=await o,u(),o);async function k(g){p.value=!0,h(),await f("/api/staffs/"+l.candId,{method:"POST",body:g}),n.add({icon:"i-heroicons-check-circle",title:"Успешно",description:"Информация обновлена",color:"green"}),p.value=!1,r()}async function b(g){h(),confirm("Вы действительно хотите удалить запись?")&&(await f("/api/staffs/"+g,{method:"DELETE"}),n.add({icon:"i-heroicons-information-circle",title:"Информация",description:`Запись с ID ${g} удалена`,color:"primary"}),r())}function S(){h(),r()}function h(){_.value=!1,c.value="",d.value=!1}return(g,D)=>{const O=G,F=Ln,x=Z,T=ne,C=ae,M=oe;return i(),$(P,null,[l.editable?(i(),I(O,{key:0,label:t(d)?"Скрыть форму":"Добавить запись",variant:"link",onClick:D[0]||(D[0]=v=>d.value=!t(d))},null,8,["label"])):z("",!0),a(Q,{name:"slide-fade"},{default:s(()=>[t(d)?(i(),$("div",jn,[a(x,null,{default:s(()=>[a(F,{"cand-id":l.candId,onCancel:S,onUpdate:k},null,8,["cand-id"])]),_:1})])):z("",!0)]),_:1}),t(m)&&t(m).length?(i(),$("div",Hn,[(i(!0),$(P,null,R(t(m),(v,q)=>(i(),$("div",{key:q,class:"p-1"},[t(w)=="pending"||t(p)?(i(),I(T,{key:0,rows:2})):(i(),I(x,{key:1},te({default:s(()=>[t(_)&&t(c)==v.id.toString()?(i(),I(F,{key:0,"cand-id":l.candId,staff:t(y),onCancel:S,onUpdate:k},null,8,["cand-id","staff"])):(i(),$("div",Nn,[a(C,{label:"Должность"},{default:s(()=>[E(V(v.position),1)]),_:2},1024),a(C,{label:"Департамент"},{default:s(()=>[E(V(v.department),1)]),_:2},1024)]))]),_:2},[l.editable&&(!t(_)||t(c)!=v.id.toString())?{name:"footer",fn:s(()=>[a(M,{navlen:2,onDelete:L=>b(v.id),onUpdate:L=>{y.value=v,c.value=v.id.toString(),_.value=!0}},null,8,["onDelete","onUpdate"])]),key:"0"}:void 0]),1024))]))),128))])):(i(),$("div",Rn,[t(w)=="pending"||t(p)?(i(),I(T,{key:0,rows:2})):(i(),$("p",Gn,"Данные о должностях отсутствуют"))]))],64)}}}),Kn=A({__name:"EducationForm",props:{education:{type:Object,default:{}},candId:{type:String,default:""}},emits:["cancel","update"],setup(e,{emit:o}){const u=o,n=H(e.education);function l(){u("update",n.value),p()}function d(){u("cancel"),p()}function p(){Object.assign(n.value,{view:"",institution:"",finished:"",specialty:""})}return(_,c)=>{const y=_e,m=se,r=le,w=re,k=de;return i(),I(k,{state:t(n),onSubmit:ee(l,["prevent"])},{default:s(()=>[a(m,{class:"mb-3",label:"Вид образования"},{default:s(()=>[a(y,{modelValue:t(n).view,"onUpdate:modelValue":c[0]||(c[0]=b=>t(n).view=b),required:"",options:["Основное общее","Среднее общее","Среднее профессиональное","Высшее","Неоконченное высшее образование","Другое образование"]},null,8,["modelValue"])]),_:1}),a(m,{class:"mb-3",label:"Название учебного заведения"},{default:s(()=>[a(r,{modelValue:t(n).institution,"onUpdate:modelValue":c[1]||(c[1]=b=>t(n).institution=b),modelModifiers:{trim:!0,lazy:!0},required:"",placeholder:"Название учебного заведения"},null,8,["modelValue"])]),_:1}),a(m,{class:"mb-3",label:"Год окончания"},{default:s(()=>[a(r,{modelValue:t(n).finished,"onUpdate:modelValue":c[2]||(c[2]=b=>t(n).finished=b),modelModifiers:{trim:!0,lazy:!0},placeholder:"Год окончания"},null,8,["modelValue"])]),_:1}),a(m,{class:"mb-3",label:"Специальность"},{default:s(()=>[a(r,{modelValue:t(n).specialty,"onUpdate:modelValue":c[3]||(c[3]=b=>t(n).specialty=b),modelModifiers:{trim:!0,lazy:!0},placeholder:"Специальность"},null,8,["modelValue"])]),_:1}),a(w,{onCancel:d})]),_:1},8,["state"])}}}),Jn={key:0,class:"py-3"},Qn={key:1},Xn={key:1},Yn={key:2,class:"p-3"},Zn={key:1,class:"text-primary"},ea=A({__name:"EducateDiv",props:{candId:{type:String,default:""},editable:{type:Boolean,default:!1}},async setup(e){let o,u;const f=W(),n=Y(),l=e,d=U(!1),p=U(!1),_=U(""),c=U(!1),y=U({}),{data:m,refresh:r,status:w}=([o,u]=X(async()=>ie("educations",async()=>await f("/api/educations/"+l.candId))),o=await o,u(),o);async function k(g){p.value=!0,h(),await f("/api/educations/"+l.candId,{method:"POST",body:g}),n.add({icon:"i-heroicons-check-circle",title:"Успешно",description:"Информация обновлена",color:"green"}),p.value=!1,r()}async function b(g){h(),confirm("Вы действительно хотите удалить запись?")&&(await f("/api/educations/"+g,{method:"DELETE"}),n.add({icon:"i-heroicons-information-circle",title:"Информация",description:`Запись с ID ${g} удалена`,color:"primary"}),r())}async function S(){h(),r()}function h(){c.value=!1,_.value="",d.value=!1}return(g,D)=>{const O=G,F=Kn,x=Z,T=ne,C=ae,M=oe;return i(),$(P,null,[l.editable?(i(),I(O,{key:0,label:t(d)?"Скрыть форму":"Добавить запись",variant:"link",onClick:D[0]||(D[0]=v=>d.value=!t(d))},null,8,["label"])):z("",!0),a(Q,{name:"slide-fade"},{default:s(()=>[t(d)?(i(),$("div",Jn,[a(x,null,{default:s(()=>[a(F,{"cand-id":l.candId,onCancel:S,onUpdate:k},null,8,["cand-id"])]),_:1})])):z("",!0)]),_:1}),t(m)&&t(m).length?(i(),$("div",Qn,[(i(!0),$(P,null,R(t(m),(v,q)=>(i(),$("div",{key:q,class:"p-1"},[t(w)=="pending"||t(p)?(i(),I(T,{key:0,rows:8})):(i(),I(x,{key:1},te({default:s(()=>[t(c)&&t(_)==v.id.toString()?(i(),I(F,{key:0,"cand-id":l.candId,education:t(y),onCancel:S,onUpdate:k},null,8,["cand-id","education"])):(i(),$("div",Xn,[a(C,{label:"Уровень образования"},{default:s(()=>[E(V(v.view),1)]),_:2},1024),a(C,{label:"Название учебного заведения"},{default:s(()=>[E(V(v.institution),1)]),_:2},1024),a(C,{label:"Год окончания"},{default:s(()=>[E(V(v.finished),1)]),_:2},1024),a(C,{label:"Специальность"},{default:s(()=>[E(V(v.specialty),1)]),_:2},1024)]))]),_:2},[l.editable&&(!t(c)||t(_)!=v.id.toString())?{name:"footer",fn:s(()=>[a(M,{navlen:2,onDelete:L=>b(v.id),onUpdate:L=>{y.value=v,_.value=v.id.toString(),c.value=!0}},null,8,["onDelete","onUpdate"])]),key:"0"}:void 0]),1024))]))),128))])):(i(),$("div",Yn,[t(w)=="pending"||t(p)?(i(),I(T,{key:0,rows:8})):(i(),$("p",Zn,"Данные отсутствуют"))]))],64)}}}),ta=A({__name:"WorkplaceForm",props:{work:{type:Object,default:{}},candId:{type:String,default:""}},emits:["cancel","update"],setup(e,{emit:o}){const u=o,n=H(e.work);n.value.starts=n.value.starts?new Date(n.value.starts).toISOString().slice(0,10):"",n.value.finished=n.value.finished?new Date(n.value.finished).toISOString().slice(0,10):"";function l(){u("update",n.value),p()}function d(){u("cancel"),p()}function p(){Object.assign(n.value,{now_work:!1,starts:"",finished:"",workplace:"",position:"",addresses:"",reason:""})}return(_,c)=>{const y=Rt,m=se,r=le,w=re,k=de;return i(),I(k,{state:t(n),onSubmit:ee(l,["prevent"])},{default:s(()=>[a(m,{class:"mb-3",label:"Текущая работа"},{default:s(()=>[a(y,{modelValue:t(n).now_work,"onUpdate:modelValue":c[0]||(c[0]=b=>t(n).now_work=b)},null,8,["modelValue"])]),_:1}),a(m,{class:"mb-3",label:"Начало работы"},{default:s(()=>[a(r,{modelValue:t(n).starts,"onUpdate:modelValue":c[1]||(c[1]=b=>t(n).starts=b),required:"",placeholder:"Начало работы",type:"date"},null,8,["modelValue"])]),_:1}),a(m,{class:"mb-3",label:"Окончание работы"},{default:s(()=>[a(r,{modelValue:t(n).finished,"onUpdate:modelValue":c[2]||(c[2]=b=>t(n).finished=b),required:"",placeholder:"Окончание работы",type:"date"},null,8,["modelValue"])]),_:1}),a(m,{class:"mb-3",label:"Место работы"},{default:s(()=>[a(r,{modelValue:t(n).workplace,"onUpdate:modelValue":c[3]||(c[3]=b=>t(n).workplace=b),modelModifiers:{trim:!0,lazy:!0},required:"",placeholder:"Место работы"},null,8,["modelValue"])]),_:1}),a(m,{class:"mb-3",label:"Должность"},{default:s(()=>[a(r,{modelValue:t(n).position,"onUpdate:modelValue":c[4]||(c[4]=b=>t(n).position=b),modelModifiers:{trim:!0,lazy:!0},required:"",placeholder:"Должность"},null,8,["modelValue"])]),_:1}),a(m,{class:"mb-3",label:"Адрес организации"},{default:s(()=>[a(r,{modelValue:t(n).addresses,"onUpdate:modelValue":c[5]||(c[5]=b=>t(n).addresses=b),modelModifiers:{trim:!0,lazy:!0},placeholder:"Адрес организации"},null,8,["modelValue"])]),_:1}),a(m,{class:"mb-3",label:"Причина увольнения"},{default:s(()=>[a(r,{modelValue:t(n).reason,"onUpdate:modelValue":c[6]||(c[6]=b=>t(n).reason=b),modelModifiers:{trim:!0,lazy:!0},placeholder:"Причина увольнения"},null,8,["modelValue"])]),_:1}),a(w,{onCancel:d})]),_:1},8,["state"])}}}),na={key:0,class:"py-3"},aa={key:1},oa={key:1},la={key:2,class:"p-3"},sa={key:1,class:"text-primary"},ia=A({__name:"WorkDiv",props:{candId:{type:String,default:""},editable:{type:Boolean,default:!1}},async setup(e){let o,u;const f=W(),n=Y(),l=e,d=U(!1),p=U(!1),_=U(!1),c=U(""),y=U({}),{data:m,refresh:r,status:w}=([o,u]=X(async()=>ie("workplaces",async()=>await f("/api/workplaces/"+l.candId))),o=await o,u(),o);async function k(g){p.value=!1,h(),await f("/api/workplaces/"+l.candId,{method:"POST",body:g}),n.add({icon:"i-heroicons-check-circle",title:"Успешно",description:"Информация обновлена",color:"green"}),p.value=!1,r()}async function b(g){h(),confirm("Вы действительно хотите удалить запись?")&&(await f("/api/workplaces/"+g,{method:"DELETE"}),n.add({icon:"i-heroicons-information-circle",title:"Информация",description:`Запись с ID ${g} удалена`,color:"primary"}),r())}async function S(){h(),r()}function h(){_.value=!1,c.value="",d.value=!1}return(g,D)=>{const O=G,F=ta,x=Z,T=ne,C=ae,M=oe;return i(),$(P,null,[l.editable?(i(),I(O,{key:0,label:t(d)?"Скрыть форму":"Добавить запись",variant:"link",onClick:D[0]||(D[0]=v=>d.value=!t(d))},null,8,["label"])):z("",!0),a(Q,{name:"slide-fade"},{default:s(()=>[t(d)?(i(),$("div",na,[a(x,null,{default:s(()=>[a(F,{"cand-id":l.candId,onCancel:S,onUpdate:k},null,8,["cand-id"])]),_:1})])):z("",!0)]),_:1}),t(m)&&t(m).length?(i(),$("div",aa,[(i(!0),$(P,null,R(t(m),(v,q)=>(i(),$("div",{key:q,class:"p-1"},[t(w)=="pending"||t(p)?(i(),I(T,{key:0,rows:8})):(i(),I(x,{key:1},te({default:s(()=>[t(_)&&t(c)==v.id.toString()?(i(),I(F,{key:0,"cand-id":l.candId,work:t(y),onCancel:S,onUpdate:k},null,8,["cand-id","work"])):(i(),$("div",oa,[v.now_work?(i(),I(C,{key:0,label:"Текущая работа"},{default:s(()=>[E(V(v.now_work?"Да":"Нет"),1)]),_:2},1024)):z("",!0),a(C,{label:"Начало работы"},{default:s(()=>[E(V(new Date(v.starts).toLocaleDateString("ru-RU")),1)]),_:2},1024),v.now_work?z("",!0):(i(),I(C,{key:1,label:"Окончание работы"},{default:s(()=>[E(V(new Date(v.finished).toLocaleDateString("ru-RU")),1)]),_:2},1024)),a(C,{label:"Место работы"},{default:s(()=>[E(V(v.workplace),1)]),_:2},1024),a(C,{label:"Адрес"},{default:s(()=>[E(V(v.addresses),1)]),_:2},1024),a(C,{label:"Должность"},{default:s(()=>[E(V(v.position),1)]),_:2},1024),v.reason?(i(),I(C,{key:2,label:"Причина увольнения"},{default:s(()=>[E(V(v.reason),1)]),_:2},1024)):z("",!0)]))]),_:2},[l.editable&&(!t(_)||t(c)!=v.id.toString())?{name:"footer",fn:s(()=>[a(M,{navlen:2,onDelete:L=>b(v.id),onUpdate:L=>{y.value=v,c.value=v.id.toString(),_.value=!0}},null,8,["onDelete","onUpdate"])]),key:"0"}:void 0]),1024))]))),128))])):(i(),$("div",la,[t(w)=="pending"||t(p)?(i(),I(T,{key:0,rows:8})):(i(),$("p",sa,"Данные о работе отсутствуют"))]))],64)}}}),ra=A({__name:"DocumentForm",props:{docs:{type:Object,default:{}},candId:{type:String,default:""}},emits:["cancel","update"],setup(e,{emit:o}){const u=o,n=H(e.docs);n.value.issue=n.value.issue?new Date(n.value.issue).toISOString().slice(0,10):"";function l(){u("update",n.value),p()}function d(){u("cancel"),p()}function p(){Object.assign(n.value,{view:"",series:"",digits:"",agency:"",issue:""})}return(_,c)=>{const y=_e,m=se,r=le,w=re,k=de;return i(),I(k,{state:t(n),onSubmit:ee(l,["prevent"])},{default:s(()=>[a(m,{class:"mb-3",label:"Вид документа"},{default:s(()=>[a(y,{modelValue:t(n).view,"onUpdate:modelValue":c[0]||(c[0]=b=>t(n).view=b),required:"",options:["Паспорт","Иностарнный паспорт","Другое"]},null,8,["modelValue"])]),_:1}),a(m,{class:"mb-3",label:"Серия документа"},{default:s(()=>[a(r,{modelValue:t(n).series,"onUpdate:modelValue":c[1]||(c[1]=b=>t(n).series=b),modelModifiers:{trim:!0,lazy:!0},placeholder:"Серия документа"},null,8,["modelValue"])]),_:1}),a(m,{class:"mb-3",label:"Номер документа"},{default:s(()=>[a(r,{modelValue:t(n).digits,"onUpdate:modelValue":c[2]||(c[2]=b=>t(n).digits=b),modelModifiers:{trim:!0,lazy:!0},required:"",placeholder:"Номер документа"},null,8,["modelValue"])]),_:1}),a(m,{class:"mb-3",label:"Кем выдан"},{default:s(()=>[a(r,{modelValue:t(n).agency,"onUpdate:modelValue":c[3]||(c[3]=b=>t(n).agency=b),modelModifiers:{trim:!0},placeholder:"Кем выдан"},null,8,["modelValue"])]),_:1}),a(m,{class:"mb-3",label:"Дата выдачи"},{default:s(()=>[a(r,{modelValue:t(n).issue,"onUpdate:modelValue":c[4]||(c[4]=b=>t(n).issue=b),modelModifiers:{trim:!0,lazy:!0},required:"",type:"date"},null,8,["modelValue"])]),_:1}),a(w,{onCancel:d})]),_:1},8,["state"])}}}),da={key:0,class:"py-3"},ua={key:1},ca={key:1},pa={key:2,class:"p-3"},fa={key:1,class:"text-primary"},ma=A({__name:"DocumDiv",props:{candId:{type:String,default:""},editable:{type:Boolean,default:!1}},async setup(e){let o,u;const f=W(),n=Y(),l=e,d=U(!1),p=U(!1),_=U(""),c=U(!1),y=U({}),{data:m,refresh:r,status:w}=([o,u]=X(async()=>ie("documents",async()=>await f("/api/documents/"+l.candId))),o=await o,u(),o);async function k(g){p.value=!0,h(),await f("/api/documents/"+l.candId,{method:"POST",body:g}),n.add({icon:"i-heroicons-check-circle",title:"Успешно",description:"Информация обновлена",color:"green"}),p.value=!1,r()}async function b(g){h(),confirm("Вы действительно хотите удалить запись?")&&(await f("/api/documents/"+g,{method:"DELETE"}),n.add({icon:"i-heroicons-information-circle",title:"Информация",description:`Запись с ID ${g} удалена`,color:"primary"}),r())}async function S(){h(),r()}function h(){c.value=!1,_.value="",d.value=!1}return(g,D)=>{const O=G,F=ra,x=Z,T=ne,C=ae,M=oe;return i(),$(P,null,[l.editable?(i(),I(O,{key:0,label:t(d)?"Скрыть форму":"Добавить запись",variant:"link",onClick:D[0]||(D[0]=v=>d.value=!t(d))},null,8,["label"])):z("",!0),a(Q,{name:"slide-fade"},{default:s(()=>[t(d)?(i(),$("div",da,[a(x,null,{default:s(()=>[a(F,{"cand-id":l.candId,onCancel:S,onUpdate:k},null,8,["cand-id"])]),_:1})])):z("",!0)]),_:1}),t(m)&&t(m).length?(i(),$("div",ua,[(i(!0),$(P,null,R(t(m),(v,q)=>(i(),$("div",{key:q,class:"p-1"},[t(w)=="pending"||t(p)?(i(),I(T,{key:0,rows:8})):(i(),I(x,{key:1},te({default:s(()=>[t(c)&&t(_)==v.id.toString()?(i(),I(F,{key:0,"cand-id":l.candId,docs:t(y),onCancel:S,onUpdate:k},null,8,["cand-id","docs"])):(i(),$("div",ca,[a(C,{label:"Вид документа"},{default:s(()=>[E(V(v.view),1)]),_:2},1024),a(C,{label:"Номер документа"},{default:s(()=>[E(V(v.digits),1)]),_:2},1024),a(C,{label:"Серия документа"},{default:s(()=>[E(V(v.series),1)]),_:2},1024),a(C,{label:"Дата выдачи"},{default:s(()=>[E(V(v.issue?new Date(String(v.issue)).toLocaleDateString("ru-RU"):""),1)]),_:2},1024),a(C,{label:"Кем выдан"},{default:s(()=>[E(V(v.agency),1)]),_:2},1024)]))]),_:2},[l.editable&&(!t(c)||t(_)!=v.id.toString())?{name:"footer",fn:s(()=>[a(M,{navlen:2,onDelete:L=>b(v.id),onUpdate:L=>{y.value=v,_.value=v.id.toString(),c.value=!0}},null,8,["onDelete","onUpdate"])]),key:"0"}:void 0]),1024))]))),128))])):(i(),$("div",pa,[t(w)=="pending"||t(p)?(i(),I(T,{key:0,rows:8})):(i(),$("p",fa,"Данные отсутствуют"))]))],64)}}}),_a=A({__name:"AddressForm",props:{addrs:{type:Object,default:{}},candId:{type:String,default:""}},emits:["cancel","update"],setup(e,{emit:o}){const u=o,n=H(e.addrs);function l(){u("update",n.value),p()}function d(){u("cancel"),p()}function p(){Object.assign(n.value,{view:"",addresses:""})}return(_,c)=>{const y=_e,m=se,r=le,w=re,k=de;return i(),I(k,{state:t(n),onSubmit:ee(l,["prevent"])},{default:s(()=>[a(m,{class:"mb-3",label:"Вид адреса"},{default:s(()=>[a(y,{modelValue:t(n).view,"onUpdate:modelValue":c[0]||(c[0]=b=>t(n).view=b),modelModifiers:{trim:!0,lazy:!0},required:"",options:["Адрес регистрации","Адрес проживания","Другое"]},null,8,["modelValue"])]),_:1}),a(m,{class:"mb-3",label:"Адрес"},{default:s(()=>[a(r,{modelValue:t(n).addresses,"onUpdate:modelValue":c[1]||(c[1]=b=>t(n).addresses=b),modelModifiers:{trim:!0,lazy:!0},required:"",placeholder:"Адрес"},null,8,["modelValue"])]),_:1}),a(w,{onCancel:d})]),_:1},8,["state"])}}}),va={key:0,class:"p-1"},ba={key:1},ya={key:1},ga={key:2,class:"p-3"},ha={key:1,class:"text-primary"},ka=A({__name:"AddressDiv",props:{candId:{type:String,default:""},editable:{type:Boolean,default:!1}},async setup(e){let o,u;const f=W(),n=Y(),l=e,d=U(!1),p=U(!1),_=U(!1),c=U(""),y=U({}),{data:m,refresh:r,status:w}=([o,u]=X(async()=>ie("addresses",async()=>await f("/api/addresses/"+l.candId))),o=await o,u(),o);async function k(g){p.value=!0,h(),await f("/api/addresses/"+l.candId,{method:"POST",body:g}),n.add({icon:"i-heroicons-check-circle",title:"Успешно",description:"Информация обновлена",color:"green"}),p.value=!1,r()}async function b(g){h(),confirm("Вы действительно хотите удалить запись?")&&(await f("/api/addresses/"+g,{method:"DELETE"}),n.add({icon:"i-heroicons-information-circle",title:"Информация",description:`Запись с ID ${g} удалена`,color:"primary"}),r())}async function S(){h(),r()}function h(){_.value=!1,d.value=!1,c.value=""}return(g,D)=>{const O=G,F=_a,x=Z,T=ne,C=ae,M=oe;return i(),$(P,null,[l.editable?(i(),I(O,{key:0,label:t(d)?"Скрыть форму":"Добавить запись",variant:"link",onClick:D[0]||(D[0]=v=>d.value=!t(d))},null,8,["label"])):z("",!0),a(Q,{name:"slide-fade"},{default:s(()=>[t(d)?(i(),$("div",va,[a(x,null,{default:s(()=>[a(F,{"cand-id":l.candId,onCancel:S,onUpdate:k},null,8,["cand-id"])]),_:1})])):z("",!0)]),_:1}),t(m)&&t(m).length?(i(),$("div",ba,[(i(!0),$(P,null,R(t(m),(v,q)=>(i(),$("div",{key:q,class:"py-3"},[t(w)=="pending"||t(p)?(i(),I(T,{key:0,rows:8})):(i(),I(x,{key:1},te({default:s(()=>[t(_)&&t(c)==v.id.toString()?(i(),I(F,{key:0,"cand-id":l.candId,addrs:t(y),onCancel:S,onUpdate:k},null,8,["cand-id","addrs"])):(i(),$("div",ya,[a(C,{label:"Тип"},{default:s(()=>[E(V(v.view),1)]),_:2},1024),a(C,{label:"Адрес"},{default:s(()=>[E(V(v.addresses),1)]),_:2},1024)]))]),_:2},[l.editable&&(!t(_)||t(c)!=v.id.toString())?{name:"footer",fn:s(()=>[a(M,{navlen:2,onDelete:L=>b(v.id),onUpdate:L=>{y.value=v,c.value=v.id.toString(),_.value=!0}},null,8,["onDelete","onUpdate"])]),key:"0"}:void 0]),1024))]))),128))])):(i(),$("div",ga,[t(w)=="pending"||t(p)?(i(),I(T,{key:0,rows:8})):(i(),$("p",ha,"Адреса отсутствуют"))]))],64)}}}),wa=A({__name:"ContactForm",props:{contact:{type:Object,default:{}},candId:{type:String,default:""}},emits:["cancel","update"],setup(e,{emit:o}){const u=o,n=H(e.contact);function l(){u("update",n.value),p()}function d(){u("cancel"),p()}function p(){Object.assign(n.value,{view:"",contact:""})}return(_,c)=>{const y=_e,m=se,r=le,w=re,k=de;return i(),I(k,{state:t(n),onSubmit:ee(l,["prevent"])},{default:s(()=>[a(m,{class:"mb-3",label:"Вид контакта"},{default:s(()=>[a(y,{modelValue:t(n).view,"onUpdate:modelValue":c[0]||(c[0]=b=>t(n).view=b),modelModifiers:{trim:!0,lazy:!0},required:"",options:["Телефон","Электронная почта","Другое"]},null,8,["modelValue"])]),_:1}),a(m,{class:"mb-3",label:"Контакт"},{default:s(()=>[a(r,{modelValue:t(n).contact,"onUpdate:modelValue":c[1]||(c[1]=b=>t(n).contact=b),modelModifiers:{trim:!0,lazy:!0},required:"",placeholder:"Контакт"},null,8,["modelValue"])]),_:1}),a(w,{onCancel:d})]),_:1},8,["state"])}}}),$a={key:0,class:"py-3"},Sa={key:1},Ia={key:1},Ua={key:2,class:"p-3"},Da={key:1,class:"text-primary"},Va=A({__name:"ContactDiv",props:{candId:{type:String,default:""},editable:{type:Boolean,default:!1}},async setup(e){let o,u;const f=W(),n=Y(),l=e,d=U(!1),p=U(!1),_=U(""),c=U(!1),y=U({}),{data:m,refresh:r,status:w}=([o,u]=X(async()=>ie("contacts",async()=>await f("/api/contacts/"+l.candId))),o=await o,u(),o);async function k(g){p.value=!0,h(),await f("/api/contacts/"+l.candId,{method:"POST",body:g}),n.add({icon:"i-heroicons-check-circle",title:"Успешно",description:"Информация обновлена",color:"green"}),p.value=!1,r()}async function b(g){h(),confirm("Вы действительно хотите удалить запись?")&&(await f("/api/contacts/"+g,{method:"DELETE"}),n.add({icon:"i-heroicons-information-circle",title:"Информация",description:`Запись с ID ${g} удалена`,color:"primary"}),r())}async function S(){h(),r()}function h(){c.value=!1,_.value="",d.value=!1}return(g,D)=>{const O=G,F=wa,x=Z,T=ne,C=ae,M=oe;return i(),$(P,null,[l.editable?(i(),I(O,{key:0,label:t(d)?"Скрыть форму":"Добавить запись",variant:"link",onClick:D[0]||(D[0]=v=>d.value=!t(d))},null,8,["label"])):z("",!0),a(Q,{name:"slide-fade"},{default:s(()=>[t(d)?(i(),$("div",$a,[a(x,null,{default:s(()=>[a(F,{"cand-id":l.candId,onCancel:S,onUpdate:k},null,8,["cand-id"])]),_:1})])):z("",!0)]),_:1}),t(m)&&t(m).length?(i(),$("div",Sa,[(i(!0),$(P,null,R(t(m),(v,q)=>(i(),$("div",{key:q,class:"p-1"},[t(w)=="pending"||t(p)?(i(),I(T,{key:0,rows:8})):(i(),I(x,{key:1},te({default:s(()=>[t(c)&&t(_)==v.id.toString()?(i(),I(F,{key:0,"cand-id":l.candId,contact:t(y),onCancel:S,onUpdate:k},null,8,["cand-id","contact"])):(i(),$("div",Ia,[a(C,{label:"Вид"},{default:s(()=>[E(V(v.view),1)]),_:2},1024),a(C,{label:"Контакт"},{default:s(()=>[E(V(v.contact),1)]),_:2},1024)]))]),_:2},[l.editable&&(!t(c)||t(_)!=v.id.toString())?{name:"footer",fn:s(()=>[a(M,{navlen:2,onDelete:L=>b(v.id),onUpdate:L=>{y.value=v,_.value=v.id.toString(),c.value=!0}},null,8,["onDelete","onUpdate"])]),key:"0"}:void 0]),1024))]))),128))])):(i(),$("div",Ua,[t(w)=="pending"||t(p)?(i(),I(T,{key:0,rows:2})):(i(),$("p",Da,"Данные отсутствуют"))]))],64)}}}),Ea=A({__name:"AffilationForm",props:{affils:{type:Object,default:{}},candId:{type:String,default:""}},emits:["cancel","update"],setup(e,{emit:o}){const u=o,n=H(e.affils);function l(){u("update",n.value),p()}function d(){u("cancel"),p()}function p(){Object.assign(n.value,{view:"",organization:"",inn:""})}return(_,c)=>{const y=_e,m=se,r=le,w=re,k=de;return i(),I(k,{state:t(n),onSubmit:ee(l,["prevent"])},{default:s(()=>[a(m,{class:"mb-3",label:"Тип участия"},{default:s(()=>[a(y,{modelValue:t(n).view,"onUpdate:modelValue":c[0]||(c[0]=b=>t(n).view=b),modelModifiers:{trim:!0,lazy:!0},required:"",options:["Являлся государственным/муниципальным служащим","Являлся государственным должностным лицом","Связанные лица работают в государственных организациях","Участвует в деятельности коммерческих организаций"]},null,8,["modelValue"])]),_:1}),a(m,{class:"mb-3",label:"Организация"},{default:s(()=>[a(r,{modelValue:t(n).organization,"onUpdate:modelValue":c[1]||(c[1]=b=>t(n).organization=b),modelModifiers:{trim:!0,lazy:!0},required:"",placeholder:"Организация"},null,8,["modelValue"])]),_:1}),a(m,{class:"mb-3",label:"ИНН"},{default:s(()=>[a(r,{modelValue:t(n).inn,"onUpdate:modelValue":c[2]||(c[2]=b=>t(n).inn=b),modelModifiers:{trim:!0,lazy:!0},placeholder:"ИНН"},null,8,["modelValue"])]),_:1}),a(w,{onCancel:d})]),_:1},8,["state"])}}}),Ca={key:0,class:"py-3"},Fa={key:1},xa={key:1},Oa={key:2,class:"p-3"},Ta={key:1,class:"text-primary"},za=A({__name:"AffilDiv",props:{candId:{type:String,default:""},editable:{type:Boolean,default:!1}},async setup(e){let o,u;const f=W(),n=Y(),l=e,d=U(!1),p=U(!1),_=U(!1),c=U(""),y=U({}),{data:m,refresh:r,status:w}=([o,u]=X(async()=>ie("affilations",async()=>await f("/api/affilations/"+l.candId))),o=await o,u(),o);async function k(g){p.value=!0,h(),await f("/api/affilations/"+l.candId,{method:"POST",body:g}),n.add({icon:"i-heroicons-check-circle",title:"Успешно",description:"Информация обновлена",color:"green"}),p.value=!1,r()}async function b(g){h(),confirm("Вы действительно хотите удалить запись?")&&(await f("/api/affilations/"+g,{method:"DELETE"}),n.add({icon:"i-heroicons-information-circle",title:"Информация",description:`Запись с ID ${g} удалена`,color:"primary"}),r())}async function S(){h(),r()}function h(){_.value=!1,c.value="",d.value=!1}return(g,D)=>{const O=G,F=Ea,x=Z,T=ne,C=ae,M=oe;return i(),$(P,null,[l.editable?(i(),I(O,{key:0,label:t(d)?"Скрыть форму":"Добавить запись",variant:"link",onClick:D[0]||(D[0]=v=>d.value=!t(d))},null,8,["label"])):z("",!0),a(Q,{name:"slide-fade"},{default:s(()=>[t(d)?(i(),$("div",Ca,[a(x,null,{default:s(()=>[a(F,{"cand-id":l.candId,onCancel:S,onUpdate:k},null,8,["cand-id"])]),_:1})])):z("",!0)]),_:1}),t(m)&&t(m).length?(i(),$("div",Fa,[(i(!0),$(P,null,R(t(m),(v,q)=>(i(),$("div",{key:q,class:"p-1"},[t(w)=="pending"||t(p)?(i(),I(T,{key:0,rows:8})):(i(),I(x,{key:1},te({default:s(()=>[t(_)&&t(c)==v.id.toString()?(i(),I(F,{key:0,"cand-id":l.candId,affils:t(y),onCancel:S,onUpdate:k},null,8,["cand-id","affils"])):(i(),$("div",xa,[a(C,{label:"Тип участия"},{default:s(()=>[E(V(v.view),1)]),_:2},1024),a(C,{label:"Организация"},{default:s(()=>[E(V(v.organization),1)]),_:2},1024),a(C,{label:"ИНН"},{default:s(()=>[E(V(v.inn),1)]),_:2},1024)]))]),_:2},[l.editable&&(!t(_)||t(c)!=v.id.toString())?{name:"footer",fn:s(()=>[a(M,{navlen:2,onDelete:L=>b(v.id),onUpdate:L=>{y.value=v,c.value=v.id.toString(),_.value=!0}},null,8,["onDelete","onUpdate"])]),key:"0"}:void 0]),1024))]))),128))])):(i(),$("div",Oa,[t(w)=="pending"||t(p)?(i(),I(T,{key:0,rows:8})):(i(),$("p",Ta,"Данные отсутствуют"))]))],64)}}}),Aa=A({__name:"PreviousForm",props:{previous:{type:Object,default:{}},candId:{type:String,default:""}},emits:["cancel","update"],setup(e,{emit:o}){const u=o,n=H(e.previous);function l(){u("update",n.value),p()}function d(){u("cancel"),p()}function p(){Object.assign(n.value,{surname:"",firstname:"",patronymic:"",changed:"",reason:""})}return(_,c)=>{const y=le,m=se,r=re,w=de;return i(),I(w,{state:t(n),onSubmit:ee(l,["prevent"])},{default:s(()=>[a(m,{class:"mb-3",label:"Фамилия"},{default:s(()=>[a(y,{modelValue:t(n).surname,"onUpdate:modelValue":c[0]||(c[0]=k=>t(n).surname=k),modelModifiers:{trim:!0,lazy:!0},required:"",placeholder:"Фамилия"},null,8,["modelValue"])]),_:1}),a(m,{class:"mb-3",label:"Имя"},{default:s(()=>[a(y,{modelValue:t(n).firstname,"onUpdate:modelValue":c[1]||(c[1]=k=>t(n).firstname=k),modelModifiers:{trim:!0,lazy:!0},required:"",placeholder:"Имя"},null,8,["modelValue"])]),_:1}),a(m,{class:"mb-3",label:"Отчество"},{default:s(()=>[a(y,{modelValue:t(n).patronymic,"onUpdate:modelValue":c[2]||(c[2]=k=>t(n).patronymic=k),modelModifiers:{trim:!0,lazy:!0},placeholder:"Отчество"},null,8,["modelValue"])]),_:1}),a(m,{class:"mb-3",label:"Год изменения"},{default:s(()=>[a(y,{modelValue:t(n).changed,"onUpdate:modelValue":c[3]||(c[3]=k=>t(n).changed=k),modelModifiers:{trim:!0,lazy:!0},placeholder:"Год изменения"},null,8,["modelValue"])]),_:1}),a(m,{class:"mb-3",label:"Причина изменения"},{default:s(()=>[a(y,{modelValue:t(n).reason,"onUpdate:modelValue":c[4]||(c[4]=k=>t(n).reason=k),modelModifiers:{trim:!0,lazy:!0},placeholder:"Причина изменения"},null,8,["modelValue"])]),_:1}),a(r,{onCancel:d})]),_:1},8,["state"])}}}),Ba={key:0,class:"py-3"},Pa={key:1},qa={key:1},Ma={key:2,class:"p-3"},La={key:1,class:"text-primary"},ja=A({__name:"PrevDiv",props:{candId:{type:String,default:""},editable:{type:Boolean,default:!1}},async setup(e){let o,u;const f=W(),n=Y(),l=e,d=U(!1),p=U(!1),_=U(!1),c=U(""),y=U({}),{data:m,refresh:r,status:w}=([o,u]=X(async()=>ie("previous",async()=>await f("/api/previous/"+l.candId))),o=await o,u(),o);async function k(g){p.value=!0,h(),await f("/api/previous/"+l.candId,{method:"POST",body:g}),n.add({icon:"i-heroicons-check-circle",title:"Успешно",description:"Информация обновлена",color:"green"}),p.value=!1,r()}async function b(g){h(),confirm("Вы действительно хотите удалить запись?")&&(await f("/api/previous/"+g,{method:"DELETE"}),n.add({icon:"i-heroicons-information-circle",title:"Информация",description:`Запись с ID ${g} удалена`,color:"primary"}),r())}async function S(){h(),r()}function h(){_.value=!1,c.value="",d.value=!1}return(g,D)=>{const O=G,F=Aa,x=Z,T=ne,C=ae,M=oe;return i(),$(P,null,[l.editable?(i(),I(O,{key:0,label:t(d)?"Скрыть форму":"Добавить запись",variant:"link",onClick:D[0]||(D[0]=v=>d.value=!t(d))},null,8,["label"])):z("",!0),a(Q,{name:"slide-fade"},{default:s(()=>[t(d)?(i(),$("div",Ba,[a(x,null,{default:s(()=>[a(F,{"cand-id":l.candId,onCancel:S,onUpdate:k},null,8,["cand-id"])]),_:1})])):z("",!0)]),_:1}),t(m)&&t(m).length?(i(),$("div",Pa,[(i(!0),$(P,null,R(t(m),(v,q)=>(i(),$("div",{key:q,class:"p-1"},[t(w)=="pending"||t(p)?(i(),I(T,{key:0,rows:4})):(i(),I(x,{key:1},te({default:s(()=>[t(_)&&t(c)==v.id.toString()?(i(),I(F,{key:0,"cand-id":l.candId,previous:t(y),onCancel:S,onUpdate:k},null,8,["cand-id","previous"])):(i(),$("div",qa,[a(C,{label:"Фамилия"},{default:s(()=>[E(V(v.surname),1)]),_:2},1024),a(C,{label:"Имя"},{default:s(()=>[E(V(v.firstname),1)]),_:2},1024),v.patronymic?(i(),I(C,{key:0,label:"Отчество"},{default:s(()=>[E(V(v.patronymic),1)]),_:2},1024)):z("",!0),v.changed?(i(),I(C,{key:1,label:"Год изменения"},{default:s(()=>[E(V(v.changed),1)]),_:2},1024)):z("",!0),v.reason?(i(),I(C,{key:2,label:"Причина"},{default:s(()=>[E(V(v.reason),1)]),_:2},1024)):z("",!0)]))]),_:2},[l.editable&&(!t(_)||t(c)!=v.id.toString())?{name:"footer",fn:s(()=>[a(M,{navlen:2,onDelete:L=>b(v.id.toString()),onUpdate:L=>{y.value=v,c.value=v.id.toString(),_.value=!0}},null,8,["onDelete","onUpdate"])]),key:"0"}:void 0]),1024))]))),128))])):(i(),$("div",Ma,[t(w)=="pending"||t(p)?(i(),I(T,{key:0,rows:4})):(i(),$("p",La,"Данные отсутствуют"))]))],64)}}}),Ha=A({__name:"RelationForm",props:{relation:{type:Object,default:{}},candId:{type:String,default:""}},emits:["cancel","update"],setup(e,{emit:o}){const u=o,n=H(e.relation);async function l(){u("update",n.value),p()}function d(){u("cancel"),p()}function p(){Object.assign(n.value,{relation:"",relation_id:""})}return(_,c)=>{const y=_e,m=se,r=le,w=re,k=de;return i(),I(k,{state:t(n),onSubmit:ee(l,["prevent"])},{default:s(()=>[a(m,{class:"mb-3",label:"Тип связи"},{default:s(()=>[a(y,{modelValue:t(n).relation,"onUpdate:modelValue":c[0]||(c[0]=b=>t(n).relation=b),modelModifiers:{trim:!0,lazy:!0},required:"",options:["Одно лицо","Родители-Дети","Братья-Сестры","Супруг-Супруга","Родственники","Близкая связь"]},null,8,["modelValue"])]),_:1}),a(m,{class:"mb-3",label:"ID связи"},{default:s(()=>[a(r,{modelValue:t(n).relation_id,"onUpdate:modelValue":c[1]||(c[1]=b=>t(n).relation_id=b),modelModifiers:{trim:!0,lazy:!0},required:"",type:"number"},null,8,["modelValue"])]),_:1}),a(w,{onCancel:d})]),_:1},8,["state"])}}}),Na={key:0,class:"py-3"},Ra={key:1},Ga={key:1},Wa={key:2,class:"p-3"},Ka={key:1,class:"text-primary"},Ja=A({__name:"RelateDiv",props:{candId:{type:String,default:""},editable:{type:Boolean,default:!1}},async setup(e){let o,u;const f=W(),n=Y(),l=e,d=U(!1),p=U(!1),_=U(!1),c=U(""),y=U({}),{data:m,refresh:r,status:w}=([o,u]=X(async()=>ie("relations",async()=>await f("/api/relations/"+l.candId))),o=await o,u(),o);async function k(g){p.value=!0,h(),await f("/api/relations/"+l.candId,{method:"POST",body:g}),n.add({icon:"i-heroicons-check-circle",title:"Успешно",description:"Информация обновлена",color:"green"}),p.value=!1,r()}async function b(g){h(),confirm("Вы действительно хотите удалить запись?")&&(await f("/api/relations/"+g,{method:"DELETE"}),n.add({icon:"i-heroicons-information-circle",title:"Информация",description:`Запись с ID ${g} удалена`,color:"primary"}),r())}async function S(){h(),r()}function h(){_.value=!1,c.value="",d.value=!1}return(g,D)=>{const O=G,F=Ha,x=Z,T=ne,C=ae,M=Et,v=oe;return i(),$(P,null,[l.editable?(i(),I(O,{key:0,label:t(d)?"Скрыть форму":"Добавить запись",variant:"link",onClick:D[0]||(D[0]=q=>d.value=!t(d))},null,8,["label"])):z("",!0),a(Q,{name:"slide-fade"},{default:s(()=>[t(d)?(i(),$("div",Na,[a(x,null,{default:s(()=>[a(F,{"cand-id":l.candId,onCancel:S,onUpdate:k},null,8,["cand-id"])]),_:1})])):z("",!0)]),_:1}),t(m)&&t(m).length?(i(),$("div",Ra,[(i(!0),$(P,null,R(t(m),(q,L)=>(i(),$("div",{key:L,class:"p-1"},[t(w)=="pending"||t(p)?(i(),I(T,{key:0,rows:2})):(i(),I(x,{key:1},te({default:s(()=>[t(_)&&t(c)==q.id.toString()?(i(),I(F,{key:0,"cand-id":l.candId,relation:t(y),onCancel:S,onUpdate:k},null,8,["cand-id","relation"])):(i(),$("div",Ga,[a(C,{label:"Тип"},{default:s(()=>[E(V(q.relation),1)]),_:2},1024),a(C,{label:"Связь"},{default:s(()=>[a(M,{to:`/profile/${q.relation_id}`},{default:s(()=>[E(" ID #"+V(q.relation_id),1)]),_:2},1032,["to"])]),_:2},1024)]))]),_:2},[l.editable&&(!t(_)||t(c)!=q.id.toString())?{name:"footer",fn:s(()=>[a(v,{navlen:2,onDelete:bt=>b(q.id.toString()),onUpdate:bt=>{y.value=q,c.value=q.id.toString(),_.value=!0}},null,8,["onDelete","onUpdate"])]),key:"0"}:void 0]),1024))]))),128))])):(i(),$("div",Wa,[t(w)=="pending"||t(p)?(i(),I(T,{key:0,rows:2})):(i(),$("p",Ka,"Данные отсутствуют"))]))],64)}}});function Qa(e){typeof queueMicrotask=="function"?queueMicrotask(e):Promise.resolve().then(e).catch(o=>setTimeout(()=>{throw o}))}var Xa=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(Xa||{});let mt=Symbol("DisclosureContext");function Ge(e){let o=Ie(mt,null);if(o===null){let u=new Error(`<${e} /> is missing a parent <Disclosure /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(u,Ge),u}return o}let _t=Symbol("DisclosurePanelContext");function Ya(){return Ie(_t,null)}let Za=A({name:"Disclosure",props:{as:{type:[Object,String],default:"template"},defaultOpen:{type:[Boolean],default:!1}},setup(e,{slots:o,attrs:u}){let f=U(e.defaultOpen?0:1),n=U(null),l=U(null),d={buttonId:U(`headlessui-disclosure-button-${Ce()}`),panelId:U(`headlessui-disclosure-panel-${Ce()}`),disclosureState:f,panel:n,button:l,toggleDisclosure(){f.value=he(f.value,{0:1,1:0})},closeDisclosure(){f.value!==1&&(f.value=1)},close(p){d.closeDisclosure();let _=p?p instanceof HTMLElement?p:p.value instanceof HTMLElement?j(p):j(d.button):j(d.button);_==null||_.focus()}};return Ve(mt,d),Pt(B(()=>he(f.value,{0:Fe.Open,1:Fe.Closed}))),()=>{let{defaultOpen:p,..._}=e,c={open:f.value===0,close:d.close};return ye({theirProps:_,ourProps:{},slot:c,slots:o,attrs:u,name:"Disclosure"})}}}),eo=A({name:"DisclosureButton",props:{as:{type:[Object,String],default:"button"},disabled:{type:[Boolean],default:!1},id:{type:String,default:null}},setup(e,{attrs:o,slots:u,expose:f}){let n=Ge("DisclosureButton"),l=Ya(),d=B(()=>l===null?!1:l.value===n.panelId.value);be(()=>{d.value||e.id!==null&&(n.buttonId.value=e.id)}),ze(()=>{d.value||(n.buttonId.value=null)});let p=U(null);f({el:p,$el:p}),d.value||lt(()=>{n.button.value=p.value});let _=it(B(()=>({as:e.as,type:o.type})),p);function c(){var r;e.disabled||(d.value?(n.toggleDisclosure(),(r=j(n.button))==null||r.focus()):n.toggleDisclosure())}function y(r){var w;if(!e.disabled)if(d.value)switch(r.key){case K.Space:case K.Enter:r.preventDefault(),r.stopPropagation(),n.toggleDisclosure(),(w=j(n.button))==null||w.focus();break}else switch(r.key){case K.Space:case K.Enter:r.preventDefault(),r.stopPropagation(),n.toggleDisclosure();break}}function m(r){switch(r.key){case K.Space:r.preventDefault();break}}return()=>{var r;let w={open:n.disclosureState.value===0},{id:k,...b}=e,S=d.value?{ref:p,type:_.value,onClick:c,onKeydown:y}:{id:(r=n.buttonId.value)!=null?r:k,ref:p,type:_.value,"aria-expanded":n.disclosureState.value===0,"aria-controls":n.disclosureState.value===0||j(n.panel)?n.panelId.value:void 0,disabled:e.disabled?!0:void 0,onClick:c,onKeydown:y,onKeyup:m};return ye({ourProps:S,theirProps:b,slot:w,attrs:o,slots:u,name:"DisclosureButton"})}}}),to=A({name:"DisclosurePanel",props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},id:{type:String,default:null}},setup(e,{attrs:o,slots:u,expose:f}){let n=Ge("DisclosurePanel");be(()=>{e.id!==null&&(n.panelId.value=e.id)}),ze(()=>{n.panelId.value=null}),f({el:n.panel,$el:n.panel}),Ve(_t,n.panelId);let l=qt(),d=B(()=>l!==null?(l.value&Fe.Open)===Fe.Open:n.disclosureState.value===0);return()=>{var p;let _={open:n.disclosureState.value===0,close:n.close},{id:c,...y}=e,m={id:(p=n.panelId.value)!=null?p:c,ref:n.panel};return ye({ourProps:m,theirProps:y,slot:_,attrs:o,slots:u,features:xe.RenderStrategy|xe.Static,visible:d.value,name:"DisclosurePanel"})}}}),no=A({props:{onFocus:{type:Function,required:!0}},setup(e){let o=U(!0);return()=>o.value?Ee(rt,{as:"button",type:"button",features:Mt.Focusable,onFocus(u){u.preventDefault();let f,n=50;function l(){var d;if(n--<=0){f&&cancelAnimationFrame(f);return}if((d=e.onFocus)!=null&&d.call(e)){o.value=!1,cancelAnimationFrame(f);return}f=requestAnimationFrame(l)}f=requestAnimationFrame(l)}}):null}});var ao=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(ao||{}),oo=(e=>(e[e.Less=-1]="Less",e[e.Equal=0]="Equal",e[e.Greater=1]="Greater",e))(oo||{});let vt=Symbol("TabsContext");function Ue(e){let o=Ie(vt,null);if(o===null){let u=new Error(`<${e} /> is missing a parent <TabGroup /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(u,Ue),u}return o}let We=Symbol("TabsSSRContext"),lo=A({name:"TabGroup",emits:{change:e=>!0},props:{as:{type:[Object,String],default:"template"},selectedIndex:{type:[Number],default:null},defaultIndex:{type:[Number],default:0},vertical:{type:[Boolean],default:!1},manual:{type:[Boolean],default:!1}},inheritAttrs:!1,setup(e,{slots:o,attrs:u,emit:f}){var n;let l=U((n=e.selectedIndex)!=null?n:e.defaultIndex),d=U([]),p=U([]),_=B(()=>e.selectedIndex!==null),c=B(()=>_.value?e.selectedIndex:l.value);function y(b){var S;let h=we(m.tabs.value,j),g=we(m.panels.value,j),D=h.filter(O=>{var F;return!((F=j(O))!=null&&F.hasAttribute("disabled"))});if(b<0||b>h.length-1){let O=he(l.value===null?0:Math.sign(b-l.value),{[-1]:()=>1,0:()=>he(Math.sign(b),{[-1]:()=>0,0:()=>0,1:()=>1}),1:()=>0}),F=he(O,{0:()=>h.indexOf(D[0]),1:()=>h.indexOf(D[D.length-1])});F!==-1&&(l.value=F),m.tabs.value=h,m.panels.value=g}else{let O=h.slice(0,b),F=[...h.slice(b),...O].find(T=>D.includes(T));if(!F)return;let x=(S=h.indexOf(F))!=null?S:m.selectedIndex.value;x===-1&&(x=m.selectedIndex.value),l.value=x,m.tabs.value=h,m.panels.value=g}}let m={selectedIndex:B(()=>{var b,S;return(S=(b=l.value)!=null?b:e.defaultIndex)!=null?S:null}),orientation:B(()=>e.vertical?"vertical":"horizontal"),activation:B(()=>e.manual?"manual":"auto"),tabs:d,panels:p,setSelectedIndex(b){c.value!==b&&f("change",b),_.value||y(b)},registerTab(b){var S;if(d.value.includes(b))return;let h=d.value[l.value];if(d.value.push(b),d.value=we(d.value,j),!_.value){let g=(S=d.value.indexOf(h))!=null?S:l.value;g!==-1&&(l.value=g)}},unregisterTab(b){let S=d.value.indexOf(b);S!==-1&&d.value.splice(S,1)},registerPanel(b){p.value.includes(b)||(p.value.push(b),p.value=we(p.value,j))},unregisterPanel(b){let S=p.value.indexOf(b);S!==-1&&p.value.splice(S,1)}};Ve(vt,m);let r=U({tabs:[],panels:[]}),w=U(!1);be(()=>{w.value=!0}),Ve(We,B(()=>w.value?null:r.value));let k=B(()=>e.selectedIndex);return be(()=>{$e([k],()=>{var b;return y((b=e.selectedIndex)!=null?b:e.defaultIndex)},{immediate:!0})}),lt(()=>{if(!_.value||c.value==null||m.tabs.value.length<=0)return;let b=we(m.tabs.value,j);b.some((S,h)=>j(m.tabs.value[h])!==j(S))&&m.setSelectedIndex(b.findIndex(S=>j(S)===j(m.tabs.value[c.value])))}),()=>{let b={selectedIndex:l.value};return Ee(P,[d.value.length<=0&&Ee(no,{onFocus:()=>{for(let S of d.value){let h=j(S);if((h==null?void 0:h.tabIndex)===0)return h.focus(),!0}return!1}}),ye({theirProps:{...u,...Lt(e,["selectedIndex","defaultIndex","manual","vertical","onChange"])},ourProps:{},slot:b,slots:o,attrs:u,name:"TabGroup"})])}}}),so=A({name:"TabList",props:{as:{type:[Object,String],default:"div"}},setup(e,{attrs:o,slots:u}){let f=Ue("TabList");return()=>{let n={selectedIndex:f.selectedIndex.value},l={role:"tablist","aria-orientation":f.orientation.value};return ye({ourProps:l,theirProps:e,slot:n,attrs:o,slots:u,name:"TabList"})}}}),io=A({name:"Tab",props:{as:{type:[Object,String],default:"button"},disabled:{type:[Boolean],default:!1},id:{type:String,default:null}},setup(e,{attrs:o,slots:u,expose:f}){var n;let l=(n=e.id)!=null?n:`headlessui-tabs-tab-${Ce()}`,d=Ue("Tab"),p=U(null);f({el:p,$el:p}),be(()=>d.registerTab(p)),ze(()=>d.unregisterTab(p));let _=Ie(We),c=B(()=>{if(_.value){let g=_.value.tabs.indexOf(l);return g===-1?_.value.tabs.push(l)-1:g}return-1}),y=B(()=>{let g=d.tabs.value.indexOf(p);return g===-1?c.value:g}),m=B(()=>y.value===d.selectedIndex.value);function r(g){var D;let O=g();if(O===De.Success&&d.activation.value==="auto"){let F=(D=jt(p))==null?void 0:D.activeElement,x=d.tabs.value.findIndex(T=>j(T)===F);x!==-1&&d.setSelectedIndex(x)}return O}function w(g){let D=d.tabs.value.map(O=>j(O)).filter(Boolean);if(g.key===K.Space||g.key===K.Enter){g.preventDefault(),g.stopPropagation(),d.setSelectedIndex(y.value);return}switch(g.key){case K.Home:case K.PageUp:return g.preventDefault(),g.stopPropagation(),r(()=>ge(D,ce.First));case K.End:case K.PageDown:return g.preventDefault(),g.stopPropagation(),r(()=>ge(D,ce.Last))}if(r(()=>he(d.orientation.value,{vertical(){return g.key===K.ArrowUp?ge(D,ce.Previous|ce.WrapAround):g.key===K.ArrowDown?ge(D,ce.Next|ce.WrapAround):De.Error},horizontal(){return g.key===K.ArrowLeft?ge(D,ce.Previous|ce.WrapAround):g.key===K.ArrowRight?ge(D,ce.Next|ce.WrapAround):De.Error}}))===De.Success)return g.preventDefault()}let k=U(!1);function b(){var g;k.value||(k.value=!0,!e.disabled&&((g=j(p))==null||g.focus({preventScroll:!0}),d.setSelectedIndex(y.value),Qa(()=>{k.value=!1})))}function S(g){g.preventDefault()}let h=it(B(()=>({as:e.as,type:o.type})),p);return()=>{var g,D;let O={selected:m.value,disabled:(g=e.disabled)!=null?g:!1},{...F}=e,x={ref:p,onKeydown:w,onMousedown:S,onClick:b,id:l,role:"tab",type:h.value,"aria-controls":(D=j(d.panels.value[y.value]))==null?void 0:D.id,"aria-selected":m.value,tabIndex:m.value?0:-1,disabled:e.disabled?!0:void 0};return ye({ourProps:x,theirProps:F,slot:O,attrs:o,slots:u,name:"Tab"})}}}),ro=A({name:"TabPanels",props:{as:{type:[Object,String],default:"div"}},setup(e,{slots:o,attrs:u}){let f=Ue("TabPanels");return()=>{let n={selectedIndex:f.selectedIndex.value};return ye({theirProps:e,ourProps:{},slot:n,attrs:u,slots:o,name:"TabPanels"})}}}),uo=A({name:"TabPanel",props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},id:{type:String,default:null},tabIndex:{type:Number,default:0}},setup(e,{attrs:o,slots:u,expose:f}){var n;let l=(n=e.id)!=null?n:`headlessui-tabs-panel-${Ce()}`,d=Ue("TabPanel"),p=U(null);f({el:p,$el:p}),be(()=>d.registerPanel(p)),ze(()=>d.unregisterPanel(p));let _=Ie(We),c=B(()=>{if(_.value){let r=_.value.panels.indexOf(l);return r===-1?_.value.panels.push(l)-1:r}return-1}),y=B(()=>{let r=d.panels.value.indexOf(p);return r===-1?c.value:r}),m=B(()=>y.value===d.selectedIndex.value);return()=>{var r;let w={selected:m.value},{tabIndex:k,...b}=e,S={ref:p,id:l,role:"tabpanel","aria-labelledby":(r=j(d.tabs.value[y.value]))==null?void 0:r.id,tabIndex:m.value?k:-1};return!m.value&&e.unmount&&!e.static?Ee(rt,{as:"span","aria-hidden":!0,...S}):ye({ourProps:S,theirProps:b,slot:w,attrs:o,slots:u,features:xe.Static|xe.RenderStrategy,visible:m.value,name:"TabPanel"})}}});const Pe=Se(me.ui.strategy,me.ui.accordion,Kt),co=Se(me.ui.strategy,me.ui.button,Ct),po=A({components:{HDisclosure:Za,HDisclosureButton:eo,HDisclosurePanel:to,UIcon:ke,UButton:G},inheritAttrs:!1,props:{items:{type:Array,default:()=>[]},defaultOpen:{type:Boolean,default:!1},openIcon:{type:String,default:()=>Pe.default.openIcon},unmount:{type:Boolean,default:!1},closeIcon:{type:String,default:()=>Pe.default.closeIcon},multiple:{type:Boolean,default:!1},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},emits:["open"],setup(e,{emit:o}){const{ui:u,attrs:f}=Te("accordion",H(e,"ui"),Pe,H(e,"class")),n=B(()=>co),l=U([]),d=B(()=>l.value.map(({open:r})=>r));$e(d,(r,w)=>{for(const k in r){const b=w[k],S=r[k];!b&&S&&o("open",k)}},{immediate:!0});function p(r,w){!e.items[r].closeOthers&&e.multiple||l.value.forEach(k=>{k.open&&k.close(w.target)})}function _(r,w){const k=r;k.style.height="0",k.offsetHeight,k.style.height=k.scrollHeight+"px",k.addEventListener("transitionend",w,{once:!0})}function c(r){const w=r;w.style.height=w.scrollHeight+"px",w.offsetHeight}function y(r){const w=r;w.style.height="auto"}function m(r,w){const k=r;k.style.height="0",k.addEventListener("transitionend",w,{once:!0})}return dt(()=>st()),{ui:u,uiButton:n,attrs:f,buttonRefs:l,closeOthers:p,omit:Ft,onEnter:_,onBeforeLeave:c,onAfterEnter:y,onLeave:m}}}),fo={key:1};function mo(e,o,u,f,n,l){const d=ke,p=G,_=ve("HDisclosureButton"),c=ve("HDisclosurePanel"),y=ve("HDisclosure");return i(),$("div",{class:N(e.ui.wrapper)},[(i(!0),$(P,null,R(e.items,(m,r)=>(i(),I(y,{key:r,as:"div",class:N(e.ui.container),"default-open":e.defaultOpen||m.defaultOpen},{default:s(({open:w,close:k})=>[a(_,{ref_for:!0,ref:()=>e.buttonRefs[r]={open:w,close:k},as:"template",disabled:m.disabled,onClick:b=>e.closeOthers(r,b),onKeydown:[Me(b=>e.closeOthers(r,b),["enter"]),Me(b=>e.closeOthers(r,b),["space"])]},{default:s(()=>[ue(e.$slots,"default",{item:m,index:r,open:w,close:k},()=>[a(p,pe({ref_for:!0},{...e.omit(e.ui.default,["openIcon","closeIcon"]),...e.attrs,...e.omit(m,["slot","disabled","content","defaultOpen"])}),{trailing:s(()=>[a(d,{name:w&&e.closeIcon?e.closeIcon:e.openIcon,class:N([w&&!e.closeIcon?"-rotate-180":"",e.uiButton.icon.size[m.size||e.uiButton.default.size],e.ui.item.icon])},null,8,["name","class"])]),_:2},1040)])]),_:2},1032,["disabled","onClick","onKeydown"]),a(Q,pe({ref_for:!0},e.ui.transition,{onEnter:e.onEnter,onAfterEnter:e.onAfterEnter,onBeforeLeave:e.onBeforeLeave,onLeave:e.onLeave}),{default:s(()=>[e.unmount?(i(),I(c,{key:0,class:N([e.ui.item.base,e.ui.item.size,e.ui.item.color,e.ui.item.padding]),unmount:""},{default:s(()=>[ue(e.$slots,m.slot||"item",{item:m,index:r,open:w,close:k},()=>[E(V(m.content),1)])]),_:2},1032,["class"])):je((i(),$("div",fo,[a(c,{class:N([e.ui.item.base,e.ui.item.size,e.ui.item.color,e.ui.item.padding]),static:""},{default:s(()=>[ue(e.$slots,m.slot||"item",{item:m,index:r,open:w,close:k},()=>[E(V(m.content),1)])]),_:2},1032,["class"])],512)),[[Ne,w]])]),_:2},1040,["onEnter","onAfterEnter","onBeforeLeave","onLeave"])]),_:2},1032,["class","default-open"]))),128))],2)}const _o=Oe(po,[["render",mo]]),vo=A({__name:"AnketaTab",props:{editable:{type:Boolean,default:!1},candId:{type:String,default:""},person:{type:Object,default:{}}},emits:["update"],setup(e,{emit:o}){const u=e,f=o,n=[{label:"Резюме",icon:"i-heroicons-user",defaultOpen:!0,slot:"resume"},{label:"Должности",icon:"i-heroicons-briefcase",slot:"staff"},{label:"Образование",icon:"i-heroicons-academic-cap",slot:"education"},{label:"Работа",icon:"i-heroicons-briefcase",slot:"work"},{label:"Документы",icon:"i-heroicons-document-text",slot:"document"},{label:"Адреса",icon:"i-heroicons-home-modern",slot:"address"},{label:"Контакты",icon:"i-heroicons-phone",slot:"contact"},{label:"Аффилированные",icon:"i-heroicons-user-group",slot:"affiliation"},{label:"Изменения имени",icon:"i-heroicons-archive-box-arrow-down",slot:"prev"},{label:"Связанные",icon:"i-heroicons-user-group",slot:"relate"}];return(l,d)=>{const p=Mn,_=Wn,c=ea,y=ia,m=ma,r=ka,w=Va,k=za,b=ja,S=Ja,h=_o;return i(),I(h,{items:n,size:"lg",multiple:""},{resume:s(()=>[a(p,{"cand-id":u.candId,editable:u.editable,person:u.person,onUpdate:d[0]||(d[0]=g=>f("update"))},null,8,["cand-id","editable","person"])]),staff:s(()=>[a(_,{"cand-id":u.candId,editable:u.editable},null,8,["cand-id","editable"])]),education:s(()=>[a(c,{"cand-id":u.candId,editable:u.editable},null,8,["cand-id","editable"])]),work:s(()=>[a(y,{"cand-id":u.candId,editable:u.editable},null,8,["cand-id","editable"])]),document:s(()=>[a(m,{"cand-id":u.candId,editable:u.editable},null,8,["cand-id","editable"])]),address:s(()=>[a(r,{"cand-id":u.candId,editable:u.editable},null,8,["cand-id","editable"])]),contact:s(()=>[a(w,{"cand-id":u.candId,editable:u.editable},null,8,["cand-id","editable"])]),affiliation:s(()=>[a(k,{"cand-id":u.candId,editable:u.editable},null,8,["cand-id","editable"])]),prev:s(()=>[a(b,{"cand-id":u.candId,editable:u.editable},null,8,["cand-id","editable"])]),relate:s(()=>[a(S,{"cand-id":u.candId,editable:u.editable},null,8,["cand-id","editable"])]),_:1})}}}),bo=A({__name:"CheckForm",props:{check:{type:Object,default:{}},candId:{type:String,default:""}},emits:["cancel","update"],setup(e,{emit:o}){const u=o,n=H(e.check),l=U(!1);function d(){u("update",n.value),_()}function p(){u("cancel"),_()}function _(){l.value=!1,Object.keys(n.value).forEach(c=>{n.value[c]=""})}return $e(l,()=>{l.value&&Object.assign(n.value,{workplace:"Негатив по местам работы не выявлен",document:"Среди недействительных документов не значится",inn:"ИНН соответствует",debt:"Задолженности не обнаружены",bankruptcy:"Решений о признании банкротом не имеется",bki:"Кредитная история положительная",courts:"Судебные дела не обнаружены",affilation:"Аффилированность не выявлена",terrorist:"В списке террористов не обнаружен",mvd:"В розыск не объявлен",internet:"В открытых источниках негатив не обнаружен",cronos:"В Кронос негатив не выявлен"})}),(c,y)=>{const m=Gt,r=se,w=Be,k=_e,b=re,S=de;return i(),$(P,null,[a(r,{state:t(l),class:"mb-3",label:"Негатива нет"},{default:s(()=>[a(m,{modelValue:t(l),"onUpdate:modelValue":y[0]||(y[0]=h=>He(l)?l.value=h:null)},null,8,["modelValue"])]),_:1},8,["state"]),a(S,{state:t(n),onSubmit:ee(d,["prevent"])},{default:s(()=>[a(r,{class:"mb-3",label:"Проверка по местам работы"},{default:s(()=>[a(w,{modelValue:t(n).workplace,"onUpdate:modelValue":y[1]||(y[1]=h=>t(n).workplace=h),modelModifiers:{trim:!0,lazy:!0},placeholder:"Проверка по местам работы"},null,8,["modelValue"])]),_:1}),a(r,{class:"mb-3",label:"Проверка документов"},{default:s(()=>[a(w,{modelValue:t(n).document,"onUpdate:modelValue":y[2]||(y[2]=h=>t(n).document=h),modelModifiers:{trim:!0,lazy:!0},placeholder:"Проверка документов"},null,8,["modelValue"])]),_:1}),a(r,{class:"mb-3",label:"Проверка ИНН"},{default:s(()=>[a(w,{modelValue:t(n).inn,"onUpdate:modelValue":y[3]||(y[3]=h=>t(n).inn=h),modelModifiers:{trim:!0,lazy:!0},placeholder:"Проверка ИНН"},null,8,["modelValue"])]),_:1}),a(r,{class:"mb-3",label:"Проверка задолженностей"},{default:s(()=>[a(w,{modelValue:t(n).debt,"onUpdate:modelValue":y[4]||(y[4]=h=>t(n).debt=h),modelModifiers:{trim:!0,lazy:!0},placeholder:"Проверка задолженностей"},null,8,["modelValue"])]),_:1}),a(r,{class:"mb-3",label:"Проверка банкротства"},{default:s(()=>[a(w,{modelValue:t(n).bankruptcy,"onUpdate:modelValue":y[5]||(y[5]=h=>t(n).bankruptcy=h),modelModifiers:{trim:!0,lazy:!0},placeholder:"Проверка банкротства"},null,8,["modelValue"])]),_:1}),a(r,{class:"mb-3",label:"Проверка Кредитной истории"},{default:s(()=>[a(w,{modelValue:t(n).bki,"onUpdate:modelValue":y[6]||(y[6]=h=>t(n).bki=h),modelModifiers:{trim:!0,lazy:!0},placeholder:"Проверка Кредитной истории"},null,8,["modelValue"])]),_:1}),a(r,{class:"mb-3",label:"Проверка судебных дел"},{default:s(()=>[a(w,{modelValue:t(n).courts,"onUpdate:modelValue":y[7]||(y[7]=h=>t(n).courts=h),modelModifiers:{trim:!0,lazy:!0},placeholder:"Проверка судебных дел"},null,8,["modelValue"])]),_:1}),a(r,{class:"mb-3",label:"Проверка аффилированности"},{default:s(()=>[a(w,{modelValue:t(n).affilation,"onUpdate:modelValue":y[8]||(y[8]=h=>t(n).affilation=h),modelModifiers:{trim:!0,lazy:!0},placeholder:"Проверка аффилированности"},null,8,["modelValue"])]),_:1}),a(r,{class:"mb-3",label:"Проверка в списке террористов"},{default:s(()=>[a(w,{modelValue:t(n).terrorist,"onUpdate:modelValue":y[9]||(y[9]=h=>t(n).terrorist=h),modelModifiers:{trim:!0,lazy:!0},placeholder:"Проверка в списке террористов"},null,8,["modelValue"])]),_:1}),a(r,{class:"mb-3",label:"Проверка в розыск"},{default:s(()=>[a(w,{modelValue:t(n).mvd,"onUpdate:modelValue":y[10]||(y[10]=h=>t(n).mvd=h),modelModifiers:{trim:!0,lazy:!0},placeholder:"Проверка в розыск"},null,8,["modelValue"])]),_:1}),a(r,{class:"mb-3",label:"Проверка в открытых источниках"},{default:s(()=>[a(w,{modelValue:t(n).internet,"onUpdate:modelValue":y[11]||(y[11]=h=>t(n).internet=h),modelModifiers:{trim:!0,lazy:!0},placeholder:"Проверка в открытых источниках"},null,8,["modelValue"])]),_:1}),a(r,{class:"mb-3",label:"Проверка в Кронос"},{default:s(()=>[a(w,{modelValue:t(n).cronos,"onUpdate:modelValue":y[12]||(y[12]=h=>t(n).cronos=h),modelModifiers:{trim:!0,lazy:!0},placeholder:"Проверка в Кронос/Крос"},null,8,["modelValue"])]),_:1}),a(r,{class:"mb-3",label:"Дополнительная информация"},{default:s(()=>[a(w,{modelValue:t(n).addition,"onUpdate:modelValue":y[13]||(y[13]=h=>t(n).addition=h),modelModifiers:{trim:!0,lazy:!0},placeholder:"Дополнительная информация"},null,8,["modelValue"])]),_:1}),a(r,{class:"mb-3",label:"Комментарии"},{default:s(()=>[a(w,{modelValue:t(n).comment,"onUpdate:modelValue":y[14]||(y[14]=h=>t(n).comment=h),modelModifiers:{trim:!0,lazy:!0},placeholder:"Комментарии"},null,8,["modelValue"])]),_:1}),a(r,{class:"mb-3",label:"Результат"},{default:s(()=>[a(k,{modelValue:t(n).conclusion,"onUpdate:modelValue":y[15]||(y[15]=h=>t(n).conclusion=h),modelModifiers:{trim:!0,lazy:!0},required:"",options:["СОГЛАСОВАНО","СОГЛАСОВАНО С КОММЕНТАРИЕМ","ОТКАЗАНО В СОГЛАСОВАНИИ"]},null,8,["modelValue"])]),_:1}),a(b,{onCancel:p})]),_:1},8,["state"])],64)}}}),yo={key:0,class:"py-3"},go={key:1},ho={class:"tex-base text-red-800 dark:text-gray-400 font-medium"},ko={key:1},wo={key:2,class:"p-3"},$o={key:1,class:"text-red-800"},So=A({__name:"CheckTab",props:{candId:{type:String,default:""},editable:{type:Boolean,default:!1}},async setup(e){let o,u;Ae("FormsCheckForm");const f=W(),n=Y(),l=e,d=U(!1),p=U(!1),_=U(!1),c=U(""),y=U({}),{data:m,refresh:r,status:w}=([o,u]=X(async()=>ie("checks",async()=>await f(`/api/checks/${l.candId}`))),o=await o,u(),o);async function k(g){p.value=!0,h(),await f("/api/checks/"+l.candId,{method:"POST",body:g}),n.add({icon:"i-heroicons-check-circle",title:"Успешно",description:"Информация обновлена",color:"green"}),p.value=!1,r()}async function b(g){h(),confirm("Вы действительно хотите удалить запись?")&&(await f(`/api/checks/${g}`,{method:"DELETE"}),n.add({icon:"i-heroicons-information-circle",title:"Информация",description:`Запись с ID ${g} удалена`,color:"primary"}),r())}async function S(){h(),r()}function h(){d.value=!1,c.value="",_.value=!1}return(g,D)=>{const O=G,F=bo,x=Z,T=ne,C=ae,M=oe;return i(),$(P,null,[l.editable?(i(),I(O,{key:0,class:"py-3",label:t(_)?"Скрыть форму":"Добавить запись",variant:"link",onClick:D[0]||(D[0]=v=>_.value=!t(_))},null,8,["label"])):z("",!0),a(Q,{name:"slide-fade"},{default:s(()=>[t(_)?(i(),$("div",yo,[a(x,null,{default:s(()=>[a(F,{"cand-id":l.candId,onUpdate:k,onCancel:S},null,8,["cand-id"])]),_:1})])):z("",!0)]),_:1}),t(m)&&t(m).length?(i(),$("div",go,[(i(!0),$(P,null,R(t(m),(v,q)=>(i(),$("div",{key:q,class:"text-sm text-gray-500 dark:text-gray-400 py-1"},[t(w)=="pending"||t(p)?(i(),I(T,{key:0,rows:18})):z("",!0),a(x,null,te({header:s(()=>[J("div",ho,V("Проверка кандидата ID #"+v.id),1)]),default:s(()=>[t(d)&&t(c)==v.id.toString()?(i(),I(F,{key:0,"cand-id":l.candId,check:v,onCancel:S,onUpdate:k},null,8,["cand-id","check"])):(i(),$("div",ko,[a(C,{label:"Проверка по местам работы"},{default:s(()=>[E(V(v.workplace),1)]),_:2},1024),a(C,{label:"Проверка паспорта"},{default:s(()=>[E(V(v.document),1)]),_:2},1024),a(C,{label:"Проверка ИНН"},{default:s(()=>[E(V(v.inn),1)]),_:2},1024),a(C,{label:"Проверка ФССП"},{default:s(()=>[E(V(v.debt),1)]),_:2},1024),a(C,{label:"Проверка банкротства"},{default:s(()=>[E(V(v.bankruptcy),1)]),_:2},1024),a(C,{label:"Проверка БКИ"},{default:s(()=>[E(V(v.bki),1)]),_:2},1024),a(C,{label:"Проверка судебных решений"},{default:s(()=>[E(V(v.courts),1)]),_:2},1024),a(C,{label:"Проверка аффилированности"},{default:s(()=>[E(V(v.affilation),1)]),_:2},1024),a(C,{label:"Проверка по списку террористов"},{default:s(()=>[E(V(v.terrorist),1)]),_:2},1024),a(C,{label:"Проверка в розыск"},{default:s(()=>[E(V(v.mvd),1)]),_:2},1024),a(C,{label:"Проверка в открытых источниках"},{default:s(()=>[E(V(v.internet),1)]),_:2},1024),a(C,{label:"Проверка в Кронос"},{default:s(()=>[E(V(v.cronos),1)]),_:2},1024),a(C,{label:"Дополнительная информация"},{default:s(()=>[E(V(v.addition),1)]),_:2},1024),a(C,{label:"Комментарии"},{default:s(()=>[E(V(v.comment),1)]),_:2},1024),a(C,{label:"Результат"},{default:s(()=>[E(V(v.conclusion),1)]),_:2},1024),a(C,{label:"Сотрудник"},{default:s(()=>[E(V(v.username),1)]),_:2},1024),a(C,{label:"Дата записи"},{default:s(()=>[E(V(new Date(v.created+" UTC").toLocaleString("ru-RU")),1)]),_:2},1024)]))]),_:2},[l.editable&&(!t(d)||t(c)!=v.id.toString())?{name:"footer",fn:s(()=>[a(M,{"cand-id":l.candId,"input-id":"checks-file",item:"checks",onUpdate:L=>{y.value=v,c.value=v.id.toString(),d.value=!0},onDelete:L=>b(v.id)},null,8,["cand-id","onUpdate","onDelete"])]),key:"0"}:void 0]),1024)]))),128))])):(i(),$("div",wo,[t(w)=="pending"||t(p)?(i(),I(T,{key:0,rows:18})):(i(),$("p",$o,"Проверка кандидата отсутствует"))]))],64)}}}),Io=A({__name:"PoligrafForm",props:{poligraf:{type:Object,default:{}},candId:{type:String,default:""}},emits:["cancel","update"],setup(e,{emit:o}){const u=o,n=H(e.poligraf);function l(){u("update",n.value),n.value.theme="",n.value.results=""}function d(){u("cancel"),n.value.theme="",n.value.results=""}return(p,_)=>{const c=_e,y=se,m=Be,r=re,w=de;return i(),I(w,{state:t(n),onSubmit:ee(l,["prevent"])},{default:s(()=>[a(y,{class:"mb-3",label:"Тема проверки"},{default:s(()=>[a(c,{modelValue:t(n).theme,"onUpdate:modelValue":_[0]||(_[0]=k=>t(n).theme=k),required:"",options:["Проверка кандидата","Служебная проверка","Служебное расследование","Плановое мероприятие"]},null,8,["modelValue"])]),_:1}),a(y,{class:"mb-3",label:"Результат"},{default:s(()=>[a(m,{modelValue:t(n).results,"onUpdate:modelValue":_[1]||(_[1]=k=>t(n).results=k),modelModifiers:{trim:!0,lazy:!0},required:"",placeholder:"Результат"},null,8,["modelValue"])]),_:1}),a(r,{onCancel:d})]),_:1},8,["state"])}}}),Uo={key:0,class:"py-3"},Do={key:1},Vo={class:"tex-base text-red-800 font-medium"},Eo={key:1},Co={key:2,class:"p-3"},Fo={key:1,class:"text-red-800"},xo=A({__name:"PoligrafTab",props:{candId:{type:String,default:""},editable:{type:Boolean,default:!1}},async setup(e){let o,u;Ae("FormsPoligrafForm");const f=W(),n=Y(),l=e,d=U(!1),p=U(!1),_=U(!1),c=U(""),y=U({}),{data:m,refresh:r,status:w}=([o,u]=X(async()=>ie("poligrafs",async()=>await f("/api/poligrafs/"+l.candId))),o=await o,u(),o);async function k(g){p.value=!0,h(),await f("/api/poligrafs/"+l.candId,{method:"POST",body:g}),n.add({icon:"i-heroicons-check-circle",title:"Успешно",description:"Информация обновлена",color:"green"}),p.value=!1,r()}async function b(g){h(),confirm("Вы действительно хотите удалить запись?")&&(await f("/api/poligrafs/"+g,{method:"DELETE"}),n.add({icon:"i-heroicons-information-circle",title:"Информация",description:`Запись с ID ${g} удалена`,color:"primary"}),r())}async function S(){h(),r()}function h(){_.value=!1,d.value=!1,c.value=""}return(g,D)=>{const O=G,F=Io,x=Z,T=ne,C=ae,M=oe;return i(),$(P,null,[e.editable?(i(),I(O,{key:0,class:"py-3",label:t(_)?"Скрыть форму":"Добавить запись",variant:"link",onClick:D[0]||(D[0]=v=>_.value=!t(_))},null,8,["label"])):z("",!0),a(Q,{name:"slide-fade"},{default:s(()=>[t(_)?(i(),$("div",Uo,[a(x,null,{default:s(()=>[a(F,{"cand-id":l.candId,onCancel:S,onUpdate:k},null,8,["cand-id"])]),_:1})])):z("",!0)]),_:1}),t(m)&&t(m).length?(i(),$("div",Do,[(i(!0),$(P,null,R(t(m),(v,q)=>(i(),$("div",{key:q,class:"text-sm text-gray-500 dark:text-gray-400 py-1"},[t(w)=="pending"||t(p)?(i(),I(T,{key:0,rows:4})):(i(),I(x,{key:1},te({header:s(()=>[J("div",Vo,V("Обследование на полиграфе ID #"+v.id),1)]),default:s(()=>[t(d)&&t(c)==v.id.toString()?(i(),I(F,{key:0,"cand-id":l.candId,poligraf:v,onCancel:S,onUpdate:k},null,8,["cand-id","poligraf"])):(i(),$("div",Eo,[a(C,{label:"Тема проверки"},{default:s(()=>[E(V(v.theme),1)]),_:2},1024),a(C,{label:"Результат"},{default:s(()=>[E(V(v.results),1)]),_:2},1024),a(C,{label:"Сотрудник"},{default:s(()=>[E(V(v.username),1)]),_:2},1024),a(C,{label:"Дата записи"},{default:s(()=>[E(V(new Date(v.created+" UTC").toLocaleString("ru-RU")),1)]),_:2},1024)]))]),_:2},[l.editable&&(!t(d)||t(c)!=v.id.toString())?{name:"footer",fn:s(()=>[a(M,{"cand-id":l.candId,"input-id":"poligrafs-file",item:"poligrafs",onUpdate:L=>{y.value=v,c.value=v.id.toString(),d.value=!0},onDelete:L=>b(v.id)},null,8,["cand-id","onUpdate","onDelete"])]),key:"0"}:void 0]),1024))]))),128))])):(i(),$("div",Co,[t(w)=="pending"||t(p)?(i(),I(T,{key:0,rows:4})):(i(),$("p",Fo,"Обследование на полиграфе не проводилось"))]))],64)}}}),Oo=A({__name:"InvestigationForm",props:{investigation:{type:Object,default:{}},candId:{type:String,default:""}},emits:["cancel","update"],setup(e,{emit:o}){const u=o,n=H(e.investigation);function l(){u("update",n.value),p()}function d(){u("cancel"),p()}function p(){Object.assign(n.value,{theme:"",info:""})}return(_,c)=>{const y=le,m=se,r=Be,w=re,k=de;return i(),I(k,{state:t(n),onSubmit:ee(l,["prevent"])},{default:s(()=>[a(m,{class:"mb-3",label:"Тема проверки"},{default:s(()=>[a(y,{modelValue:t(n).theme,"onUpdate:modelValue":c[0]||(c[0]=b=>t(n).theme=b),modelModifiers:{trim:!0,lazy:!0},required:"",placeholder:"Тема проверки"},null,8,["modelValue"])]),_:1}),a(m,{class:"mb-3",label:"Информация"},{default:s(()=>[a(r,{modelValue:t(n).info,"onUpdate:modelValue":c[1]||(c[1]=b=>t(n).info=b),modelModifiers:{trim:!0,lazy:!0},required:"",placeholder:"Информация"},null,8,["modelValue"])]),_:1}),a(w,{onCancel:d})]),_:1},8,["state"])}}}),To={key:0,class:"py-3"},zo={key:1},Ao={class:"tex-base text-red-800 font-medium"},Bo={key:1},Po={key:2,class:"p-3"},qo={key:1,class:"text-red-800"},Mo=A({__name:"InvestigateTab",props:{candId:{type:String,default:""},editable:{type:Boolean,default:!1}},async setup(e){let o,u;Ae("FormsInvestigationForm");const f=W(),n=Y(),l=e,d=U(!1),p=U(!1),_=U(!1),c=U(""),y=U({}),{data:m,refresh:r,status:w}=([o,u]=X(async()=>ie("investigations",async()=>await f("/api/investigations/"+l.candId))),o=await o,u(),o);async function k(g){p.value=!0,h(),await f("/api/investigations/"+l.candId,{method:"POST",body:g}),n.add({icon:"i-heroicons-check-circle",title:"Успешно",description:"Информация обновлена",color:"green"}),p.value=!1,r()}async function b(g){h(),confirm("Вы действительно хотите удалить запись?")&&(await f(`/api/investigations/${g}`,{method:"DELETE"}),n.add({icon:"i-heroicons-information-circle",title:"Информация",description:`Запись с ID ${g} удалена`,color:"primary"}),r())}async function S(){h(),r()}function h(){_.value=!1,c.value="",d.value=!1}return(g,D)=>{const O=G,F=Oo,x=Z,T=ne,C=ae,M=oe;return i(),$(P,null,[l.editable?(i(),I(O,{key:0,class:"py-3",label:t(d)?"Скрыть форму":"Добавить запись",variant:"link",onClick:D[0]||(D[0]=v=>d.value=!t(d))},null,8,["label"])):z("",!0),a(Q,{name:"slide-fade"},{default:s(()=>[t(d)?(i(),$("div",To,[a(x,null,{default:s(()=>[a(F,{"cand-id":l.candId,onCancel:S,onUpdate:k},null,8,["cand-id"])]),_:1})])):z("",!0)]),_:1}),t(m)&&t(m).length?(i(),$("div",zo,[(i(!0),$(P,null,R(t(m),(v,q)=>(i(),$("div",{key:q,class:"text-sm text-gray-500 dark:text-gray-400 py-1"},[t(w)=="pending"||t(p)?(i(),I(T,{key:0,rows:4})):(i(),I(x,{key:1},te({header:s(()=>[J("div",Ao,V("Расследование/проверка ID #"+v.id),1)]),default:s(()=>[t(_)&&t(c)==v.id.toString()?(i(),I(F,{key:0,"cand-id":l.candId,investigation:v,onCancel:S,onUpdate:k},null,8,["cand-id","investigation"])):(i(),$("div",Bo,[a(C,{label:"Тема проверки"},{default:s(()=>[E(V(v.theme),1)]),_:2},1024),a(C,{label:"Информация"},{default:s(()=>[E(V(v.info),1)]),_:2},1024),a(C,{label:"Сотрудник"},{default:s(()=>[E(V(v.username),1)]),_:2},1024),a(C,{label:"Дата записи"},{default:s(()=>[E(V(new Date(v.created+" UTC").toLocaleString("ru-RU")),1)]),_:2},1024)]))]),_:2},[l.editable&&(!t(_)||t(c)!=v.id.toString())?{name:"footer",fn:s(()=>[a(M,{"cand-id":l.candId,"input-id":"investigations-file",item:"investigations",onUpdate:L=>{y.value=v,c.value=v.id.toString(),_.value=!0},onDelete:L=>b(v.id)},null,8,["cand-id","onUpdate","onDelete"])]),key:"0"}:void 0]),1024))]))),128))])):(i(),$("div",Po,[t(w)=="pending"||t(p)?(i(),I(T,{key:0,rows:4})):(i(),$("p",qo,"Расследования/Проверки не проводились"))]))],64)}}}),Lo=A({__name:"InquiryForm",props:{inquiry:{type:Object,default:{}},candId:{type:String,default:""}},emits:["cancel","update"],setup(e,{emit:o}){const u=o,n=H(e.inquiry);function l(){u("update",n.value),p()}function d(){u("cancel"),p()}function p(){Object.assign(n.value,{info:"",origins:"",initiator:""})}return(_,c)=>{const y=Be,m=se,r=le,w=re,k=de;return i(),I(k,{state:t(n),onSubmit:ee(l,["prevent"])},{default:s(()=>[a(m,{class:"mb-3",label:"Информация"},{default:s(()=>[a(y,{modelValue:t(n).info,"onUpdate:modelValue":c[0]||(c[0]=b=>t(n).info=b),modelModifiers:{trim:!0,lazy:!0},required:"",placeholder:"Информация"},null,8,["modelValue"])]),_:1}),a(m,{class:"mb-3",label:"Инициатор"},{default:s(()=>[a(r,{modelValue:t(n).initiator,"onUpdate:modelValue":c[1]||(c[1]=b=>t(n).initiator=b),modelModifiers:{trim:!0,lazy:!0},required:"",placeholder:"Инициатор"},null,8,["modelValue"])]),_:1}),a(m,{class:"mb-3",label:"Источники"},{default:s(()=>[a(r,{modelValue:t(n).origins,"onUpdate:modelValue":c[2]||(c[2]=b=>t(n).origins=b),modelModifiers:{trim:!0,lazy:!0},placeholder:"Источники"},null,8,["modelValue"])]),_:1}),a(w,{onCancel:d})]),_:1},8,["state"])}}}),jo={key:0,class:"py-3"},Ho={key:1},No={class:"tex-base text-red-800 font-medium"},Ro={key:1},Go={key:2,class:"p-3"},Wo={key:1,class:"text-red-800"},Ko=A({__name:"InquiryTab",props:{candId:{type:String,default:""},editable:{type:Boolean,default:!1}},async setup(e){let o,u;Ae("FormsInquiryForm");const f=W(),n=Y(),l=e,d=U(!1),p=U(!1),_=U(!1),c=U(""),y=U({}),{data:m,refresh:r,status:w}=([o,u]=X(async()=>ie("inquiries",async()=>await f(`/api/inquiries/${l.candId}`))),o=await o,u(),o);async function k(g){p.value=!0,S(),await f("/api/inquiries/"+l.candId,{method:"POST",body:g}),n.add({icon:"i-heroicons-check-circle",title:"Успешно",description:"Информация обновлена",color:"green"}),p.value=!1,r()}async function b(g){S(),confirm("Вы действительно хотите удалить запись?")&&(await f(`/api/inquiries/${g}`,{method:"DELETE"}),n.add({icon:"i-heroicons-information-circle",title:"Информация",description:`Запись с ID ${g} удалена`,color:"primary"}),r())}function S(){_.value=!1,c.value="",d.value=!1}function h(){S(),r()}return(g,D)=>{const O=G,F=Lo,x=Z,T=ne,C=ae,M=oe;return i(),$(P,null,[l.editable?(i(),I(O,{key:0,class:"py-3",label:t(d)?"Скрыть форму":"Добавить запись",variant:"link",onClick:D[0]||(D[0]=v=>d.value=!t(d))},null,8,["label"])):z("",!0),a(Q,{name:"slide-fade"},{default:s(()=>[t(d)?(i(),$("div",jo,[a(x,null,{default:s(()=>[a(F,{"cand-id":l.candId,onCancel:h,onUpdate:k},null,8,["cand-id"])]),_:1})])):z("",!0)]),_:1}),t(m)&&t(m).length?(i(),$("div",Ho,[(i(!0),$(P,null,R(t(m),(v,q)=>(i(),$("div",{key:q,class:"text-sm text-gray-500 dark:text-gray-400 py-1"},[t(w)=="pending"||t(p)?(i(),I(T,{key:0,rows:6})):(i(),I(x,{key:1},te({header:s(()=>[J("div",No,V("Запрос о сотруднике ID #"+v.id),1)]),default:s(()=>[t(_)&&t(c)==v.id.toString()?(i(),I(F,{key:0,"cand-id":l.candId,inquiry:v,onCancel:h,onUpdate:k},null,8,["cand-id","inquiry"])):(i(),$("div",Ro,[a(C,{label:"Информация"},{default:s(()=>[E(V(v.info),1)]),_:2},1024),a(C,{label:"Иннициатор"},{default:s(()=>[E(V(v.initiator),1)]),_:2},1024),a(C,{label:"Источники"},{default:s(()=>[E(V(v.origins),1)]),_:2},1024),a(C,{label:"Сотрудник"},{default:s(()=>[E(V(v.username),1)]),_:2},1024),a(C,{label:"Дата записи"},{default:s(()=>[E(V(new Date(v.created+" UTC").toLocaleString("ru-RU")),1)]),_:2},1024)]))]),_:2},[l.editable&&(!t(_)||t(c)!=v.id.toString())?{name:"footer",fn:s(()=>[a(M,{"cand-id":l.candId,"input-id":"inquiries-file",item:"inquiries",onDelete:L=>b(v.id),onUpdate:L=>{y.value=v,c.value=v.id.toString(),_.value=!0}},null,8,["cand-id","onDelete","onUpdate"])]),key:"0"}:void 0]),1024))]))),128))])):(i(),$("div",Go,[t(w)=="pending"||t(p)?(i(),I(T,{key:0,rows:6})):(i(),$("p",Wo,"Запросы о сотруднике не поступали"))]))],64)}}}),Jo=Se(me.ui.strategy,me.ui.tabs,Qt),Qo=A({components:{UIcon:ke,HTabGroup:lo,HTabList:so,HTab:io,HTabPanels:ro,HTabPanel:uo},inheritAttrs:!1,props:{modelValue:{type:Number,default:void 0},orientation:{type:String,default:"horizontal",validator:e=>["horizontal","vertical"].includes(e)},defaultIndex:{type:Number,default:0},items:{type:Array,default:()=>[]},unmount:{type:Boolean,default:!1},content:{type:Boolean,default:!0},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},emits:["update:modelValue","change"],setup(e,{emit:o}){const{ui:u,attrs:f}=Te("tabs",H(e,"ui"),Jo,H(e,"class")),n=U(),l=U([]),d=U(),p=U(e.modelValue||e.defaultIndex);function _(y){var r;const m=(r=l.value[y])==null?void 0:r.$el;m&&d.value&&(d.value.style.top=`${m.offsetTop}px`,d.value.style.left=`${m.offsetLeft}px`,d.value.style.width=`${m.offsetWidth}px`,d.value.style.height=`${m.offsetHeight}px`)}function c(y){p.value=y,o("change",y),e.modelValue!==void 0&&o("update:modelValue",p.value),_(p.value)}return xt(n,()=>{_(p.value)}),$e(()=>e.modelValue,y=>{p.value=y,_(p.value)}),$e(()=>e.items,async()=>{await Qe(),_(p.value)},{deep:!0}),be(async()=>{await Qe(),_(p.value)}),dt(()=>st()),{ui:u,attrs:f,listRef:n,itemRefs:l,markerRef:d,selectedIndex:p,onChange:c}}}),Xo={class:"truncate"};function Yo(e,o,u,f,n,l){const d=ke,p=ve("HTab"),_=ve("HTabList"),c=ve("HTabPanel"),y=ve("HTabPanels"),m=ve("HTabGroup");return i(),I(m,pe({vertical:e.orientation==="vertical","selected-index":e.selectedIndex,as:"div",class:e.ui.wrapper},e.attrs,{onChange:e.onChange}),{default:s(()=>[a(_,{ref:"listRef",class:N([e.ui.list.base,e.ui.list.background,e.ui.list.rounded,e.ui.list.shadow,e.ui.list.padding,e.ui.list.width,e.orientation==="horizontal"&&e.ui.list.height,e.orientation==="horizontal"&&"inline-grid items-center"]),style:Ot([e.orientation==="horizontal"&&`grid-template-columns: repeat(${e.items.length}, minmax(0, 1fr))`])},{default:s(()=>[J("div",{ref:"markerRef",class:N(e.ui.list.marker.wrapper)},[J("div",{class:N([e.ui.list.marker.base,e.ui.list.marker.background,e.ui.list.marker.rounded,e.ui.list.marker.shadow])},null,2)],2),(i(!0),$(P,null,R(e.items,(r,w)=>(i(),I(p,{key:w,ref_for:!0,ref:"itemRefs",disabled:r.disabled,as:"template"},{default:s(({selected:k,disabled:b})=>[J("button",{class:N([e.ui.list.tab.base,e.ui.list.tab.background,e.ui.list.tab.height,e.ui.list.tab.padding,e.ui.list.tab.size,e.ui.list.tab.font,e.ui.list.tab.rounded,e.ui.list.tab.shadow,k?e.ui.list.tab.active:e.ui.list.tab.inactive])},[ue(e.$slots,"icon",{item:r,index:w,selected:k,disabled:b},()=>[r.icon?(i(),I(d,{key:0,name:r.icon,class:N(e.ui.list.tab.icon)},null,8,["name","class"])):z("",!0)]),ue(e.$slots,"default",{item:r,index:w,selected:k,disabled:b},()=>[J("span",Xo,V(r.label),1)])],2)]),_:2},1032,["disabled"]))),128))]),_:3},8,["class","style"]),e.content?(i(),I(y,{key:0,class:N(e.ui.container)},{default:s(()=>[(i(!0),$(P,null,R(e.items,(r,w)=>(i(),I(c,{key:w,class:N(e.ui.base),unmount:e.unmount},{default:s(({selected:k})=>[ue(e.$slots,r.slot||"item",{item:r,index:w,selected:k},()=>[E(V(r.content),1)])]),_:2},1032,["class","unmount"]))),128))]),_:3},8,["class"])):z("",!0)]),_:3},16,["vertical","selected-index","class","onChange"])}const Zo=Oe(Qo,[["render",Yo]]),el={key:0,class:"relative"},tl={class:"absolute bottom-0 right-20"},nl={class:"animate-pulse",style:{width:"30px"}},yl=A({__name:"[id]",async setup(e){let o,u;const f=W(),n=Wt(),l=Tt(),d=B(()=>l.params.id),p=U({}),{refresh:_}=([o,u]=X(async()=>ut("anketa",async()=>{const k=await f("/api/persons/"+d.value);p.value=k})),o=await o,u(),o),c=[{slot:"anketaTab",label:"Анкета",icon:"i-heroicons-user"},{slot:"checkTab",label:"Проверки",icon:"i-heroicons-check-circle"},{slot:"poligrafTab",label:"Полиграф",icon:"i-heroicons-bolt"},{slot:"investigateTab",label:"Расследования",icon:"i-heroicons-briefcase"},{slot:"inquiryTab",label:"Запросы",icon:"i-heroicons-document-text"}],y={current:{label:"Анкета редактируется текущим пользователем",color:"green"},thirdparty:{label:"Анкета редактируется другим пользователем",color:"red"},others:{label:"Анкета не редактируется пользователями",color:"blue"}},m=B(()=>{if(p.value.editable){if(p.value.user_id==n.value.id)return y.current;if(p.value.user_id!=n.value.id)return y.thirdparty}return y.others}),r=B(()=>p.value.editable&&n.value.role=="user"&&n.value.id==p.value.user_id);async function w(){confirm("Вы действительно хотите включить/выключить режим правки")&&(await f("/api/self/"+d.value),_())}return zt((k,b,S)=>{Ht(),S()}),(k,b)=>{const S=En,h=Re,g=G,D=At,O=vo,F=So,x=xo,T=Mo,C=Ko,M=Zo;return i(),$("div",null,[a(S,{"cand-id":t(d),destination:t(p).destination,editable:t(r)},null,8,["cand-id","destination","editable"]),t(n).role=="user"?(i(),$("div",el,[J("div",tl,[a(g,{variant:"link",size:"xl",onClick:w},{default:s(()=>[J("div",nl,[a(h,{color:t(m).color,variant:"solid"},{default:s(()=>[E(V(t(m).label),1)]),_:1},8,["color"])])]),_:1})])])):z("",!0),a(D,{div:"py-3",header:`${t(p).surname} ${t(p).firstname} ${t(p).patronymic?t(p).patronymic:""}`},null,8,["header"]),a(M,{items:c},{anketaTab:s(()=>[a(O,{"cand-id":t(d),editable:t(r),person:t(p),onUpdate:t(_)},null,8,["cand-id","editable","person","onUpdate"])]),checkTab:s(()=>[a(F,{"cand-id":t(d),editable:t(r)},null,8,["cand-id","editable"])]),poligrafTab:s(()=>[a(x,{"cand-id":t(d),editable:t(r)},null,8,["cand-id","editable"])]),investigateTab:s(()=>[a(T,{"cand-id":t(d),editable:t(r)},null,8,["cand-id","editable"])]),inquiryTab:s(()=>[a(C,{"cand-id":t(d),editable:t(r)},null,8,["cand-id","editable"])]),_:1})])}}});export{yl as default};
