import{_ as x,a as V,b as C}from"./D0Q5Al_0.js";import{_ as D}from"./COsqmAdu.js";import{_ as U}from"./4EjplHiU.js";import{_ as S}from"./Bf7Arzfu.js";import{s as L,a as $}from"./Cthp-bJU.js";import{a as k}from"./Bv7hFFh9.js";import{f as z,r as F,g as A,h as B,w as r,o as I,b as o,i as e,a}from"./BL57t9pv.js";import"./HY00hp42.js";import"./BNoJJA1K.js";const M={class:"my-8"},N={class:"flex grid grid-cols-12 gap-3 mt-8"},O={class:"col-span-2"},E={class:"col-span-2"},G={class:"px-3"},H={class:"col-span-2"},T={class:"px-3"},Z=z({__name:"info",async setup(Y){let l,d;const u=$(),m=L(),i=new Date,t=F({region:m.value.region,start:new Date(i.getFullYear(),i.getMonth(),1).toISOString().slice(0,10),end:i.toISOString().slice(0,10)}),{refresh:c,data:g,status:f}=([l,d]=A(async()=>k("statistics",async()=>await u("/api/information",{params:{start:t.value.start,end:t.value.end,region:t.value.region}}))),l=await l,d(),l);return(h,n)=>{const y=x,v=D,b=U,_=V,p=C,w=S;return I(),B(w,null,{default:r(()=>[o(y,{div:"py-1",header:`Информация по региону ${e(t).region.toLocaleUpperCase()} за период с ${new Date(e(t).start).toLocaleDateString()} г. по ${new Date(e(t).end).toLocaleDateString()} г.`},null,8,["header"]),a("div",M,[o(v,{loading:e(f)=="pending",progress:{color:"red",animation:"swing"},rows:e(g),columns:[{key:"conclusion",label:"Решение"},{key:"count",label:"Количество"}]},null,8,["loading","rows"]),a("div",N,[a("div",O,[o(_,{class:"mb-3",size:"md",label:"Регион"},{default:r(()=>[o(b,{modelValue:e(t).region,"onUpdate:modelValue":n[0]||(n[0]=s=>e(t).region=s),disable:e(m).region!="main",options:["Главный офис","РЦ Юг","РЦ Запад","РЦ Урал","РЦ Восток"],onChange:e(c)},null,8,["modelValue","disable","onChange"])]),_:1})]),a("div",E,[a("div",G,[o(_,{size:"md",label:"Начало периода"},{default:r(()=>[o(p,{modelValue:e(t).start,"onUpdate:modelValue":n[1]||(n[1]=s=>e(t).start=s),type:"date",onChange:e(c)},null,8,["modelValue","onChange"])]),_:1})])]),a("div",H,[a("div",T,[o(_,{size:"md",label:"Конец периода"},{default:r(()=>[o(p,{modelValue:e(t).end,"onUpdate:modelValue":n[2]||(n[2]=s=>e(t).end=s),type:"date",onChange:e(c)},null,8,["modelValue","onChange"])]),_:1})])])])])]),_:1})}}});export{Z as default};
